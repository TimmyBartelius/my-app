(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function r(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=r(l);fetch(l.href,u)}})();function h_(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Qh={exports:{}},Go={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Py;function qE(){if(Py)return Go;Py=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(a,l,u){var h=null;if(u!==void 0&&(h=""+u),l.key!==void 0&&(h=""+l.key),"key"in l){u={};for(var f in l)f!=="key"&&(u[f]=l[f])}else u=l;return l=u.ref,{$$typeof:s,type:a,key:h,ref:l!==void 0?l:null,props:u}}return Go.Fragment=t,Go.jsx=r,Go.jsxs=r,Go}var Uy;function HE(){return Uy||(Uy=1,Qh.exports=qE()),Qh.exports}var ue=HE(),Yh={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zy;function FE(){if(zy)return De;zy=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),m=Symbol.iterator;function p(q){return q===null||typeof q!="object"?null:(q=m&&q[m]||q["@@iterator"],typeof q=="function"?q:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function R(q,W,le){this.props=q,this.context=W,this.refs=y,this.updater=le||b}R.prototype.isReactComponent={},R.prototype.setState=function(q,W){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,W,"setState")},R.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function E(){}E.prototype=R.prototype;function S(q,W,le){this.props=q,this.context=W,this.refs=y,this.updater=le||b}var D=S.prototype=new E;D.constructor=S,g(D,R.prototype),D.isPureReactComponent=!0;var M=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},z=Object.prototype.hasOwnProperty;function N(q,W,le,oe,ge,xe){return le=xe.ref,{$$typeof:s,type:q,key:W,ref:le!==void 0?le:null,props:xe}}function A(q,W){return N(q.type,W,void 0,void 0,void 0,q.props)}function C(q){return typeof q=="object"&&q!==null&&q.$$typeof===s}function O(q){var W={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(le){return W[le]})}var L=/\/+/g;function $(q,W){return typeof q=="object"&&q!==null&&q.key!=null?O(""+q.key):W.toString(36)}function P(){}function fe(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(P,P):(q.status="pending",q.then(function(W){q.status==="pending"&&(q.status="fulfilled",q.value=W)},function(W){q.status==="pending"&&(q.status="rejected",q.reason=W)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function he(q,W,le,oe,ge){var xe=typeof q;(xe==="undefined"||xe==="boolean")&&(q=null);var Ee=!1;if(q===null)Ee=!0;else switch(xe){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(q.$$typeof){case s:case t:Ee=!0;break;case w:return Ee=q._init,he(Ee(q._payload),W,le,oe,ge)}}if(Ee)return ge=ge(q),Ee=oe===""?"."+$(q,0):oe,M(ge)?(le="",Ee!=null&&(le=Ee.replace(L,"$&/")+"/"),he(ge,W,le,"",function(Un){return Un})):ge!=null&&(C(ge)&&(ge=A(ge,le+(ge.key==null||q&&q.key===ge.key?"":(""+ge.key).replace(L,"$&/")+"/")+Ee)),W.push(ge)),1;Ee=0;var tt=oe===""?".":oe+":";if(M(q))for(var We=0;We<q.length;We++)oe=q[We],xe=tt+$(oe,We),Ee+=he(oe,W,le,xe,ge);else if(We=p(q),typeof We=="function")for(q=We.call(q),We=0;!(oe=q.next()).done;)oe=oe.value,xe=tt+$(oe,We++),Ee+=he(oe,W,le,xe,ge);else if(xe==="object"){if(typeof q.then=="function")return he(fe(q),W,le,oe,ge);throw W=String(q),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function K(q,W,le){if(q==null)return q;var oe=[],ge=0;return he(q,oe,"","",function(xe){return W.call(le,xe,ge++)}),oe}function se(q){if(q._status===-1){var W=q._result;W=W(),W.then(function(le){(q._status===0||q._status===-1)&&(q._status=1,q._result=le)},function(le){(q._status===0||q._status===-1)&&(q._status=2,q._result=le)}),q._status===-1&&(q._status=0,q._result=W)}if(q._status===1)return q._result.default;throw q._result}var de=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function Se(){}return De.Children={map:K,forEach:function(q,W,le){K(q,function(){W.apply(this,arguments)},le)},count:function(q){var W=0;return K(q,function(){W++}),W},toArray:function(q){return K(q,function(W){return W})||[]},only:function(q){if(!C(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},De.Component=R,De.Fragment=r,De.Profiler=l,De.PureComponent=S,De.StrictMode=a,De.Suspense=_,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,De.__COMPILER_RUNTIME={__proto__:null,c:function(q){return k.H.useMemoCache(q)}},De.cache=function(q){return function(){return q.apply(null,arguments)}},De.cloneElement=function(q,W,le){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var oe=g({},q.props),ge=q.key,xe=void 0;if(W!=null)for(Ee in W.ref!==void 0&&(xe=void 0),W.key!==void 0&&(ge=""+W.key),W)!z.call(W,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&W.ref===void 0||(oe[Ee]=W[Ee]);var Ee=arguments.length-2;if(Ee===1)oe.children=le;else if(1<Ee){for(var tt=Array(Ee),We=0;We<Ee;We++)tt[We]=arguments[We+2];oe.children=tt}return N(q.type,ge,void 0,void 0,xe,oe)},De.createContext=function(q){return q={$$typeof:h,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:u,_context:q},q},De.createElement=function(q,W,le){var oe,ge={},xe=null;if(W!=null)for(oe in W.key!==void 0&&(xe=""+W.key),W)z.call(W,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ge[oe]=W[oe]);var Ee=arguments.length-2;if(Ee===1)ge.children=le;else if(1<Ee){for(var tt=Array(Ee),We=0;We<Ee;We++)tt[We]=arguments[We+2];ge.children=tt}if(q&&q.defaultProps)for(oe in Ee=q.defaultProps,Ee)ge[oe]===void 0&&(ge[oe]=Ee[oe]);return N(q,xe,void 0,void 0,null,ge)},De.createRef=function(){return{current:null}},De.forwardRef=function(q){return{$$typeof:f,render:q}},De.isValidElement=C,De.lazy=function(q){return{$$typeof:w,_payload:{_status:-1,_result:q},_init:se}},De.memo=function(q,W){return{$$typeof:v,type:q,compare:W===void 0?null:W}},De.startTransition=function(q){var W=k.T,le={};k.T=le;try{var oe=q(),ge=k.S;ge!==null&&ge(le,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Se,de)}catch(xe){de(xe)}finally{k.T=W}},De.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},De.use=function(q){return k.H.use(q)},De.useActionState=function(q,W,le){return k.H.useActionState(q,W,le)},De.useCallback=function(q,W){return k.H.useCallback(q,W)},De.useContext=function(q){return k.H.useContext(q)},De.useDebugValue=function(){},De.useDeferredValue=function(q,W){return k.H.useDeferredValue(q,W)},De.useEffect=function(q,W,le){var oe=k.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(q,W)},De.useId=function(){return k.H.useId()},De.useImperativeHandle=function(q,W,le){return k.H.useImperativeHandle(q,W,le)},De.useInsertionEffect=function(q,W){return k.H.useInsertionEffect(q,W)},De.useLayoutEffect=function(q,W){return k.H.useLayoutEffect(q,W)},De.useMemo=function(q,W){return k.H.useMemo(q,W)},De.useOptimistic=function(q,W){return k.H.useOptimistic(q,W)},De.useReducer=function(q,W,le){return k.H.useReducer(q,W,le)},De.useRef=function(q){return k.H.useRef(q)},De.useState=function(q){return k.H.useState(q)},De.useSyncExternalStore=function(q,W,le){return k.H.useSyncExternalStore(q,W,le)},De.useTransition=function(){return k.H.useTransition()},De.version="19.1.0",De}var $y;function kd(){return $y||($y=1,Yh.exports=FE()),Yh.exports}var ee=kd();const GE=h_(ee);var Kh={exports:{}},Qo={},Xh={exports:{}},Zh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By;function QE(){return By||(By=1,function(s){function t(K,se){var de=K.length;K.push(se);e:for(;0<de;){var Se=de-1>>>1,q=K[Se];if(0<l(q,se))K[Se]=se,K[de]=q,de=Se;else break e}}function r(K){return K.length===0?null:K[0]}function a(K){if(K.length===0)return null;var se=K[0],de=K.pop();if(de!==se){K[0]=de;e:for(var Se=0,q=K.length,W=q>>>1;Se<W;){var le=2*(Se+1)-1,oe=K[le],ge=le+1,xe=K[ge];if(0>l(oe,de))ge<q&&0>l(xe,oe)?(K[Se]=xe,K[ge]=de,Se=ge):(K[Se]=oe,K[le]=de,Se=le);else if(ge<q&&0>l(xe,de))K[Se]=xe,K[ge]=de,Se=ge;else break e}}return se}function l(K,se){var de=K.sortIndex-se.sortIndex;return de!==0?de:K.id-se.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var h=Date,f=h.now();s.unstable_now=function(){return h.now()-f}}var _=[],v=[],w=1,m=null,p=3,b=!1,g=!1,y=!1,R=!1,E=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function M(K){for(var se=r(v);se!==null;){if(se.callback===null)a(v);else if(se.startTime<=K)a(v),se.sortIndex=se.expirationTime,t(_,se);else break;se=r(v)}}function k(K){if(y=!1,M(K),!g)if(r(_)!==null)g=!0,z||(z=!0,$());else{var se=r(v);se!==null&&he(k,se.startTime-K)}}var z=!1,N=-1,A=5,C=-1;function O(){return R?!0:!(s.unstable_now()-C<A)}function L(){if(R=!1,z){var K=s.unstable_now();C=K;var se=!0;try{e:{g=!1,y&&(y=!1,S(N),N=-1),b=!0;var de=p;try{t:{for(M(K),m=r(_);m!==null&&!(m.expirationTime>K&&O());){var Se=m.callback;if(typeof Se=="function"){m.callback=null,p=m.priorityLevel;var q=Se(m.expirationTime<=K);if(K=s.unstable_now(),typeof q=="function"){m.callback=q,M(K),se=!0;break t}m===r(_)&&a(_),M(K)}else a(_);m=r(_)}if(m!==null)se=!0;else{var W=r(v);W!==null&&he(k,W.startTime-K),se=!1}}break e}finally{m=null,p=de,b=!1}se=void 0}}finally{se?$():z=!1}}}var $;if(typeof D=="function")$=function(){D(L)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,fe=P.port2;P.port1.onmessage=L,$=function(){fe.postMessage(null)}}else $=function(){E(L,0)};function he(K,se){N=E(function(){K(s.unstable_now())},se)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(K){K.callback=null},s.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<K?Math.floor(1e3/K):5},s.unstable_getCurrentPriorityLevel=function(){return p},s.unstable_next=function(K){switch(p){case 1:case 2:case 3:var se=3;break;default:se=p}var de=p;p=se;try{return K()}finally{p=de}},s.unstable_requestPaint=function(){R=!0},s.unstable_runWithPriority=function(K,se){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var de=p;p=K;try{return se()}finally{p=de}},s.unstable_scheduleCallback=function(K,se,de){var Se=s.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Se+de:Se):de=Se,K){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=de+q,K={id:w++,callback:se,priorityLevel:K,startTime:de,expirationTime:q,sortIndex:-1},de>Se?(K.sortIndex=de,t(v,K),r(_)===null&&K===r(v)&&(y?(S(N),N=-1):y=!0,he(k,de-Se))):(K.sortIndex=q,t(_,K),g||b||(g=!0,z||(z=!0,$()))),K},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(K){var se=p;return function(){var de=p;p=se;try{return K.apply(this,arguments)}finally{p=de}}}}(Zh)),Zh}var qy;function YE(){return qy||(qy=1,Xh.exports=QE()),Xh.exports}var Jh={exports:{}},Ht={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hy;function KE(){if(Hy)return Ht;Hy=1;var s=kd();function t(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)v+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(_,v,w){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:m==null?null:""+m,children:_,containerInfo:v,implementation:w}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ht.createPortal=function(_,v){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return u(_,v,null,w)},Ht.flushSync=function(_){var v=h.T,w=a.p;try{if(h.T=null,a.p=2,_)return _()}finally{h.T=v,a.p=w,a.d.f()}},Ht.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},Ht.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Ht.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var w=v.as,m=f(w,v.crossOrigin),p=typeof v.integrity=="string"?v.integrity:void 0,b=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;w==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:m,integrity:p,fetchPriority:b}):w==="script"&&a.d.X(_,{crossOrigin:m,integrity:p,fetchPriority:b,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Ht.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var w=f(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},Ht.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var w=v.as,m=f(w,v.crossOrigin);a.d.L(_,w,{crossOrigin:m,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Ht.preloadModule=function(_,v){if(typeof _=="string")if(v){var w=f(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},Ht.requestFormReset=function(_){a.d.r(_)},Ht.unstable_batchedUpdates=function(_,v){return _(v)},Ht.useFormState=function(_,v,w){return h.H.useFormState(_,v,w)},Ht.useFormStatus=function(){return h.H.useHostTransitionStatus()},Ht.version="19.1.0",Ht}var Fy;function XE(){if(Fy)return Jh.exports;Fy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Jh.exports=KE(),Jh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gy;function ZE(){if(Gy)return Qo;Gy=1;var s=YE(),t=kd(),r=XE();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function f(e){if(u(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(a(188));return n!==e?null:e}for(var i=e,o=n;;){var d=i.return;if(d===null)break;var T=d.alternate;if(T===null){if(o=d.return,o!==null){i=o;continue}break}if(d.child===T.child){for(T=d.child;T;){if(T===i)return f(d),e;if(T===o)return f(d),n;T=T.sibling}throw Error(a(188))}if(i.return!==o.return)i=d,o=T;else{for(var V=!1,j=d.child;j;){if(j===i){V=!0,i=d,o=T;break}if(j===o){V=!0,o=d,i=T;break}j=j.sibling}if(!V){for(j=T.child;j;){if(j===i){V=!0,i=T,o=d;break}if(j===o){V=!0,o=T,i=d;break}j=j.sibling}if(!V)throw Error(a(189))}}if(i.alternate!==o)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,m=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),D=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function $(e){return e===null||typeof e!="object"?null:(e=L&&e[L]||e["@@iterator"],typeof e=="function"?e:null)}var P=Symbol.for("react.client.reference");function fe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===P?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case g:return"Fragment";case R:return"Profiler";case y:return"StrictMode";case k:return"Suspense";case z:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case b:return"Portal";case D:return(e.displayName||"Context")+".Provider";case S:return(e._context.displayName||"Context")+".Consumer";case M:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:fe(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return fe(e(n))}catch{}}return null}var he=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Se=[],q=-1;function W(e){return{current:e}}function le(e){0>q||(e.current=Se[q],Se[q]=null,q--)}function oe(e,n){q++,Se[q]=e.current,e.current=n}var ge=W(null),xe=W(null),Ee=W(null),tt=W(null);function We(e,n){switch(oe(Ee,n),oe(xe,e),oe(ge,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?hy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=hy(n),e=dy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}le(ge),oe(ge,e)}function Un(){le(ge),le(xe),le(Ee)}function Hr(e){e.memoizedState!==null&&oe(tt,e);var n=ge.current,i=dy(n,e.type);n!==i&&(oe(xe,e),oe(ge,i))}function ur(e){xe.current===e&&(le(ge),le(xe)),tt.current===e&&(le(tt),$o._currentValue=de)}var Vi=Object.prototype.hasOwnProperty,Mi=s.unstable_scheduleCallback,ki=s.unstable_cancelCallback,ja=s.unstable_shouldYield,Tl=s.unstable_requestPaint,vn=s.unstable_now,Gc=s.unstable_getCurrentPriorityLevel,Pa=s.unstable_ImmediatePriority,Ss=s.unstable_UserBlockingPriority,Li=s.unstable_NormalPriority,Qc=s.unstable_LowPriority,Rs=s.unstable_IdlePriority,Ua=s.log,wl=s.unstable_setDisableYieldValue,lt=null,Fe=null;function on(e){if(typeof Ua=="function"&&wl(e),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(lt,e)}catch{}}var Bt=Math.clz32?Math.clz32:ji,Al=Math.log,Yc=Math.LN2;function ji(e){return e>>>=0,e===0?32:31-(Al(e)/Yc|0)|0}var Pi=256,Ui=4194304;function Nn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xs(e,n,i){var o=e.pendingLanes;if(o===0)return 0;var d=0,T=e.suspendedLanes,V=e.pingedLanes;e=e.warmLanes;var j=o&134217727;return j!==0?(o=j&~T,o!==0?d=Nn(o):(V&=j,V!==0?d=Nn(V):i||(i=j&~e,i!==0&&(d=Nn(i))))):(j=o&~T,j!==0?d=Nn(j):V!==0?d=Nn(V):i||(i=o&~e,i!==0&&(d=Nn(i)))),d===0?0:n!==0&&n!==d&&(n&T)===0&&(T=d&-d,i=n&-n,T>=i||T===32&&(i&4194048)!==0)?n:d}function zi(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function za(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $a(){var e=Pi;return Pi<<=1,(Pi&4194048)===0&&(Pi=256),e}function Ba(){var e=Ui;return Ui<<=1,(Ui&62914560)===0&&(Ui=4194304),e}function cr(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function fr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function qa(e,n,i,o,d,T){var V=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var j=e.entanglements,B=e.expirationTimes,Y=e.hiddenUpdates;for(i=V&~i;0<i;){var te=31-Bt(i),re=1<<te;j[te]=0,B[te]=-1;var X=Y[te];if(X!==null)for(Y[te]=null,te=0;te<X.length;te++){var Z=X[te];Z!==null&&(Z.lane&=-536870913)}i&=~re}o!==0&&zn(e,o,0),T!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=T&~(V&~n))}function zn(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Bt(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|i&4194090}function Ha(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var o=31-Bt(i),d=1<<o;d&n|e[o]&n&&(e[o]|=n),i&=~d}}function Fr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Cs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Gr(){var e=se.p;return e!==0?e:(e=window.event,e===void 0?32:Ny(e.type))}function Sl(e,n){var i=se.p;try{return se.p=e,n()}finally{se.p=i}}var nt=Math.random().toString(36).slice(2),bt="__reactFiber$"+nt,pt="__reactProps$"+nt,_n="__reactContainer$"+nt,Fa="__reactEvents$"+nt,Kc="__reactListeners$"+nt,Qr="__reactHandles$"+nt,Rl="__reactResources$"+nt,$i="__reactMarker$"+nt;function Yr(e){delete e[bt],delete e[pt],delete e[Fa],delete e[Kc],delete e[Qr]}function hr(e){var n=e[bt];if(n)return n;for(var i=e.parentNode;i;){if(n=i[_n]||i[bt]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=yy(e);e!==null;){if(i=e[bt])return i;e=yy(e)}return n}e=i,i=e.parentNode}return null}function $n(e){if(e=e[bt]||e[_n]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Bn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Kt(e){var n=e[Rl];return n||(n=e[Rl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ft(e){e[$i]=!0}var Ga=new Set,Ds={};function Vn(e,n){dr(e,n),dr(e+"Capture",n)}function dr(e,n){for(Ds[e]=n,e=0;e<n.length;e++)Ga.add(n[e])}var xl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cl={},Bi={};function Dl(e){return Vi.call(Bi,e)?!0:Vi.call(Cl,e)?!1:xl.test(e)?Bi[e]=!0:(Cl[e]=!0,!1)}function Kr(e,n,i){if(Dl(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function qn(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function Mt(e,n,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+o)}}var qi,Ol;function mr(e){if(qi===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);qi=n&&n[1]||"",Ol=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qi+e+Ol}var Os=!1;function Is(e,n){if(!e||Os)return"";Os=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(Z){var X=Z}Reflect.construct(e,[],re)}else{try{re.call()}catch(Z){X=Z}e.call(re.prototype)}}else{try{throw Error()}catch(Z){X=Z}(re=e())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(Z){if(Z&&X&&typeof Z.stack=="string")return[Z.stack,X.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=o.DetermineComponentFrameRoot(),V=T[0],j=T[1];if(V&&j){var B=V.split(`
`),Y=j.split(`
`);for(d=o=0;o<B.length&&!B[o].includes("DetermineComponentFrameRoot");)o++;for(;d<Y.length&&!Y[d].includes("DetermineComponentFrameRoot");)d++;if(o===B.length||d===Y.length)for(o=B.length-1,d=Y.length-1;1<=o&&0<=d&&B[o]!==Y[d];)d--;for(;1<=o&&0<=d;o--,d--)if(B[o]!==Y[d]){if(o!==1||d!==1)do if(o--,d--,0>d||B[o]!==Y[d]){var te=`
`+B[o].replace(" at new "," at ");return e.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",e.displayName)),te}while(1<=o&&0<=d);break}}}finally{Os=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?mr(i):""}function Qa(e){switch(e.tag){case 26:case 27:case 5:return mr(e.type);case 16:return mr("Lazy");case 13:return mr("Suspense");case 19:return mr("SuspenseList");case 0:case 15:return Is(e.type,!1);case 11:return Is(e.type.render,!1);case 1:return Is(e.type,!0);case 31:return mr("Activity");default:return""}}function Ns(e){try{var n="";do n+=Qa(e),e=e.return;while(e);return n}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function Xt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ya(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Xc(e){var n=Ya(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var d=i.get,T=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(V){o=""+V,T.call(this,V)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(V){o=""+V},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Vs(e){e._valueTracker||(e._valueTracker=Xc(e))}function Ka(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),o="";return e&&(o=Ya(e)?e.checked?"true":"false":e.value),e=o,e!==i?(n.setValue(e),!0):!1}function Hi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Zc=/[\n"\\]/g;function gt(e){return e.replace(Zc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ln(e,n,i,o,d,T,V,j){e.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?e.type=V:e.removeAttribute("type"),n!=null?V==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Xt(n)):e.value!==""+Xt(n)&&(e.value=""+Xt(n)):V!=="submit"&&V!=="reset"||e.removeAttribute("value"),n!=null?Xr(e,V,Xt(n)):i!=null?Xr(e,V,Xt(i)):o!=null&&e.removeAttribute("value"),d==null&&T!=null&&(e.defaultChecked=!!T),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?e.name=""+Xt(j):e.removeAttribute("name")}function Fi(e,n,i,o,d,T,V,j){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.type=T),n!=null||i!=null){if(!(T!=="submit"&&T!=="reset"||n!=null))return;i=i!=null?""+Xt(i):"",n=n!=null?""+Xt(n):i,j||n===e.value||(e.value=n),e.defaultValue=n}o=o??d,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=j?e.checked:!!o,e.defaultChecked=!!o,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(e.name=V)}function Xr(e,n,i){n==="number"&&Hi(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function pr(e,n,i,o){if(e=e.options,n){n={};for(var d=0;d<i.length;d++)n["$"+i[d]]=!0;for(i=0;i<e.length;i++)d=n.hasOwnProperty("$"+e[i].value),e[i].selected!==d&&(e[i].selected=d),d&&o&&(e[i].defaultSelected=!0)}else{for(i=""+Xt(i),n=null,d=0;d<e.length;d++){if(e[d].value===i){e[d].selected=!0,o&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function Ye(e,n,i){if(n!=null&&(n=""+Xt(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+Xt(i):""}function Gi(e,n,i,o){if(n==null){if(o!=null){if(i!=null)throw Error(a(92));if(he(o)){if(1<o.length)throw Error(a(93));o=o[0]}i=o}i==null&&(i=""),n=i}i=Xt(n),e.defaultValue=i,o=e.textContent,o===i&&o!==""&&o!==null&&(e.value=o)}function bn(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var Qi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Il(e,n,i){var o=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,i):typeof i!="number"||i===0||Qi.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function Xa(e,n,i){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var d in n)o=n[d],n.hasOwnProperty(d)&&i[d]!==o&&Il(e,d,o)}else for(var T in n)n.hasOwnProperty(T)&&Il(e,T,n[T])}function Za(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ms(e){return Wc.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var gr=null;function En(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yr=null,vr=null;function Ja(e){var n=$n(e);if(n&&(e=n.stateNode)){var i=e[pt]||null;e:switch(e=n.stateNode,n.type){case"input":if(ln(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+gt(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var o=i[n];if(o!==e&&o.form===e.form){var d=o[pt]||null;if(!d)throw Error(a(90));ln(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<i.length;n++)o=i[n],o.form===e.form&&Ka(o)}break e;case"textarea":Ye(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&pr(e,!!i.multiple,n,!1)}}}var Hn=!1;function Nl(e,n,i){if(Hn)return e(n,i);Hn=!0;try{var o=e(n);return o}finally{if(Hn=!1,(yr!==null||vr!==null)&&(Su(),yr&&(n=yr,e=vr,vr=yr=null,Ja(n),e)))for(n=0;n<e.length;n++)Ja(e[n])}}function Yi(e,n){var i=e.stateNode;if(i===null)return null;var o=i[pt]||null;if(o===null)return null;i=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(a(231,n,typeof i));return i}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tn=!1;if(Mn)try{var Ki={};Object.defineProperty(Ki,"passive",{get:function(){Tn=!0}}),window.addEventListener("test",Ki,Ki),window.removeEventListener("test",Ki,Ki)}catch{Tn=!1}var Fn=null,Zr=null,_r=null;function Wa(){if(_r)return _r;var e,n=Zr,i=n.length,o,d="value"in Fn?Fn.value:Fn.textContent,T=d.length;for(e=0;e<i&&n[e]===d[e];e++);var V=i-e;for(o=1;o<=V&&n[i-o]===d[T-o];o++);return _r=d.slice(e,1<o?1-o:void 0)}function Gn(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Qn(){return!0}function eo(){return!1}function Ct(e){function n(i,o,d,T,V){this._reactName=i,this._targetInst=d,this.type=o,this.nativeEvent=T,this.target=V,this.currentTarget=null;for(var j in e)e.hasOwnProperty(j)&&(i=e[j],this[j]=i?i(T):T[j]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Qn:eo,this.isPropagationStopped=eo,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){},isPersistent:Qn}),n}var qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ks=Ct(qe),Xi=w({},qe,{view:0,detail:0}),Vl=Ct(Xi),Ls,js,Yn,Zi=w({},Xi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:es,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yn&&(Yn&&e.type==="mousemove"?(Ls=e.screenX-Yn.screenX,js=e.screenY-Yn.screenY):js=Ls=0,Yn=e),Ls)},movementY:function(e){return"movementY"in e?e.movementY:js}}),wn=Ct(Zi),Ml=w({},Zi,{dataTransfer:0}),ef=Ct(Ml),Ji=w({},Xi,{relatedTarget:0}),Ps=Ct(Ji),to=w({},qe,{animationName:0,elapsedTime:0,pseudoElement:0}),Us=Ct(to),kl=w({},qe,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zs=Ct(kl),tf=w({},qe,{data:0}),no=Ct(tf),Wi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ll={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ro(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=jl[e])?!!n[e]:!1}function es(){return ro}var Pl=w({},Xi,{key:function(e){if(e.key){var n=Wi[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Gn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ll[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:es,charCode:function(e){return e.type==="keypress"?Gn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$s=Ct(Pl),Ul=w({},Zi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),io=Ct(Ul),br=w({},Xi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:es}),zl=Ct(br),$l=w({},qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bl=Ct($l),ql=w({},Zi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bs=Ct(ql),Zt=w({},qe,{newState:0,oldState:0}),Hl=Ct(Zt),Fl=[9,13,27,32],Kn=Mn&&"CompositionEvent"in window,c=null;Mn&&"documentMode"in document&&(c=document.documentMode);var x=Mn&&"TextEvent"in window&&!c,I=Mn&&(!Kn||c&&8<c&&11>=c),U=" ",G=!1;function J(e,n){switch(e){case"keyup":return Fl.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Le=!1;function Et(e,n){switch(e){case"compositionend":return ce(n);case"keypress":return n.which!==32?null:(G=!0,U);case"textInput":return e=n.data,e===U&&G?null:e;default:return null}}function je(e,n){if(Le)return e==="compositionend"||!Kn&&J(e,n)?(e=Wa(),_r=Zr=Fn=null,Le=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return I&&n.locale!=="ko"?null:n.data;default:return null}}var Dt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tt(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Dt[e.type]:n==="textarea"}function Er(e,n,i,o){yr?vr?vr.push(o):vr=[o]:yr=o,n=Iu(n,"onChange"),0<n.length&&(i=new ks("onChange","change",null,i,o),e.push({event:i,listeners:n}))}var kt=null,Xn=null;function so(e){oy(e,0)}function Gl(e){var n=Bn(e);if(Ka(n))return e}function Cm(e,n){if(e==="change")return n}var Dm=!1;if(Mn){var nf;if(Mn){var rf="oninput"in document;if(!rf){var Om=document.createElement("div");Om.setAttribute("oninput","return;"),rf=typeof Om.oninput=="function"}nf=rf}else nf=!1;Dm=nf&&(!document.documentMode||9<document.documentMode)}function Im(){kt&&(kt.detachEvent("onpropertychange",Nm),Xn=kt=null)}function Nm(e){if(e.propertyName==="value"&&Gl(Xn)){var n=[];Er(n,Xn,e,En(e)),Nl(so,n)}}function _0(e,n,i){e==="focusin"?(Im(),kt=n,Xn=i,kt.attachEvent("onpropertychange",Nm)):e==="focusout"&&Im()}function b0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gl(Xn)}function E0(e,n){if(e==="click")return Gl(n)}function T0(e,n){if(e==="input"||e==="change")return Gl(n)}function w0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var un=typeof Object.is=="function"?Object.is:w0;function ao(e,n){if(un(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),o=Object.keys(n);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var d=i[o];if(!Vi.call(n,d)||!un(e[d],n[d]))return!1}return!0}function Vm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mm(e,n){var i=Vm(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=n&&o>=n)return{node:i,offset:n-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Vm(i)}}function km(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?km(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Lm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Hi(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=Hi(e.document)}return n}function sf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var A0=Mn&&"documentMode"in document&&11>=document.documentMode,qs=null,af=null,oo=null,of=!1;function jm(e,n,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;of||qs==null||qs!==Hi(o)||(o=qs,"selectionStart"in o&&sf(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),oo&&ao(oo,o)||(oo=o,o=Iu(af,"onSelect"),0<o.length&&(n=new ks("onSelect","select",null,n,i),e.push({event:n,listeners:o}),n.target=qs)))}function ts(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Hs={animationend:ts("Animation","AnimationEnd"),animationiteration:ts("Animation","AnimationIteration"),animationstart:ts("Animation","AnimationStart"),transitionrun:ts("Transition","TransitionRun"),transitionstart:ts("Transition","TransitionStart"),transitioncancel:ts("Transition","TransitionCancel"),transitionend:ts("Transition","TransitionEnd")},lf={},Pm={};Mn&&(Pm=document.createElement("div").style,"AnimationEvent"in window||(delete Hs.animationend.animation,delete Hs.animationiteration.animation,delete Hs.animationstart.animation),"TransitionEvent"in window||delete Hs.transitionend.transition);function ns(e){if(lf[e])return lf[e];if(!Hs[e])return e;var n=Hs[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in Pm)return lf[e]=n[i];return e}var Um=ns("animationend"),zm=ns("animationiteration"),$m=ns("animationstart"),S0=ns("transitionrun"),R0=ns("transitionstart"),x0=ns("transitioncancel"),Bm=ns("transitionend"),qm=new Map,uf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");uf.push("scrollEnd");function kn(e,n){qm.set(e,n),Vn(n,[e])}var Hm=new WeakMap;function An(e,n){if(typeof e=="object"&&e!==null){var i=Hm.get(e);return i!==void 0?i:(n={value:e,source:n,stack:Ns(n)},Hm.set(e,n),n)}return{value:e,source:n,stack:Ns(n)}}var Sn=[],Fs=0,cf=0;function Ql(){for(var e=Fs,n=cf=Fs=0;n<e;){var i=Sn[n];Sn[n++]=null;var o=Sn[n];Sn[n++]=null;var d=Sn[n];Sn[n++]=null;var T=Sn[n];if(Sn[n++]=null,o!==null&&d!==null){var V=o.pending;V===null?d.next=d:(d.next=V.next,V.next=d),o.pending=d}T!==0&&Fm(i,d,T)}}function Yl(e,n,i,o){Sn[Fs++]=e,Sn[Fs++]=n,Sn[Fs++]=i,Sn[Fs++]=o,cf|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function ff(e,n,i,o){return Yl(e,n,i,o),Kl(e)}function Gs(e,n){return Yl(e,null,null,n),Kl(e)}function Fm(e,n,i){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i);for(var d=!1,T=e.return;T!==null;)T.childLanes|=i,o=T.alternate,o!==null&&(o.childLanes|=i),T.tag===22&&(e=T.stateNode,e===null||e._visibility&1||(d=!0)),e=T,T=T.return;return e.tag===3?(T=e.stateNode,d&&n!==null&&(d=31-Bt(i),e=T.hiddenUpdates,o=e[d],o===null?e[d]=[n]:o.push(n),n.lane=i|536870912),T):null}function Kl(e){if(50<Vo)throw Vo=0,yh=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Qs={};function C0(e,n,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(e,n,i,o){return new C0(e,n,i,o)}function hf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Tr(e,n){var i=e.alternate;return i===null?(i=cn(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Gm(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Xl(e,n,i,o,d,T){var V=0;if(o=e,typeof e=="function")hf(e)&&(V=1);else if(typeof e=="string")V=OE(e,i,ge.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case C:return e=cn(31,i,n,d),e.elementType=C,e.lanes=T,e;case g:return rs(i.children,d,T,n);case y:V=8,d|=24;break;case R:return e=cn(12,i,n,d|2),e.elementType=R,e.lanes=T,e;case k:return e=cn(13,i,n,d),e.elementType=k,e.lanes=T,e;case z:return e=cn(19,i,n,d),e.elementType=z,e.lanes=T,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case E:case D:V=10;break e;case S:V=9;break e;case M:V=11;break e;case N:V=14;break e;case A:V=16,o=null;break e}V=29,i=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=cn(V,i,n,d),n.elementType=e,n.type=o,n.lanes=T,n}function rs(e,n,i,o){return e=cn(7,e,o,n),e.lanes=i,e}function df(e,n,i){return e=cn(6,e,null,n),e.lanes=i,e}function mf(e,n,i){return n=cn(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ys=[],Ks=0,Zl=null,Jl=0,Rn=[],xn=0,is=null,wr=1,Ar="";function ss(e,n){Ys[Ks++]=Jl,Ys[Ks++]=Zl,Zl=e,Jl=n}function Qm(e,n,i){Rn[xn++]=wr,Rn[xn++]=Ar,Rn[xn++]=is,is=e;var o=wr;e=Ar;var d=32-Bt(o)-1;o&=~(1<<d),i+=1;var T=32-Bt(n)+d;if(30<T){var V=d-d%5;T=(o&(1<<V)-1).toString(32),o>>=V,d-=V,wr=1<<32-Bt(n)+d|i<<d|o,Ar=T+e}else wr=1<<T|i<<d|o,Ar=e}function pf(e){e.return!==null&&(ss(e,1),Qm(e,1,0))}function gf(e){for(;e===Zl;)Zl=Ys[--Ks],Ys[Ks]=null,Jl=Ys[--Ks],Ys[Ks]=null;for(;e===is;)is=Rn[--xn],Rn[xn]=null,Ar=Rn[--xn],Rn[xn]=null,wr=Rn[--xn],Rn[xn]=null}var Jt=null,ut=null,Be=!1,as=null,Zn=!1,yf=Error(a(519));function os(e){var n=Error(a(418,""));throw co(An(n,e)),yf}function Ym(e){var n=e.stateNode,i=e.type,o=e.memoizedProps;switch(n[bt]=e,n[pt]=o,i){case"dialog":Me("cancel",n),Me("close",n);break;case"iframe":case"object":case"embed":Me("load",n);break;case"video":case"audio":for(i=0;i<ko.length;i++)Me(ko[i],n);break;case"source":Me("error",n);break;case"img":case"image":case"link":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"input":Me("invalid",n),Fi(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Vs(n);break;case"select":Me("invalid",n);break;case"textarea":Me("invalid",n),Gi(n,o.value,o.defaultValue,o.children),Vs(n)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||o.suppressHydrationWarning===!0||fy(n.textContent,i)?(o.popover!=null&&(Me("beforetoggle",n),Me("toggle",n)),o.onScroll!=null&&Me("scroll",n),o.onScrollEnd!=null&&Me("scrollend",n),o.onClick!=null&&(n.onclick=Nu),n=!0):n=!1,n||os(e)}function Km(e){for(Jt=e.return;Jt;)switch(Jt.tag){case 5:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:Jt=Jt.return}}function lo(e){if(e!==Jt)return!1;if(!Be)return Km(e),Be=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Vh(e.type,e.memoizedProps)),i=!i),i&&ut&&os(e),Km(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(n===0){ut=jn(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++;e=e.nextSibling}ut=null}}else n===27?(n=ut,di(e.type)?(e=jh,jh=null,ut=e):ut=n):ut=Jt?jn(e.stateNode.nextSibling):null;return!0}function uo(){ut=Jt=null,Be=!1}function Xm(){var e=as;return e!==null&&(nn===null?nn=e:nn.push.apply(nn,e),as=null),e}function co(e){as===null?as=[e]:as.push(e)}var vf=W(null),ls=null,Sr=null;function Jr(e,n,i){oe(vf,n._currentValue),n._currentValue=i}function Rr(e){e._currentValue=vf.current,le(vf)}function _f(e,n,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===i)break;e=e.return}}function bf(e,n,i,o){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var T=d.dependencies;if(T!==null){var V=d.child;T=T.firstContext;e:for(;T!==null;){var j=T;T=d;for(var B=0;B<n.length;B++)if(j.context===n[B]){T.lanes|=i,j=T.alternate,j!==null&&(j.lanes|=i),_f(T.return,i,e),o||(V=null);break e}T=j.next}}else if(d.tag===18){if(V=d.return,V===null)throw Error(a(341));V.lanes|=i,T=V.alternate,T!==null&&(T.lanes|=i),_f(V,i,e),V=null}else V=d.child;if(V!==null)V.return=d;else for(V=d;V!==null;){if(V===e){V=null;break}if(d=V.sibling,d!==null){d.return=V.return,V=d;break}V=V.return}d=V}}function fo(e,n,i,o){e=null;for(var d=n,T=!1;d!==null;){if(!T){if((d.flags&524288)!==0)T=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var V=d.alternate;if(V===null)throw Error(a(387));if(V=V.memoizedProps,V!==null){var j=d.type;un(d.pendingProps.value,V.value)||(e!==null?e.push(j):e=[j])}}else if(d===tt.current){if(V=d.alternate,V===null)throw Error(a(387));V.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push($o):e=[$o])}d=d.return}e!==null&&bf(n,e,i,o),n.flags|=262144}function Wl(e){for(e=e.firstContext;e!==null;){if(!un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function us(e){ls=e,Sr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qt(e){return Zm(ls,e)}function eu(e,n){return ls===null&&us(e),Zm(e,n)}function Zm(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},Sr===null){if(e===null)throw Error(a(308));Sr=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Sr=Sr.next=n;return i}var D0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},O0=s.unstable_scheduleCallback,I0=s.unstable_NormalPriority,wt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ef(){return{controller:new D0,data:new Map,refCount:0}}function ho(e){e.refCount--,e.refCount===0&&O0(I0,function(){e.controller.abort()})}var mo=null,Tf=0,Xs=0,Zs=null;function N0(e,n){if(mo===null){var i=mo=[];Tf=0,Xs=Ah(),Zs={status:"pending",value:void 0,then:function(o){i.push(o)}}}return Tf++,n.then(Jm,Jm),n}function Jm(){if(--Tf===0&&mo!==null){Zs!==null&&(Zs.status="fulfilled");var e=mo;mo=null,Xs=0,Zs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function V0(e,n){var i=[],o={status:"pending",value:null,reason:null,then:function(d){i.push(d)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var d=0;d<i.length;d++)(0,i[d])(n)},function(d){for(o.status="rejected",o.reason=d,d=0;d<i.length;d++)(0,i[d])(void 0)}),o}var Wm=K.S;K.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&N0(e,n),Wm!==null&&Wm(e,n)};var cs=W(null);function wf(){var e=cs.current;return e!==null?e:et.pooledCache}function tu(e,n){n===null?oe(cs,cs.current):oe(cs,n.pool)}function ep(){var e=wf();return e===null?null:{parent:wt._currentValue,pool:e}}var po=Error(a(460)),tp=Error(a(474)),nu=Error(a(542)),Af={then:function(){}};function np(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ru(){}function rp(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(ru,ru),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,sp(e),e;default:if(typeof n.status=="string")n.then(ru,ru);else{if(e=et,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=o}},function(o){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,sp(e),e}throw go=n,po}}var go=null;function ip(){if(go===null)throw Error(a(459));var e=go;return go=null,e}function sp(e){if(e===po||e===nu)throw Error(a(483))}var Wr=!1;function Sf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ei(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ti(e,n,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ge&2)!==0){var d=o.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),o.pending=n,n=Kl(e),Fm(e,null,i),n}return Yl(e,o,n,i),Kl(e)}function yo(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,i|=o,n.lanes=i,Ha(e,i)}}function xf(e,n){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var d=null,T=null;if(i=i.firstBaseUpdate,i!==null){do{var V={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};T===null?d=T=V:T=T.next=V,i=i.next}while(i!==null);T===null?d=T=n:T=T.next=n}else d=T=n;i={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:T,shared:o.shared,callbacks:o.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var Cf=!1;function vo(){if(Cf){var e=Zs;if(e!==null)throw e}}function _o(e,n,i,o){Cf=!1;var d=e.updateQueue;Wr=!1;var T=d.firstBaseUpdate,V=d.lastBaseUpdate,j=d.shared.pending;if(j!==null){d.shared.pending=null;var B=j,Y=B.next;B.next=null,V===null?T=Y:V.next=Y,V=B;var te=e.alternate;te!==null&&(te=te.updateQueue,j=te.lastBaseUpdate,j!==V&&(j===null?te.firstBaseUpdate=Y:j.next=Y,te.lastBaseUpdate=B))}if(T!==null){var re=d.baseState;V=0,te=Y=B=null,j=T;do{var X=j.lane&-536870913,Z=X!==j.lane;if(Z?(Pe&X)===X:(o&X)===X){X!==0&&X===Xs&&(Cf=!0),te!==null&&(te=te.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var Ae=e,be=j;X=n;var Ze=i;switch(be.tag){case 1:if(Ae=be.payload,typeof Ae=="function"){re=Ae.call(Ze,re,X);break e}re=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=be.payload,X=typeof Ae=="function"?Ae.call(Ze,re,X):Ae,X==null)break e;re=w({},re,X);break e;case 2:Wr=!0}}X=j.callback,X!==null&&(e.flags|=64,Z&&(e.flags|=8192),Z=d.callbacks,Z===null?d.callbacks=[X]:Z.push(X))}else Z={lane:X,tag:j.tag,payload:j.payload,callback:j.callback,next:null},te===null?(Y=te=Z,B=re):te=te.next=Z,V|=X;if(j=j.next,j===null){if(j=d.shared.pending,j===null)break;Z=j,j=Z.next,Z.next=null,d.lastBaseUpdate=Z,d.shared.pending=null}}while(!0);te===null&&(B=re),d.baseState=B,d.firstBaseUpdate=Y,d.lastBaseUpdate=te,T===null&&(d.shared.lanes=0),ui|=V,e.lanes=V,e.memoizedState=re}}function ap(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function op(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)ap(i[e],n)}var Js=W(null),iu=W(0);function lp(e,n){e=Vr,oe(iu,e),oe(Js,n),Vr=e|n.baseLanes}function Df(){oe(iu,Vr),oe(Js,Js.current)}function Of(){Vr=iu.current,le(Js),le(iu)}var ni=0,Oe=null,Ke=null,yt=null,su=!1,Ws=!1,fs=!1,au=0,bo=0,ea=null,M0=0;function ht(){throw Error(a(321))}function If(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!un(e[i],n[i]))return!1;return!0}function Nf(e,n,i,o,d,T){return ni=T,Oe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,K.H=e===null||e.memoizedState===null?Fp:Gp,fs=!1,T=i(o,d),fs=!1,Ws&&(T=cp(n,i,o,d)),up(e),T}function up(e){K.H=hu;var n=Ke!==null&&Ke.next!==null;if(ni=0,yt=Ke=Oe=null,su=!1,bo=0,ea=null,n)throw Error(a(300));e===null||Ot||(e=e.dependencies,e!==null&&Wl(e)&&(Ot=!0))}function cp(e,n,i,o){Oe=e;var d=0;do{if(Ws&&(ea=null),bo=0,Ws=!1,25<=d)throw Error(a(301));if(d+=1,yt=Ke=null,e.updateQueue!=null){var T=e.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}K.H=$0,T=n(i,o)}while(Ws);return T}function k0(){var e=K.H,n=e.useState()[0];return n=typeof n.then=="function"?Eo(n):n,e=e.useState()[0],(Ke!==null?Ke.memoizedState:null)!==e&&(Oe.flags|=1024),n}function Vf(){var e=au!==0;return au=0,e}function Mf(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function kf(e){if(su){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}su=!1}ni=0,yt=Ke=Oe=null,Ws=!1,bo=au=0,ea=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Oe.memoizedState=yt=e:yt=yt.next=e,yt}function vt(){if(Ke===null){var e=Oe.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var n=yt===null?Oe.memoizedState:yt.next;if(n!==null)yt=n,Ke=e;else{if(e===null)throw Oe.alternate===null?Error(a(467)):Error(a(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},yt===null?Oe.memoizedState=yt=e:yt=yt.next=e}return yt}function Lf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Eo(e){var n=bo;return bo+=1,ea===null&&(ea=[]),e=rp(ea,e,n),n=Oe,(yt===null?n.memoizedState:yt.next)===null&&(n=n.alternate,K.H=n===null||n.memoizedState===null?Fp:Gp),e}function ou(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Eo(e);if(e.$$typeof===D)return qt(e)}throw Error(a(438,String(e)))}function jf(e){var n=null,i=Oe.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var o=Oe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=Lf(),Oe.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),o=0;o<e;o++)i[o]=O;return n.index++,i}function xr(e,n){return typeof n=="function"?n(e):n}function lu(e){var n=vt();return Pf(n,Ke,e)}function Pf(e,n,i){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=i;var d=e.baseQueue,T=o.pending;if(T!==null){if(d!==null){var V=d.next;d.next=T.next,T.next=V}n.baseQueue=d=T,o.pending=null}if(T=e.baseState,d===null)e.memoizedState=T;else{n=d.next;var j=V=null,B=null,Y=n,te=!1;do{var re=Y.lane&-536870913;if(re!==Y.lane?(Pe&re)===re:(ni&re)===re){var X=Y.revertLane;if(X===0)B!==null&&(B=B.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),re===Xs&&(te=!0);else if((ni&X)===X){Y=Y.next,X===Xs&&(te=!0);continue}else re={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},B===null?(j=B=re,V=T):B=B.next=re,Oe.lanes|=X,ui|=X;re=Y.action,fs&&i(T,re),T=Y.hasEagerState?Y.eagerState:i(T,re)}else X={lane:re,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},B===null?(j=B=X,V=T):B=B.next=X,Oe.lanes|=re,ui|=re;Y=Y.next}while(Y!==null&&Y!==n);if(B===null?V=T:B.next=j,!un(T,e.memoizedState)&&(Ot=!0,te&&(i=Zs,i!==null)))throw i;e.memoizedState=T,e.baseState=V,e.baseQueue=B,o.lastRenderedState=T}return d===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Uf(e){var n=vt(),i=n.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=e;var o=i.dispatch,d=i.pending,T=n.memoizedState;if(d!==null){i.pending=null;var V=d=d.next;do T=e(T,V.action),V=V.next;while(V!==d);un(T,n.memoizedState)||(Ot=!0),n.memoizedState=T,n.baseQueue===null&&(n.baseState=T),i.lastRenderedState=T}return[T,o]}function fp(e,n,i){var o=Oe,d=vt(),T=Be;if(T){if(i===void 0)throw Error(a(407));i=i()}else i=n();var V=!un((Ke||d).memoizedState,i);V&&(d.memoizedState=i,Ot=!0),d=d.queue;var j=mp.bind(null,o,d,e);if(To(2048,8,j,[e]),d.getSnapshot!==n||V||yt!==null&&yt.memoizedState.tag&1){if(o.flags|=2048,ta(9,uu(),dp.bind(null,o,d,i,n),null),et===null)throw Error(a(349));T||(ni&124)!==0||hp(o,n,i)}return i}function hp(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=Oe.updateQueue,n===null?(n=Lf(),Oe.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function dp(e,n,i,o){n.value=i,n.getSnapshot=o,pp(n)&&gp(e)}function mp(e,n,i){return i(function(){pp(n)&&gp(e)})}function pp(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!un(e,i)}catch{return!0}}function gp(e){var n=Gs(e,2);n!==null&&pn(n,e,2)}function zf(e){var n=en();if(typeof e=="function"){var i=e;if(e=i(),fs){on(!0);try{i()}finally{on(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:e},n}function yp(e,n,i,o){return e.baseState=i,Pf(e,Ke,typeof o=="function"?o:xr)}function L0(e,n,i,o,d){if(fu(e))throw Error(a(485));if(e=n.action,e!==null){var T={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){T.listeners.push(V)}};K.T!==null?i(!0):T.isTransition=!1,o(T),i=n.pending,i===null?(T.next=n.pending=T,vp(n,T)):(T.next=i.next,n.pending=i.next=T)}}function vp(e,n){var i=n.action,o=n.payload,d=e.state;if(n.isTransition){var T=K.T,V={};K.T=V;try{var j=i(d,o),B=K.S;B!==null&&B(V,j),_p(e,n,j)}catch(Y){$f(e,n,Y)}finally{K.T=T}}else try{T=i(d,o),_p(e,n,T)}catch(Y){$f(e,n,Y)}}function _p(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){bp(e,n,o)},function(o){return $f(e,n,o)}):bp(e,n,i)}function bp(e,n,i){n.status="fulfilled",n.value=i,Ep(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,vp(e,i)))}function $f(e,n,i){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=i,Ep(n),n=n.next;while(n!==o)}e.action=null}function Ep(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Tp(e,n){return n}function wp(e,n){if(Be){var i=et.formState;if(i!==null){e:{var o=Oe;if(Be){if(ut){t:{for(var d=ut,T=Zn;d.nodeType!==8;){if(!T){d=null;break t}if(d=jn(d.nextSibling),d===null){d=null;break t}}T=d.data,d=T==="F!"||T==="F"?d:null}if(d){ut=jn(d.nextSibling),o=d.data==="F!";break e}}os(o)}o=!1}o&&(n=i[0])}}return i=en(),i.memoizedState=i.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tp,lastRenderedState:n},i.queue=o,i=Bp.bind(null,Oe,o),o.dispatch=i,o=zf(!1),T=Gf.bind(null,Oe,!1,o.queue),o=en(),d={state:n,dispatch:null,action:e,pending:null},o.queue=d,i=L0.bind(null,Oe,d,T,i),d.dispatch=i,o.memoizedState=e,[n,i,!1]}function Ap(e){var n=vt();return Sp(n,Ke,e)}function Sp(e,n,i){if(n=Pf(e,n,Tp)[0],e=lu(xr)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Eo(n)}catch(V){throw V===po?nu:V}else o=n;n=vt();var d=n.queue,T=d.dispatch;return i!==n.memoizedState&&(Oe.flags|=2048,ta(9,uu(),j0.bind(null,d,i),null)),[o,T,e]}function j0(e,n){e.action=n}function Rp(e){var n=vt(),i=Ke;if(i!==null)return Sp(n,i,e);vt(),n=n.memoizedState,i=vt();var o=i.queue.dispatch;return i.memoizedState=e,[n,o,!1]}function ta(e,n,i,o){return e={tag:e,create:i,deps:o,inst:n,next:null},n=Oe.updateQueue,n===null&&(n=Lf(),Oe.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,n.lastEffect=e),e}function uu(){return{destroy:void 0,resource:void 0}}function xp(){return vt().memoizedState}function cu(e,n,i,o){var d=en();o=o===void 0?null:o,Oe.flags|=e,d.memoizedState=ta(1|n,uu(),i,o)}function To(e,n,i,o){var d=vt();o=o===void 0?null:o;var T=d.memoizedState.inst;Ke!==null&&o!==null&&If(o,Ke.memoizedState.deps)?d.memoizedState=ta(n,T,i,o):(Oe.flags|=e,d.memoizedState=ta(1|n,T,i,o))}function Cp(e,n){cu(8390656,8,e,n)}function Dp(e,n){To(2048,8,e,n)}function Op(e,n){return To(4,2,e,n)}function Ip(e,n){return To(4,4,e,n)}function Np(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Vp(e,n,i){i=i!=null?i.concat([e]):null,To(4,4,Np.bind(null,n,e),i)}function Bf(){}function Mp(e,n){var i=vt();n=n===void 0?null:n;var o=i.memoizedState;return n!==null&&If(n,o[1])?o[0]:(i.memoizedState=[e,n],e)}function kp(e,n){var i=vt();n=n===void 0?null:n;var o=i.memoizedState;if(n!==null&&If(n,o[1]))return o[0];if(o=e(),fs){on(!0);try{e()}finally{on(!1)}}return i.memoizedState=[o,n],o}function qf(e,n,i){return i===void 0||(ni&1073741824)!==0?e.memoizedState=n:(e.memoizedState=i,e=Pg(),Oe.lanes|=e,ui|=e,i)}function Lp(e,n,i,o){return un(i,n)?i:Js.current!==null?(e=qf(e,i,o),un(e,n)||(Ot=!0),e):(ni&42)===0?(Ot=!0,e.memoizedState=i):(e=Pg(),Oe.lanes|=e,ui|=e,n)}function jp(e,n,i,o,d){var T=se.p;se.p=T!==0&&8>T?T:8;var V=K.T,j={};K.T=j,Gf(e,!1,n,i);try{var B=d(),Y=K.S;if(Y!==null&&Y(j,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var te=V0(B,o);wo(e,n,te,mn(e))}else wo(e,n,o,mn(e))}catch(re){wo(e,n,{then:function(){},status:"rejected",reason:re},mn())}finally{se.p=T,K.T=V}}function P0(){}function Hf(e,n,i,o){if(e.tag!==5)throw Error(a(476));var d=Pp(e).queue;jp(e,d,n,de,i===null?P0:function(){return Up(e),i(o)})}function Pp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:de},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Up(e){var n=Pp(e).next.queue;wo(e,n,{},mn())}function Ff(){return qt($o)}function zp(){return vt().memoizedState}function $p(){return vt().memoizedState}function U0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=mn();e=ei(i);var o=ti(n,e,i);o!==null&&(pn(o,n,i),yo(o,n,i)),n={cache:Ef()},e.payload=n;return}n=n.return}}function z0(e,n,i){var o=mn();i={lane:o,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},fu(e)?qp(n,i):(i=ff(e,n,i,o),i!==null&&(pn(i,e,o),Hp(i,n,o)))}function Bp(e,n,i){var o=mn();wo(e,n,i,o)}function wo(e,n,i,o){var d={lane:o,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(fu(e))qp(n,d);else{var T=e.alternate;if(e.lanes===0&&(T===null||T.lanes===0)&&(T=n.lastRenderedReducer,T!==null))try{var V=n.lastRenderedState,j=T(V,i);if(d.hasEagerState=!0,d.eagerState=j,un(j,V))return Yl(e,n,d,0),et===null&&Ql(),!1}catch{}finally{}if(i=ff(e,n,d,o),i!==null)return pn(i,e,o),Hp(i,n,o),!0}return!1}function Gf(e,n,i,o){if(o={lane:2,revertLane:Ah(),action:o,hasEagerState:!1,eagerState:null,next:null},fu(e)){if(n)throw Error(a(479))}else n=ff(e,i,o,2),n!==null&&pn(n,e,2)}function fu(e){var n=e.alternate;return e===Oe||n!==null&&n===Oe}function qp(e,n){Ws=su=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function Hp(e,n,i){if((i&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,i|=o,n.lanes=i,Ha(e,i)}}var hu={readContext:qt,use:ou,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht},Fp={readContext:qt,use:ou,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:qt,useEffect:Cp,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,cu(4194308,4,Np.bind(null,n,e),i)},useLayoutEffect:function(e,n){return cu(4194308,4,e,n)},useInsertionEffect:function(e,n){cu(4,2,e,n)},useMemo:function(e,n){var i=en();n=n===void 0?null:n;var o=e();if(fs){on(!0);try{e()}finally{on(!1)}}return i.memoizedState=[o,n],o},useReducer:function(e,n,i){var o=en();if(i!==void 0){var d=i(n);if(fs){on(!0);try{i(n)}finally{on(!1)}}}else d=n;return o.memoizedState=o.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},o.queue=e,e=e.dispatch=z0.bind(null,Oe,e),[o.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=zf(e);var n=e.queue,i=Bp.bind(null,Oe,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:Bf,useDeferredValue:function(e,n){var i=en();return qf(i,e,n)},useTransition:function(){var e=zf(!1);return e=jp.bind(null,Oe,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var o=Oe,d=en();if(Be){if(i===void 0)throw Error(a(407));i=i()}else{if(i=n(),et===null)throw Error(a(349));(Pe&124)!==0||hp(o,n,i)}d.memoizedState=i;var T={value:i,getSnapshot:n};return d.queue=T,Cp(mp.bind(null,o,T,e),[e]),o.flags|=2048,ta(9,uu(),dp.bind(null,o,T,i,n),null),i},useId:function(){var e=en(),n=et.identifierPrefix;if(Be){var i=Ar,o=wr;i=(o&~(1<<32-Bt(o)-1)).toString(32)+i,n=""+n+"R"+i,i=au++,0<i&&(n+="H"+i.toString(32)),n+=""}else i=M0++,n=""+n+"r"+i.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:Ff,useFormState:wp,useActionState:wp,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=Gf.bind(null,Oe,!0,i),i.dispatch=n,[e,n]},useMemoCache:jf,useCacheRefresh:function(){return en().memoizedState=U0.bind(null,Oe)}},Gp={readContext:qt,use:ou,useCallback:Mp,useContext:qt,useEffect:Dp,useImperativeHandle:Vp,useInsertionEffect:Op,useLayoutEffect:Ip,useMemo:kp,useReducer:lu,useRef:xp,useState:function(){return lu(xr)},useDebugValue:Bf,useDeferredValue:function(e,n){var i=vt();return Lp(i,Ke.memoizedState,e,n)},useTransition:function(){var e=lu(xr)[0],n=vt().memoizedState;return[typeof e=="boolean"?e:Eo(e),n]},useSyncExternalStore:fp,useId:zp,useHostTransitionStatus:Ff,useFormState:Ap,useActionState:Ap,useOptimistic:function(e,n){var i=vt();return yp(i,Ke,e,n)},useMemoCache:jf,useCacheRefresh:$p},$0={readContext:qt,use:ou,useCallback:Mp,useContext:qt,useEffect:Dp,useImperativeHandle:Vp,useInsertionEffect:Op,useLayoutEffect:Ip,useMemo:kp,useReducer:Uf,useRef:xp,useState:function(){return Uf(xr)},useDebugValue:Bf,useDeferredValue:function(e,n){var i=vt();return Ke===null?qf(i,e,n):Lp(i,Ke.memoizedState,e,n)},useTransition:function(){var e=Uf(xr)[0],n=vt().memoizedState;return[typeof e=="boolean"?e:Eo(e),n]},useSyncExternalStore:fp,useId:zp,useHostTransitionStatus:Ff,useFormState:Rp,useActionState:Rp,useOptimistic:function(e,n){var i=vt();return Ke!==null?yp(i,Ke,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:jf,useCacheRefresh:$p},na=null,Ao=0;function du(e){var n=Ao;return Ao+=1,na===null&&(na=[]),rp(na,e,n)}function So(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function mu(e,n){throw n.$$typeof===m?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Qp(e){var n=e._init;return n(e._payload)}function Yp(e){function n(F,H){if(e){var Q=F.deletions;Q===null?(F.deletions=[H],F.flags|=16):Q.push(H)}}function i(F,H){if(!e)return null;for(;H!==null;)n(F,H),H=H.sibling;return null}function o(F){for(var H=new Map;F!==null;)F.key!==null?H.set(F.key,F):H.set(F.index,F),F=F.sibling;return H}function d(F,H){return F=Tr(F,H),F.index=0,F.sibling=null,F}function T(F,H,Q){return F.index=Q,e?(Q=F.alternate,Q!==null?(Q=Q.index,Q<H?(F.flags|=67108866,H):Q):(F.flags|=67108866,H)):(F.flags|=1048576,H)}function V(F){return e&&F.alternate===null&&(F.flags|=67108866),F}function j(F,H,Q,ne){return H===null||H.tag!==6?(H=df(Q,F.mode,ne),H.return=F,H):(H=d(H,Q),H.return=F,H)}function B(F,H,Q,ne){var pe=Q.type;return pe===g?te(F,H,Q.props.children,ne,Q.key):H!==null&&(H.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===A&&Qp(pe)===H.type)?(H=d(H,Q.props),So(H,Q),H.return=F,H):(H=Xl(Q.type,Q.key,Q.props,null,F.mode,ne),So(H,Q),H.return=F,H)}function Y(F,H,Q,ne){return H===null||H.tag!==4||H.stateNode.containerInfo!==Q.containerInfo||H.stateNode.implementation!==Q.implementation?(H=mf(Q,F.mode,ne),H.return=F,H):(H=d(H,Q.children||[]),H.return=F,H)}function te(F,H,Q,ne,pe){return H===null||H.tag!==7?(H=rs(Q,F.mode,ne,pe),H.return=F,H):(H=d(H,Q),H.return=F,H)}function re(F,H,Q){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=df(""+H,F.mode,Q),H.return=F,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case p:return Q=Xl(H.type,H.key,H.props,null,F.mode,Q),So(Q,H),Q.return=F,Q;case b:return H=mf(H,F.mode,Q),H.return=F,H;case A:var ne=H._init;return H=ne(H._payload),re(F,H,Q)}if(he(H)||$(H))return H=rs(H,F.mode,Q,null),H.return=F,H;if(typeof H.then=="function")return re(F,du(H),Q);if(H.$$typeof===D)return re(F,eu(F,H),Q);mu(F,H)}return null}function X(F,H,Q,ne){var pe=H!==null?H.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return pe!==null?null:j(F,H,""+Q,ne);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case p:return Q.key===pe?B(F,H,Q,ne):null;case b:return Q.key===pe?Y(F,H,Q,ne):null;case A:return pe=Q._init,Q=pe(Q._payload),X(F,H,Q,ne)}if(he(Q)||$(Q))return pe!==null?null:te(F,H,Q,ne,null);if(typeof Q.then=="function")return X(F,H,du(Q),ne);if(Q.$$typeof===D)return X(F,H,eu(F,Q),ne);mu(F,Q)}return null}function Z(F,H,Q,ne,pe){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return F=F.get(Q)||null,j(H,F,""+ne,pe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case p:return F=F.get(ne.key===null?Q:ne.key)||null,B(H,F,ne,pe);case b:return F=F.get(ne.key===null?Q:ne.key)||null,Y(H,F,ne,pe);case A:var Ne=ne._init;return ne=Ne(ne._payload),Z(F,H,Q,ne,pe)}if(he(ne)||$(ne))return F=F.get(Q)||null,te(H,F,ne,pe,null);if(typeof ne.then=="function")return Z(F,H,Q,du(ne),pe);if(ne.$$typeof===D)return Z(F,H,Q,eu(H,ne),pe);mu(H,ne)}return null}function Ae(F,H,Q,ne){for(var pe=null,Ne=null,ye=H,Te=H=0,Nt=null;ye!==null&&Te<Q.length;Te++){ye.index>Te?(Nt=ye,ye=null):Nt=ye.sibling;var $e=X(F,ye,Q[Te],ne);if($e===null){ye===null&&(ye=Nt);break}e&&ye&&$e.alternate===null&&n(F,ye),H=T($e,H,Te),Ne===null?pe=$e:Ne.sibling=$e,Ne=$e,ye=Nt}if(Te===Q.length)return i(F,ye),Be&&ss(F,Te),pe;if(ye===null){for(;Te<Q.length;Te++)ye=re(F,Q[Te],ne),ye!==null&&(H=T(ye,H,Te),Ne===null?pe=ye:Ne.sibling=ye,Ne=ye);return Be&&ss(F,Te),pe}for(ye=o(ye);Te<Q.length;Te++)Nt=Z(ye,F,Te,Q[Te],ne),Nt!==null&&(e&&Nt.alternate!==null&&ye.delete(Nt.key===null?Te:Nt.key),H=T(Nt,H,Te),Ne===null?pe=Nt:Ne.sibling=Nt,Ne=Nt);return e&&ye.forEach(function(vi){return n(F,vi)}),Be&&ss(F,Te),pe}function be(F,H,Q,ne){if(Q==null)throw Error(a(151));for(var pe=null,Ne=null,ye=H,Te=H=0,Nt=null,$e=Q.next();ye!==null&&!$e.done;Te++,$e=Q.next()){ye.index>Te?(Nt=ye,ye=null):Nt=ye.sibling;var vi=X(F,ye,$e.value,ne);if(vi===null){ye===null&&(ye=Nt);break}e&&ye&&vi.alternate===null&&n(F,ye),H=T(vi,H,Te),Ne===null?pe=vi:Ne.sibling=vi,Ne=vi,ye=Nt}if($e.done)return i(F,ye),Be&&ss(F,Te),pe;if(ye===null){for(;!$e.done;Te++,$e=Q.next())$e=re(F,$e.value,ne),$e!==null&&(H=T($e,H,Te),Ne===null?pe=$e:Ne.sibling=$e,Ne=$e);return Be&&ss(F,Te),pe}for(ye=o(ye);!$e.done;Te++,$e=Q.next())$e=Z(ye,F,Te,$e.value,ne),$e!==null&&(e&&$e.alternate!==null&&ye.delete($e.key===null?Te:$e.key),H=T($e,H,Te),Ne===null?pe=$e:Ne.sibling=$e,Ne=$e);return e&&ye.forEach(function(BE){return n(F,BE)}),Be&&ss(F,Te),pe}function Ze(F,H,Q,ne){if(typeof Q=="object"&&Q!==null&&Q.type===g&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case p:e:{for(var pe=Q.key;H!==null;){if(H.key===pe){if(pe=Q.type,pe===g){if(H.tag===7){i(F,H.sibling),ne=d(H,Q.props.children),ne.return=F,F=ne;break e}}else if(H.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===A&&Qp(pe)===H.type){i(F,H.sibling),ne=d(H,Q.props),So(ne,Q),ne.return=F,F=ne;break e}i(F,H);break}else n(F,H);H=H.sibling}Q.type===g?(ne=rs(Q.props.children,F.mode,ne,Q.key),ne.return=F,F=ne):(ne=Xl(Q.type,Q.key,Q.props,null,F.mode,ne),So(ne,Q),ne.return=F,F=ne)}return V(F);case b:e:{for(pe=Q.key;H!==null;){if(H.key===pe)if(H.tag===4&&H.stateNode.containerInfo===Q.containerInfo&&H.stateNode.implementation===Q.implementation){i(F,H.sibling),ne=d(H,Q.children||[]),ne.return=F,F=ne;break e}else{i(F,H);break}else n(F,H);H=H.sibling}ne=mf(Q,F.mode,ne),ne.return=F,F=ne}return V(F);case A:return pe=Q._init,Q=pe(Q._payload),Ze(F,H,Q,ne)}if(he(Q))return Ae(F,H,Q,ne);if($(Q)){if(pe=$(Q),typeof pe!="function")throw Error(a(150));return Q=pe.call(Q),be(F,H,Q,ne)}if(typeof Q.then=="function")return Ze(F,H,du(Q),ne);if(Q.$$typeof===D)return Ze(F,H,eu(F,Q),ne);mu(F,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,H!==null&&H.tag===6?(i(F,H.sibling),ne=d(H,Q),ne.return=F,F=ne):(i(F,H),ne=df(Q,F.mode,ne),ne.return=F,F=ne),V(F)):i(F,H)}return function(F,H,Q,ne){try{Ao=0;var pe=Ze(F,H,Q,ne);return na=null,pe}catch(ye){if(ye===po||ye===nu)throw ye;var Ne=cn(29,ye,null,F.mode);return Ne.lanes=ne,Ne.return=F,Ne}finally{}}}var ra=Yp(!0),Kp=Yp(!1),Cn=W(null),Jn=null;function ri(e){var n=e.alternate;oe(At,At.current&1),oe(Cn,e),Jn===null&&(n===null||Js.current!==null||n.memoizedState!==null)&&(Jn=e)}function Xp(e){if(e.tag===22){if(oe(At,At.current),oe(Cn,e),Jn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Jn=e)}}else ii()}function ii(){oe(At,At.current),oe(Cn,Cn.current)}function Cr(e){le(Cn),Jn===e&&(Jn=null),le(At)}var At=W(0);function pu(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||Lh(i)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Qf(e,n,i,o){n=e.memoizedState,i=i(o,n),i=i==null?n:w({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Yf={enqueueSetState:function(e,n,i){e=e._reactInternals;var o=mn(),d=ei(o);d.payload=n,i!=null&&(d.callback=i),n=ti(e,d,o),n!==null&&(pn(n,e,o),yo(n,e,o))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var o=mn(),d=ei(o);d.tag=1,d.payload=n,i!=null&&(d.callback=i),n=ti(e,d,o),n!==null&&(pn(n,e,o),yo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=mn(),o=ei(i);o.tag=2,n!=null&&(o.callback=n),n=ti(e,o,i),n!==null&&(pn(n,e,i),yo(n,e,i))}};function Zp(e,n,i,o,d,T,V){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,T,V):n.prototype&&n.prototype.isPureReactComponent?!ao(i,o)||!ao(d,T):!0}function Jp(e,n,i,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,o),n.state!==e&&Yf.enqueueReplaceState(n,n.state,null)}function hs(e,n){var i=n;if("ref"in n){i={};for(var o in n)o!=="ref"&&(i[o]=n[o])}if(e=e.defaultProps){i===n&&(i=w({},i));for(var d in e)i[d]===void 0&&(i[d]=e[d])}return i}var gu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Wp(e){gu(e)}function eg(e){console.error(e)}function tg(e){gu(e)}function yu(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ng(e,n,i){try{var o=e.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Kf(e,n,i){return i=ei(i),i.tag=3,i.payload={element:null},i.callback=function(){yu(e,n)},i}function rg(e){return e=ei(e),e.tag=3,e}function ig(e,n,i,o){var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var T=o.value;e.payload=function(){return d(T)},e.callback=function(){ng(n,i,o)}}var V=i.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(e.callback=function(){ng(n,i,o),typeof d!="function"&&(ci===null?ci=new Set([this]):ci.add(this));var j=o.stack;this.componentDidCatch(o.value,{componentStack:j!==null?j:""})})}function B0(e,n,i,o,d){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=i.alternate,n!==null&&fo(n,i,d,!0),i=Cn.current,i!==null){switch(i.tag){case 13:return Jn===null?_h():i.alternate===null&&ct===0&&(ct=3),i.flags&=-257,i.flags|=65536,i.lanes=d,o===Af?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([o]):n.add(o),Eh(e,o,d)),!1;case 22:return i.flags|=65536,o===Af?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([o]):i.add(o)),Eh(e,o,d)),!1}throw Error(a(435,i.tag))}return Eh(e,o,d),_h(),!1}if(Be)return n=Cn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,o!==yf&&(e=Error(a(422),{cause:o}),co(An(e,i)))):(o!==yf&&(n=Error(a(423),{cause:o}),co(An(n,i))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,o=An(o,i),d=Kf(e.stateNode,o,d),xf(e,d),ct!==4&&(ct=2)),!1;var T=Error(a(520),{cause:o});if(T=An(T,i),No===null?No=[T]:No.push(T),ct!==4&&(ct=2),n===null)return!0;o=An(o,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=d&-d,i.lanes|=e,e=Kf(i.stateNode,o,e),xf(i,e),!1;case 1:if(n=i.type,T=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(ci===null||!ci.has(T))))return i.flags|=65536,d&=-d,i.lanes|=d,d=rg(d),ig(d,e,i,o),xf(i,d),!1}i=i.return}while(i!==null);return!1}var sg=Error(a(461)),Ot=!1;function Lt(e,n,i,o){n.child=e===null?Kp(n,null,i,o):ra(n,e.child,i,o)}function ag(e,n,i,o,d){i=i.render;var T=n.ref;if("ref"in o){var V={};for(var j in o)j!=="ref"&&(V[j]=o[j])}else V=o;return us(n),o=Nf(e,n,i,V,T,d),j=Vf(),e!==null&&!Ot?(Mf(e,n,d),Dr(e,n,d)):(Be&&j&&pf(n),n.flags|=1,Lt(e,n,o,d),n.child)}function og(e,n,i,o,d){if(e===null){var T=i.type;return typeof T=="function"&&!hf(T)&&T.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=T,lg(e,n,T,o,d)):(e=Xl(i.type,null,o,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(T=e.child,!rh(e,d)){var V=T.memoizedProps;if(i=i.compare,i=i!==null?i:ao,i(V,o)&&e.ref===n.ref)return Dr(e,n,d)}return n.flags|=1,e=Tr(T,o),e.ref=n.ref,e.return=n,n.child=e}function lg(e,n,i,o,d){if(e!==null){var T=e.memoizedProps;if(ao(T,o)&&e.ref===n.ref)if(Ot=!1,n.pendingProps=o=T,rh(e,d))(e.flags&131072)!==0&&(Ot=!0);else return n.lanes=e.lanes,Dr(e,n,d)}return Xf(e,n,i,o,d)}function ug(e,n,i){var o=n.pendingProps,d=o.children,T=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=T!==null?T.baseLanes|i:i,e!==null){for(d=n.child=e.child,T=0;d!==null;)T=T|d.lanes|d.childLanes,d=d.sibling;n.childLanes=T&~o}else n.childLanes=0,n.child=null;return cg(e,n,o,i)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&tu(n,T!==null?T.cachePool:null),T!==null?lp(n,T):Df(),Xp(n);else return n.lanes=n.childLanes=536870912,cg(e,n,T!==null?T.baseLanes|i:i,i)}else T!==null?(tu(n,T.cachePool),lp(n,T),ii(),n.memoizedState=null):(e!==null&&tu(n,null),Df(),ii());return Lt(e,n,d,i),n.child}function cg(e,n,i,o){var d=wf();return d=d===null?null:{parent:wt._currentValue,pool:d},n.memoizedState={baseLanes:i,cachePool:d},e!==null&&tu(n,null),Df(),Xp(n),e!==null&&fo(e,n,o,!0),null}function vu(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(a(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function Xf(e,n,i,o,d){return us(n),i=Nf(e,n,i,o,void 0,d),o=Vf(),e!==null&&!Ot?(Mf(e,n,d),Dr(e,n,d)):(Be&&o&&pf(n),n.flags|=1,Lt(e,n,i,d),n.child)}function fg(e,n,i,o,d,T){return us(n),n.updateQueue=null,i=cp(n,o,i,d),up(e),o=Vf(),e!==null&&!Ot?(Mf(e,n,T),Dr(e,n,T)):(Be&&o&&pf(n),n.flags|=1,Lt(e,n,i,T),n.child)}function hg(e,n,i,o,d){if(us(n),n.stateNode===null){var T=Qs,V=i.contextType;typeof V=="object"&&V!==null&&(T=qt(V)),T=new i(o,T),n.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=Yf,n.stateNode=T,T._reactInternals=n,T=n.stateNode,T.props=o,T.state=n.memoizedState,T.refs={},Sf(n),V=i.contextType,T.context=typeof V=="object"&&V!==null?qt(V):Qs,T.state=n.memoizedState,V=i.getDerivedStateFromProps,typeof V=="function"&&(Qf(n,i,V,o),T.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(V=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),V!==T.state&&Yf.enqueueReplaceState(T,T.state,null),_o(n,o,T,d),vo(),T.state=n.memoizedState),typeof T.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){T=n.stateNode;var j=n.memoizedProps,B=hs(i,j);T.props=B;var Y=T.context,te=i.contextType;V=Qs,typeof te=="object"&&te!==null&&(V=qt(te));var re=i.getDerivedStateFromProps;te=typeof re=="function"||typeof T.getSnapshotBeforeUpdate=="function",j=n.pendingProps!==j,te||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(j||Y!==V)&&Jp(n,T,o,V),Wr=!1;var X=n.memoizedState;T.state=X,_o(n,o,T,d),vo(),Y=n.memoizedState,j||X!==Y||Wr?(typeof re=="function"&&(Qf(n,i,re,o),Y=n.memoizedState),(B=Wr||Zp(n,i,B,o,X,Y,V))?(te||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(n.flags|=4194308)):(typeof T.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=Y),T.props=o,T.state=Y,T.context=V,o=B):(typeof T.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{T=n.stateNode,Rf(e,n),V=n.memoizedProps,te=hs(i,V),T.props=te,re=n.pendingProps,X=T.context,Y=i.contextType,B=Qs,typeof Y=="object"&&Y!==null&&(B=qt(Y)),j=i.getDerivedStateFromProps,(Y=typeof j=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(V!==re||X!==B)&&Jp(n,T,o,B),Wr=!1,X=n.memoizedState,T.state=X,_o(n,o,T,d),vo();var Z=n.memoizedState;V!==re||X!==Z||Wr||e!==null&&e.dependencies!==null&&Wl(e.dependencies)?(typeof j=="function"&&(Qf(n,i,j,o),Z=n.memoizedState),(te=Wr||Zp(n,i,te,o,X,Z,B)||e!==null&&e.dependencies!==null&&Wl(e.dependencies))?(Y||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(o,Z,B),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(o,Z,B)),typeof T.componentDidUpdate=="function"&&(n.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof T.componentDidUpdate!="function"||V===e.memoizedProps&&X===e.memoizedState||(n.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||V===e.memoizedProps&&X===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=Z),T.props=o,T.state=Z,T.context=B,o=te):(typeof T.componentDidUpdate!="function"||V===e.memoizedProps&&X===e.memoizedState||(n.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||V===e.memoizedProps&&X===e.memoizedState||(n.flags|=1024),o=!1)}return T=o,vu(e,n),o=(n.flags&128)!==0,T||o?(T=n.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:T.render(),n.flags|=1,e!==null&&o?(n.child=ra(n,e.child,null,d),n.child=ra(n,null,i,d)):Lt(e,n,i,d),n.memoizedState=T.state,e=n.child):e=Dr(e,n,d),e}function dg(e,n,i,o){return uo(),n.flags|=256,Lt(e,n,i,o),n.child}var Zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jf(e){return{baseLanes:e,cachePool:ep()}}function Wf(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=Dn),e}function mg(e,n,i){var o=n.pendingProps,d=!1,T=(n.flags&128)!==0,V;if((V=T)||(V=e!==null&&e.memoizedState===null?!1:(At.current&2)!==0),V&&(d=!0,n.flags&=-129),V=(n.flags&32)!==0,n.flags&=-33,e===null){if(Be){if(d?ri(n):ii(),Be){var j=ut,B;if(B=j){e:{for(B=j,j=Zn;B.nodeType!==8;){if(!j){j=null;break e}if(B=jn(B.nextSibling),B===null){j=null;break e}}j=B}j!==null?(n.memoizedState={dehydrated:j,treeContext:is!==null?{id:wr,overflow:Ar}:null,retryLane:536870912,hydrationErrors:null},B=cn(18,null,null,0),B.stateNode=j,B.return=n,n.child=B,Jt=n,ut=null,B=!0):B=!1}B||os(n)}if(j=n.memoizedState,j!==null&&(j=j.dehydrated,j!==null))return Lh(j)?n.lanes=32:n.lanes=536870912,null;Cr(n)}return j=o.children,o=o.fallback,d?(ii(),d=n.mode,j=_u({mode:"hidden",children:j},d),o=rs(o,d,i,null),j.return=n,o.return=n,j.sibling=o,n.child=j,d=n.child,d.memoizedState=Jf(i),d.childLanes=Wf(e,V,i),n.memoizedState=Zf,o):(ri(n),eh(n,j))}if(B=e.memoizedState,B!==null&&(j=B.dehydrated,j!==null)){if(T)n.flags&256?(ri(n),n.flags&=-257,n=th(e,n,i)):n.memoizedState!==null?(ii(),n.child=e.child,n.flags|=128,n=null):(ii(),d=o.fallback,j=n.mode,o=_u({mode:"visible",children:o.children},j),d=rs(d,j,i,null),d.flags|=2,o.return=n,d.return=n,o.sibling=d,n.child=o,ra(n,e.child,null,i),o=n.child,o.memoizedState=Jf(i),o.childLanes=Wf(e,V,i),n.memoizedState=Zf,n=d);else if(ri(n),Lh(j)){if(V=j.nextSibling&&j.nextSibling.dataset,V)var Y=V.dgst;V=Y,o=Error(a(419)),o.stack="",o.digest=V,co({value:o,source:null,stack:null}),n=th(e,n,i)}else if(Ot||fo(e,n,i,!1),V=(i&e.childLanes)!==0,Ot||V){if(V=et,V!==null&&(o=i&-i,o=(o&42)!==0?1:Fr(o),o=(o&(V.suspendedLanes|i))!==0?0:o,o!==0&&o!==B.retryLane))throw B.retryLane=o,Gs(e,o),pn(V,e,o),sg;j.data==="$?"||_h(),n=th(e,n,i)}else j.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=B.treeContext,ut=jn(j.nextSibling),Jt=n,Be=!0,as=null,Zn=!1,e!==null&&(Rn[xn++]=wr,Rn[xn++]=Ar,Rn[xn++]=is,wr=e.id,Ar=e.overflow,is=n),n=eh(n,o.children),n.flags|=4096);return n}return d?(ii(),d=o.fallback,j=n.mode,B=e.child,Y=B.sibling,o=Tr(B,{mode:"hidden",children:o.children}),o.subtreeFlags=B.subtreeFlags&65011712,Y!==null?d=Tr(Y,d):(d=rs(d,j,i,null),d.flags|=2),d.return=n,o.return=n,o.sibling=d,n.child=o,o=d,d=n.child,j=e.child.memoizedState,j===null?j=Jf(i):(B=j.cachePool,B!==null?(Y=wt._currentValue,B=B.parent!==Y?{parent:Y,pool:Y}:B):B=ep(),j={baseLanes:j.baseLanes|i,cachePool:B}),d.memoizedState=j,d.childLanes=Wf(e,V,i),n.memoizedState=Zf,o):(ri(n),i=e.child,e=i.sibling,i=Tr(i,{mode:"visible",children:o.children}),i.return=n,i.sibling=null,e!==null&&(V=n.deletions,V===null?(n.deletions=[e],n.flags|=16):V.push(e)),n.child=i,n.memoizedState=null,i)}function eh(e,n){return n=_u({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function _u(e,n){return e=cn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function th(e,n,i){return ra(n,e.child,null,i),e=eh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function pg(e,n,i){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),_f(e.return,n,i)}function nh(e,n,i,o,d){var T=e.memoizedState;T===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:d}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=o,T.tail=i,T.tailMode=d)}function gg(e,n,i){var o=n.pendingProps,d=o.revealOrder,T=o.tail;if(Lt(e,n,o.children,i),o=At.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&pg(e,i,n);else if(e.tag===19)pg(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(oe(At,o),d){case"forwards":for(i=n.child,d=null;i!==null;)e=i.alternate,e!==null&&pu(e)===null&&(d=i),i=i.sibling;i=d,i===null?(d=n.child,n.child=null):(d=i.sibling,i.sibling=null),nh(n,!1,d,i,T);break;case"backwards":for(i=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&pu(e)===null){n.child=d;break}e=d.sibling,d.sibling=i,i=d,d=e}nh(n,!0,i,null,T);break;case"together":nh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Dr(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),ui|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(fo(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,i=Tr(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=Tr(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function rh(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Wl(e)))}function q0(e,n,i){switch(n.tag){case 3:We(n,n.stateNode.containerInfo),Jr(n,wt,e.memoizedState.cache),uo();break;case 27:case 5:Hr(n);break;case 4:We(n,n.stateNode.containerInfo);break;case 10:Jr(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(ri(n),n.flags|=128,null):(i&n.child.childLanes)!==0?mg(e,n,i):(ri(n),e=Dr(e,n,i),e!==null?e.sibling:null);ri(n);break;case 19:var d=(e.flags&128)!==0;if(o=(i&n.childLanes)!==0,o||(fo(e,n,i,!1),o=(i&n.childLanes)!==0),d){if(o)return gg(e,n,i);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),oe(At,At.current),o)break;return null;case 22:case 23:return n.lanes=0,ug(e,n,i);case 24:Jr(n,wt,e.memoizedState.cache)}return Dr(e,n,i)}function yg(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ot=!0;else{if(!rh(e,i)&&(n.flags&128)===0)return Ot=!1,q0(e,n,i);Ot=(e.flags&131072)!==0}else Ot=!1,Be&&(n.flags&1048576)!==0&&Qm(n,Jl,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var o=n.elementType,d=o._init;if(o=d(o._payload),n.type=o,typeof o=="function")hf(o)?(e=hs(o,e),n.tag=1,n=hg(null,n,o,e,i)):(n.tag=0,n=Xf(null,n,o,e,i));else{if(o!=null){if(d=o.$$typeof,d===M){n.tag=11,n=ag(null,n,o,e,i);break e}else if(d===N){n.tag=14,n=og(null,n,o,e,i);break e}}throw n=fe(o)||o,Error(a(306,n,""))}}return n;case 0:return Xf(e,n,n.type,n.pendingProps,i);case 1:return o=n.type,d=hs(o,n.pendingProps),hg(e,n,o,d,i);case 3:e:{if(We(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var T=n.memoizedState;d=T.element,Rf(e,n),_o(n,o,null,i);var V=n.memoizedState;if(o=V.cache,Jr(n,wt,o),o!==T.cache&&bf(n,[wt],i,!0),vo(),o=V.element,T.isDehydrated)if(T={element:o,isDehydrated:!1,cache:V.cache},n.updateQueue.baseState=T,n.memoizedState=T,n.flags&256){n=dg(e,n,o,i);break e}else if(o!==d){d=An(Error(a(424)),n),co(d),n=dg(e,n,o,i);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ut=jn(e.firstChild),Jt=n,Be=!0,as=null,Zn=!0,i=Kp(n,null,o,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(uo(),o===d){n=Dr(e,n,i);break e}Lt(e,n,o,i)}n=n.child}return n;case 26:return vu(e,n),e===null?(i=Ey(n.type,null,n.pendingProps,null))?n.memoizedState=i:Be||(i=n.type,e=n.pendingProps,o=Vu(Ee.current).createElement(i),o[bt]=n,o[pt]=e,Pt(o,i,e),ft(o),n.stateNode=o):n.memoizedState=Ey(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Hr(n),e===null&&Be&&(o=n.stateNode=vy(n.type,n.pendingProps,Ee.current),Jt=n,Zn=!0,d=ut,di(n.type)?(jh=d,ut=jn(o.firstChild)):ut=d),Lt(e,n,n.pendingProps.children,i),vu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Be&&((d=o=ut)&&(o=yE(o,n.type,n.pendingProps,Zn),o!==null?(n.stateNode=o,Jt=n,ut=jn(o.firstChild),Zn=!1,d=!0):d=!1),d||os(n)),Hr(n),d=n.type,T=n.pendingProps,V=e!==null?e.memoizedProps:null,o=T.children,Vh(d,T)?o=null:V!==null&&Vh(d,V)&&(n.flags|=32),n.memoizedState!==null&&(d=Nf(e,n,k0,null,null,i),$o._currentValue=d),vu(e,n),Lt(e,n,o,i),n.child;case 6:return e===null&&Be&&((e=i=ut)&&(i=vE(i,n.pendingProps,Zn),i!==null?(n.stateNode=i,Jt=n,ut=null,e=!0):e=!1),e||os(n)),null;case 13:return mg(e,n,i);case 4:return We(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=ra(n,null,o,i):Lt(e,n,o,i),n.child;case 11:return ag(e,n,n.type,n.pendingProps,i);case 7:return Lt(e,n,n.pendingProps,i),n.child;case 8:return Lt(e,n,n.pendingProps.children,i),n.child;case 12:return Lt(e,n,n.pendingProps.children,i),n.child;case 10:return o=n.pendingProps,Jr(n,n.type,o.value),Lt(e,n,o.children,i),n.child;case 9:return d=n.type._context,o=n.pendingProps.children,us(n),d=qt(d),o=o(d),n.flags|=1,Lt(e,n,o,i),n.child;case 14:return og(e,n,n.type,n.pendingProps,i);case 15:return lg(e,n,n.type,n.pendingProps,i);case 19:return gg(e,n,i);case 31:return o=n.pendingProps,i=n.mode,o={mode:o.mode,children:o.children},e===null?(i=_u(o,i),i.ref=n.ref,n.child=i,i.return=n,n=i):(i=Tr(e.child,o),i.ref=n.ref,n.child=i,i.return=n,n=i),n;case 22:return ug(e,n,i);case 24:return us(n),o=qt(wt),e===null?(d=wf(),d===null&&(d=et,T=Ef(),d.pooledCache=T,T.refCount++,T!==null&&(d.pooledCacheLanes|=i),d=T),n.memoizedState={parent:o,cache:d},Sf(n),Jr(n,wt,d)):((e.lanes&i)!==0&&(Rf(e,n),_o(n,null,null,i),vo()),d=e.memoizedState,T=n.memoizedState,d.parent!==o?(d={parent:o,cache:o},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),Jr(n,wt,o)):(o=T.cache,Jr(n,wt,o),o!==d.cache&&bf(n,[wt],i,!0))),Lt(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Or(e){e.flags|=4}function vg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ry(n)){if(n=Cn.current,n!==null&&((Pe&4194048)===Pe?Jn!==null:(Pe&62914560)!==Pe&&(Pe&536870912)===0||n!==Jn))throw go=Af,tp;e.flags|=8192}}function bu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Ba():536870912,e.lanes|=n,oa|=n)}function Ro(e,n){if(!Be)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function st(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(n)for(var d=e.child;d!==null;)i|=d.lanes|d.childLanes,o|=d.subtreeFlags&65011712,o|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)i|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=o,e.childLanes=i,n}function H0(e,n,i){var o=n.pendingProps;switch(gf(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(n),null;case 1:return st(n),null;case 3:return i=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Rr(wt),Un(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(lo(n)?Or(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Xm())),st(n),null;case 26:return i=n.memoizedState,e===null?(Or(n),i!==null?(st(n),vg(n,i)):(st(n),n.flags&=-16777217)):i?i!==e.memoizedState?(Or(n),st(n),vg(n,i)):(st(n),n.flags&=-16777217):(e.memoizedProps!==o&&Or(n),st(n),n.flags&=-16777217),null;case 27:ur(n),i=Ee.current;var d=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Or(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return st(n),null}e=ge.current,lo(n)?Ym(n):(e=vy(d,o,i),n.stateNode=e,Or(n))}return st(n),null;case 5:if(ur(n),i=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Or(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return st(n),null}if(e=ge.current,lo(n))Ym(n);else{switch(d=Vu(Ee.current),e){case 1:e=d.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=d.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=d.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=d.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?d.createElement("select",{is:o.is}):d.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?d.createElement(i,{is:o.is}):d.createElement(i)}}e[bt]=n,e[pt]=o;e:for(d=n.child;d!==null;){if(d.tag===5||d.tag===6)e.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}n.stateNode=e;e:switch(Pt(e,i,o),i){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Or(n)}}return st(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Or(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=Ee.current,lo(n)){if(e=n.stateNode,i=n.memoizedProps,o=null,d=Jt,d!==null)switch(d.tag){case 27:case 5:o=d.memoizedProps}e[bt]=n,e=!!(e.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||fy(e.nodeValue,i)),e||os(n)}else e=Vu(e).createTextNode(o),e[bt]=n,n.stateNode=e}return st(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=lo(n),o!==null&&o.dehydrated!==null){if(e===null){if(!d)throw Error(a(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[bt]=n}else uo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;st(n),d=!1}else d=Xm(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(Cr(n),n):(Cr(n),null)}if(Cr(n),(n.flags&128)!==0)return n.lanes=i,n;if(i=o!==null,e=e!==null&&e.memoizedState!==null,i){o=n.child,d=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(d=o.alternate.memoizedState.cachePool.pool);var T=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(T=o.memoizedState.cachePool.pool),T!==d&&(o.flags|=2048)}return i!==e&&i&&(n.child.flags|=8192),bu(n,n.updateQueue),st(n),null;case 4:return Un(),e===null&&Ch(n.stateNode.containerInfo),st(n),null;case 10:return Rr(n.type),st(n),null;case 19:if(le(At),d=n.memoizedState,d===null)return st(n),null;if(o=(n.flags&128)!==0,T=d.rendering,T===null)if(o)Ro(d,!1);else{if(ct!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(T=pu(e),T!==null){for(n.flags|=128,Ro(d,!1),e=T.updateQueue,n.updateQueue=e,bu(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)Gm(i,e),i=i.sibling;return oe(At,At.current&1|2),n.child}e=e.sibling}d.tail!==null&&vn()>wu&&(n.flags|=128,o=!0,Ro(d,!1),n.lanes=4194304)}else{if(!o)if(e=pu(T),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,bu(n,e),Ro(d,!0),d.tail===null&&d.tailMode==="hidden"&&!T.alternate&&!Be)return st(n),null}else 2*vn()-d.renderingStartTime>wu&&i!==536870912&&(n.flags|=128,o=!0,Ro(d,!1),n.lanes=4194304);d.isBackwards?(T.sibling=n.child,n.child=T):(e=d.last,e!==null?e.sibling=T:n.child=T,d.last=T)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=vn(),n.sibling=null,e=At.current,oe(At,o?e&1|2:e&1),n):(st(n),null);case 22:case 23:return Cr(n),Of(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(i&536870912)!==0&&(n.flags&128)===0&&(st(n),n.subtreeFlags&6&&(n.flags|=8192)):st(n),i=n.updateQueue,i!==null&&bu(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==i&&(n.flags|=2048),e!==null&&le(cs),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),Rr(wt),st(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function F0(e,n){switch(gf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Rr(wt),Un(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ur(n),null;case 13:if(Cr(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));uo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return le(At),null;case 4:return Un(),null;case 10:return Rr(n.type),null;case 22:case 23:return Cr(n),Of(),e!==null&&le(cs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Rr(wt),null;case 25:return null;default:return null}}function _g(e,n){switch(gf(n),n.tag){case 3:Rr(wt),Un();break;case 26:case 27:case 5:ur(n);break;case 4:Un();break;case 13:Cr(n);break;case 19:le(At);break;case 10:Rr(n.type);break;case 22:case 23:Cr(n),Of(),e!==null&&le(cs);break;case 24:Rr(wt)}}function xo(e,n){try{var i=n.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var d=o.next;i=d;do{if((i.tag&e)===e){o=void 0;var T=i.create,V=i.inst;o=T(),V.destroy=o}i=i.next}while(i!==d)}}catch(j){Je(n,n.return,j)}}function si(e,n,i){try{var o=n.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var T=d.next;o=T;do{if((o.tag&e)===e){var V=o.inst,j=V.destroy;if(j!==void 0){V.destroy=void 0,d=n;var B=i,Y=j;try{Y()}catch(te){Je(d,B,te)}}}o=o.next}while(o!==T)}}catch(te){Je(n,n.return,te)}}function bg(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{op(n,i)}catch(o){Je(e,e.return,o)}}}function Eg(e,n,i){i.props=hs(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(o){Je(e,n,o)}}function Co(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof i=="function"?e.refCleanup=i(o):i.current=o}}catch(d){Je(e,n,d)}}function Wn(e,n){var i=e.ref,o=e.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(d){Je(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(d){Je(e,n,d)}else i.current=null}function Tg(e){var n=e.type,i=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break e;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(d){Je(e,e.return,d)}}function ih(e,n,i){try{var o=e.stateNode;hE(o,e.type,i,n),o[pt]=n}catch(d){Je(e,e.return,d)}}function wg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&di(e.type)||e.tag===4}function sh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&di(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ah(e,n,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Nu));else if(o!==4&&(o===27&&di(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(ah(e,n,i),e=e.sibling;e!==null;)ah(e,n,i),e=e.sibling}function Eu(e,n,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(o!==4&&(o===27&&di(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Eu(e,n,i),e=e.sibling;e!==null;)Eu(e,n,i),e=e.sibling}function Ag(e){var n=e.stateNode,i=e.memoizedProps;try{for(var o=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);Pt(n,o,i),n[bt]=e,n[pt]=i}catch(T){Je(e,e.return,T)}}var Ir=!1,dt=!1,oh=!1,Sg=typeof WeakSet=="function"?WeakSet:Set,It=null;function G0(e,n){if(e=e.containerInfo,Ih=Uu,e=Lm(e),sf(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var d=o.anchorOffset,T=o.focusNode;o=o.focusOffset;try{i.nodeType,T.nodeType}catch{i=null;break e}var V=0,j=-1,B=-1,Y=0,te=0,re=e,X=null;t:for(;;){for(var Z;re!==i||d!==0&&re.nodeType!==3||(j=V+d),re!==T||o!==0&&re.nodeType!==3||(B=V+o),re.nodeType===3&&(V+=re.nodeValue.length),(Z=re.firstChild)!==null;)X=re,re=Z;for(;;){if(re===e)break t;if(X===i&&++Y===d&&(j=V),X===T&&++te===o&&(B=V),(Z=re.nextSibling)!==null)break;re=X,X=re.parentNode}re=Z}i=j===-1||B===-1?null:{start:j,end:B}}else i=null}i=i||{start:0,end:0}}else i=null;for(Nh={focusedElem:e,selectionRange:i},Uu=!1,It=n;It!==null;)if(n=It,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,It=e;else for(;It!==null;){switch(n=It,T=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&T!==null){e=void 0,i=n,d=T.memoizedProps,T=T.memoizedState,o=i.stateNode;try{var Ae=hs(i.type,d,i.elementType===i.type);e=o.getSnapshotBeforeUpdate(Ae,T),o.__reactInternalSnapshotBeforeUpdate=e}catch(be){Je(i,i.return,be)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)kh(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":kh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,It=e;break}It=n.return}}function Rg(e,n,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:ai(e,i),o&4&&xo(5,i);break;case 1:if(ai(e,i),o&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(V){Je(i,i.return,V)}else{var d=hs(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(V){Je(i,i.return,V)}}o&64&&bg(i),o&512&&Co(i,i.return);break;case 3:if(ai(e,i),o&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{op(e,n)}catch(V){Je(i,i.return,V)}}break;case 27:n===null&&o&4&&Ag(i);case 26:case 5:ai(e,i),n===null&&o&4&&Tg(i),o&512&&Co(i,i.return);break;case 12:ai(e,i);break;case 13:ai(e,i),o&4&&Dg(e,i),o&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=tE.bind(null,i),_E(e,i))));break;case 22:if(o=i.memoizedState!==null||Ir,!o){n=n!==null&&n.memoizedState!==null||dt,d=Ir;var T=dt;Ir=o,(dt=n)&&!T?oi(e,i,(i.subtreeFlags&8772)!==0):ai(e,i),Ir=d,dt=T}break;case 30:break;default:ai(e,i)}}function xg(e){var n=e.alternate;n!==null&&(e.alternate=null,xg(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Yr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var rt=null,tn=!1;function Nr(e,n,i){for(i=i.child;i!==null;)Cg(e,n,i),i=i.sibling}function Cg(e,n,i){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(lt,i)}catch{}switch(i.tag){case 26:dt||Wn(i,n),Nr(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:dt||Wn(i,n);var o=rt,d=tn;di(i.type)&&(rt=i.stateNode,tn=!1),Nr(e,n,i),jo(i.stateNode),rt=o,tn=d;break;case 5:dt||Wn(i,n);case 6:if(o=rt,d=tn,rt=null,Nr(e,n,i),rt=o,tn=d,rt!==null)if(tn)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(i.stateNode)}catch(T){Je(i,n,T)}else try{rt.removeChild(i.stateNode)}catch(T){Je(i,n,T)}break;case 18:rt!==null&&(tn?(e=rt,gy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Fo(e)):gy(rt,i.stateNode));break;case 4:o=rt,d=tn,rt=i.stateNode.containerInfo,tn=!0,Nr(e,n,i),rt=o,tn=d;break;case 0:case 11:case 14:case 15:dt||si(2,i,n),dt||si(4,i,n),Nr(e,n,i);break;case 1:dt||(Wn(i,n),o=i.stateNode,typeof o.componentWillUnmount=="function"&&Eg(i,n,o)),Nr(e,n,i);break;case 21:Nr(e,n,i);break;case 22:dt=(o=dt)||i.memoizedState!==null,Nr(e,n,i),dt=o;break;default:Nr(e,n,i)}}function Dg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Fo(e)}catch(i){Je(n,n.return,i)}}function Q0(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Sg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Sg),n;default:throw Error(a(435,e.tag))}}function lh(e,n){var i=Q0(e);n.forEach(function(o){var d=nE.bind(null,e,o);i.has(o)||(i.add(o),o.then(d,d))})}function fn(e,n){var i=n.deletions;if(i!==null)for(var o=0;o<i.length;o++){var d=i[o],T=e,V=n,j=V;e:for(;j!==null;){switch(j.tag){case 27:if(di(j.type)){rt=j.stateNode,tn=!1;break e}break;case 5:rt=j.stateNode,tn=!1;break e;case 3:case 4:rt=j.stateNode.containerInfo,tn=!0;break e}j=j.return}if(rt===null)throw Error(a(160));Cg(T,V,d),rt=null,tn=!1,T=d.alternate,T!==null&&(T.return=null),d.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Og(n,e),n=n.sibling}var Ln=null;function Og(e,n){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fn(n,e),hn(e),o&4&&(si(3,e,e.return),xo(3,e),si(5,e,e.return));break;case 1:fn(n,e),hn(e),o&512&&(dt||i===null||Wn(i,i.return)),o&64&&Ir&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var d=Ln;if(fn(n,e),hn(e),o&512&&(dt||i===null||Wn(i,i.return)),o&4){var T=i!==null?i.memoizedState:null;if(o=e.memoizedState,i===null)if(o===null)if(e.stateNode===null){e:{o=e.type,i=e.memoizedProps,d=d.ownerDocument||d;t:switch(o){case"title":T=d.getElementsByTagName("title")[0],(!T||T[$i]||T[bt]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=d.createElement(o),d.head.insertBefore(T,d.querySelector("head > title"))),Pt(T,o,i),T[bt]=e,ft(T),o=T;break e;case"link":var V=Ay("link","href",d).get(o+(i.href||""));if(V){for(var j=0;j<V.length;j++)if(T=V[j],T.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&T.getAttribute("rel")===(i.rel==null?null:i.rel)&&T.getAttribute("title")===(i.title==null?null:i.title)&&T.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){V.splice(j,1);break t}}T=d.createElement(o),Pt(T,o,i),d.head.appendChild(T);break;case"meta":if(V=Ay("meta","content",d).get(o+(i.content||""))){for(j=0;j<V.length;j++)if(T=V[j],T.getAttribute("content")===(i.content==null?null:""+i.content)&&T.getAttribute("name")===(i.name==null?null:i.name)&&T.getAttribute("property")===(i.property==null?null:i.property)&&T.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&T.getAttribute("charset")===(i.charSet==null?null:i.charSet)){V.splice(j,1);break t}}T=d.createElement(o),Pt(T,o,i),d.head.appendChild(T);break;default:throw Error(a(468,o))}T[bt]=e,ft(T),o=T}e.stateNode=o}else Sy(d,e.type,e.stateNode);else e.stateNode=wy(d,o,e.memoizedProps);else T!==o?(T===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):T.count--,o===null?Sy(d,e.type,e.stateNode):wy(d,o,e.memoizedProps)):o===null&&e.stateNode!==null&&ih(e,e.memoizedProps,i.memoizedProps)}break;case 27:fn(n,e),hn(e),o&512&&(dt||i===null||Wn(i,i.return)),i!==null&&o&4&&ih(e,e.memoizedProps,i.memoizedProps);break;case 5:if(fn(n,e),hn(e),o&512&&(dt||i===null||Wn(i,i.return)),e.flags&32){d=e.stateNode;try{bn(d,"")}catch(Z){Je(e,e.return,Z)}}o&4&&e.stateNode!=null&&(d=e.memoizedProps,ih(e,d,i!==null?i.memoizedProps:d)),o&1024&&(oh=!0);break;case 6:if(fn(n,e),hn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,i=e.stateNode;try{i.nodeValue=o}catch(Z){Je(e,e.return,Z)}}break;case 3:if(Lu=null,d=Ln,Ln=Mu(n.containerInfo),fn(n,e),Ln=d,hn(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{Fo(n.containerInfo)}catch(Z){Je(e,e.return,Z)}oh&&(oh=!1,Ig(e));break;case 4:o=Ln,Ln=Mu(e.stateNode.containerInfo),fn(n,e),hn(e),Ln=o;break;case 12:fn(n,e),hn(e);break;case 13:fn(n,e),hn(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(mh=vn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,lh(e,o)));break;case 22:d=e.memoizedState!==null;var B=i!==null&&i.memoizedState!==null,Y=Ir,te=dt;if(Ir=Y||d,dt=te||B,fn(n,e),dt=te,Ir=Y,hn(e),o&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(i===null||B||Ir||dt||ds(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){B=i=n;try{if(T=B.stateNode,d)V=T.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{j=B.stateNode;var re=B.memoizedProps.style,X=re!=null&&re.hasOwnProperty("display")?re.display:null;j.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(Z){Je(B,B.return,Z)}}}else if(n.tag===6){if(i===null){B=n;try{B.stateNode.nodeValue=d?"":B.memoizedProps}catch(Z){Je(B,B.return,Z)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,lh(e,i))));break;case 19:fn(n,e),hn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,lh(e,o)));break;case 30:break;case 21:break;default:fn(n,e),hn(e)}}function hn(e){var n=e.flags;if(n&2){try{for(var i,o=e.return;o!==null;){if(wg(o)){i=o;break}o=o.return}if(i==null)throw Error(a(160));switch(i.tag){case 27:var d=i.stateNode,T=sh(e);Eu(e,T,d);break;case 5:var V=i.stateNode;i.flags&32&&(bn(V,""),i.flags&=-33);var j=sh(e);Eu(e,j,V);break;case 3:case 4:var B=i.stateNode.containerInfo,Y=sh(e);ah(e,Y,B);break;default:throw Error(a(161))}}catch(te){Je(e,e.return,te)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ig(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ig(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ai(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Rg(e,n.alternate,n),n=n.sibling}function ds(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:si(4,n,n.return),ds(n);break;case 1:Wn(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&Eg(n,n.return,i),ds(n);break;case 27:jo(n.stateNode);case 26:case 5:Wn(n,n.return),ds(n);break;case 22:n.memoizedState===null&&ds(n);break;case 30:ds(n);break;default:ds(n)}e=e.sibling}}function oi(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,d=e,T=n,V=T.flags;switch(T.tag){case 0:case 11:case 15:oi(d,T,i),xo(4,T);break;case 1:if(oi(d,T,i),o=T,d=o.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(Y){Je(o,o.return,Y)}if(o=T,d=o.updateQueue,d!==null){var j=o.stateNode;try{var B=d.shared.hiddenCallbacks;if(B!==null)for(d.shared.hiddenCallbacks=null,d=0;d<B.length;d++)ap(B[d],j)}catch(Y){Je(o,o.return,Y)}}i&&V&64&&bg(T),Co(T,T.return);break;case 27:Ag(T);case 26:case 5:oi(d,T,i),i&&o===null&&V&4&&Tg(T),Co(T,T.return);break;case 12:oi(d,T,i);break;case 13:oi(d,T,i),i&&V&4&&Dg(d,T);break;case 22:T.memoizedState===null&&oi(d,T,i),Co(T,T.return);break;case 30:break;default:oi(d,T,i)}n=n.sibling}}function uh(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&ho(i))}function ch(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ho(e))}function er(e,n,i,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ng(e,n,i,o),n=n.sibling}function Ng(e,n,i,o){var d=n.flags;switch(n.tag){case 0:case 11:case 15:er(e,n,i,o),d&2048&&xo(9,n);break;case 1:er(e,n,i,o);break;case 3:er(e,n,i,o),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ho(e)));break;case 12:if(d&2048){er(e,n,i,o),e=n.stateNode;try{var T=n.memoizedProps,V=T.id,j=T.onPostCommit;typeof j=="function"&&j(V,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(B){Je(n,n.return,B)}}else er(e,n,i,o);break;case 13:er(e,n,i,o);break;case 23:break;case 22:T=n.stateNode,V=n.alternate,n.memoizedState!==null?T._visibility&2?er(e,n,i,o):Do(e,n):T._visibility&2?er(e,n,i,o):(T._visibility|=2,ia(e,n,i,o,(n.subtreeFlags&10256)!==0)),d&2048&&uh(V,n);break;case 24:er(e,n,i,o),d&2048&&ch(n.alternate,n);break;default:er(e,n,i,o)}}function ia(e,n,i,o,d){for(d=d&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var T=e,V=n,j=i,B=o,Y=V.flags;switch(V.tag){case 0:case 11:case 15:ia(T,V,j,B,d),xo(8,V);break;case 23:break;case 22:var te=V.stateNode;V.memoizedState!==null?te._visibility&2?ia(T,V,j,B,d):Do(T,V):(te._visibility|=2,ia(T,V,j,B,d)),d&&Y&2048&&uh(V.alternate,V);break;case 24:ia(T,V,j,B,d),d&&Y&2048&&ch(V.alternate,V);break;default:ia(T,V,j,B,d)}n=n.sibling}}function Do(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,o=n,d=o.flags;switch(o.tag){case 22:Do(i,o),d&2048&&uh(o.alternate,o);break;case 24:Do(i,o),d&2048&&ch(o.alternate,o);break;default:Do(i,o)}n=n.sibling}}var Oo=8192;function sa(e){if(e.subtreeFlags&Oo)for(e=e.child;e!==null;)Vg(e),e=e.sibling}function Vg(e){switch(e.tag){case 26:sa(e),e.flags&Oo&&e.memoizedState!==null&&NE(Ln,e.memoizedState,e.memoizedProps);break;case 5:sa(e);break;case 3:case 4:var n=Ln;Ln=Mu(e.stateNode.containerInfo),sa(e),Ln=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Oo,Oo=16777216,sa(e),Oo=n):sa(e));break;default:sa(e)}}function Mg(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Io(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];It=o,Lg(o,e)}Mg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)kg(e),e=e.sibling}function kg(e){switch(e.tag){case 0:case 11:case 15:Io(e),e.flags&2048&&si(9,e,e.return);break;case 3:Io(e);break;case 12:Io(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Tu(e)):Io(e);break;default:Io(e)}}function Tu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];It=o,Lg(o,e)}Mg(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:si(8,n,n.return),Tu(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,Tu(n));break;default:Tu(n)}e=e.sibling}}function Lg(e,n){for(;It!==null;){var i=It;switch(i.tag){case 0:case 11:case 15:si(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ho(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,It=o;else e:for(i=e;It!==null;){o=It;var d=o.sibling,T=o.return;if(xg(o),o===i){It=null;break e}if(d!==null){d.return=T,It=d;break e}It=T}}}var Y0={getCacheForType:function(e){var n=qt(wt),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i}},K0=typeof WeakMap=="function"?WeakMap:Map,Ge=0,et=null,Ve=null,Pe=0,Qe=0,dn=null,li=!1,aa=!1,fh=!1,Vr=0,ct=0,ui=0,ms=0,hh=0,Dn=0,oa=0,No=null,nn=null,dh=!1,mh=0,wu=1/0,Au=null,ci=null,jt=0,fi=null,la=null,ua=0,ph=0,gh=null,jg=null,Vo=0,yh=null;function mn(){if((Ge&2)!==0&&Pe!==0)return Pe&-Pe;if(K.T!==null){var e=Xs;return e!==0?e:Ah()}return Gr()}function Pg(){Dn===0&&(Dn=(Pe&536870912)===0||Be?$a():536870912);var e=Cn.current;return e!==null&&(e.flags|=32),Dn}function pn(e,n,i){(e===et&&(Qe===2||Qe===9)||e.cancelPendingCommit!==null)&&(ca(e,0),hi(e,Pe,Dn,!1)),fr(e,i),((Ge&2)===0||e!==et)&&(e===et&&((Ge&2)===0&&(ms|=i),ct===4&&hi(e,Pe,Dn,!1)),tr(e))}function Ug(e,n,i){if((Ge&6)!==0)throw Error(a(327));var o=!i&&(n&124)===0&&(n&e.expiredLanes)===0||zi(e,n),d=o?J0(e,n):bh(e,n,!0),T=o;do{if(d===0){aa&&!o&&hi(e,n,0,!1);break}else{if(i=e.current.alternate,T&&!X0(i)){d=bh(e,n,!1),T=!1;continue}if(d===2){if(T=n,e.errorRecoveryDisabledLanes&T)var V=0;else V=e.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){n=V;e:{var j=e;d=No;var B=j.current.memoizedState.isDehydrated;if(B&&(ca(j,V).flags|=256),V=bh(j,V,!1),V!==2){if(fh&&!B){j.errorRecoveryDisabledLanes|=T,ms|=T,d=4;break e}T=nn,nn=d,T!==null&&(nn===null?nn=T:nn.push.apply(nn,T))}d=V}if(T=!1,d!==2)continue}}if(d===1){ca(e,0),hi(e,n,0,!0);break}e:{switch(o=e,T=d,T){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:hi(o,n,Dn,!li);break e;case 2:nn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(d=mh+300-vn(),10<d)){if(hi(o,n,Dn,!li),xs(o,0,!0)!==0)break e;o.timeoutHandle=my(zg.bind(null,o,i,nn,Au,dh,n,Dn,ms,oa,li,T,2,-0,0),d);break e}zg(o,i,nn,Au,dh,n,Dn,ms,oa,li,T,0,-0,0)}}break}while(!0);tr(e)}function zg(e,n,i,o,d,T,V,j,B,Y,te,re,X,Z){if(e.timeoutHandle=-1,re=n.subtreeFlags,(re&8192||(re&16785408)===16785408)&&(zo={stylesheets:null,count:0,unsuspend:IE},Vg(n),re=VE(),re!==null)){e.cancelPendingCommit=re(Qg.bind(null,e,n,T,i,o,d,V,j,B,te,1,X,Z)),hi(e,T,V,!Y);return}Qg(e,n,T,i,o,d,V,j,B)}function X0(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var d=i[o],T=d.getSnapshot;d=d.value;try{if(!un(T(),d))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function hi(e,n,i,o){n&=~hh,n&=~ms,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var d=n;0<d;){var T=31-Bt(d),V=1<<T;o[T]=-1,d&=~V}i!==0&&zn(e,i,n)}function Su(){return(Ge&6)===0?(Mo(0),!1):!0}function vh(){if(Ve!==null){if(Qe===0)var e=Ve.return;else e=Ve,Sr=ls=null,kf(e),na=null,Ao=0,e=Ve;for(;e!==null;)_g(e.alternate,e),e=e.return;Ve=null}}function ca(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,mE(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),vh(),et=e,Ve=i=Tr(e.current,null),Pe=n,Qe=0,dn=null,li=!1,aa=zi(e,n),fh=!1,oa=Dn=hh=ms=ui=ct=0,nn=No=null,dh=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var d=31-Bt(o),T=1<<d;n|=e[d],o&=~T}return Vr=n,Ql(),i}function $g(e,n){Oe=null,K.H=hu,n===po||n===nu?(n=ip(),Qe=3):n===tp?(n=ip(),Qe=4):Qe=n===sg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,dn=n,Ve===null&&(ct=1,yu(e,An(n,e.current)))}function Bg(){var e=K.H;return K.H=hu,e===null?hu:e}function qg(){var e=K.A;return K.A=Y0,e}function _h(){ct=4,li||(Pe&4194048)!==Pe&&Cn.current!==null||(aa=!0),(ui&134217727)===0&&(ms&134217727)===0||et===null||hi(et,Pe,Dn,!1)}function bh(e,n,i){var o=Ge;Ge|=2;var d=Bg(),T=qg();(et!==e||Pe!==n)&&(Au=null,ca(e,n)),n=!1;var V=ct;e:do try{if(Qe!==0&&Ve!==null){var j=Ve,B=dn;switch(Qe){case 8:vh(),V=6;break e;case 3:case 2:case 9:case 6:Cn.current===null&&(n=!0);var Y=Qe;if(Qe=0,dn=null,fa(e,j,B,Y),i&&aa){V=0;break e}break;default:Y=Qe,Qe=0,dn=null,fa(e,j,B,Y)}}Z0(),V=ct;break}catch(te){$g(e,te)}while(!0);return n&&e.shellSuspendCounter++,Sr=ls=null,Ge=o,K.H=d,K.A=T,Ve===null&&(et=null,Pe=0,Ql()),V}function Z0(){for(;Ve!==null;)Hg(Ve)}function J0(e,n){var i=Ge;Ge|=2;var o=Bg(),d=qg();et!==e||Pe!==n?(Au=null,wu=vn()+500,ca(e,n)):aa=zi(e,n);e:do try{if(Qe!==0&&Ve!==null){n=Ve;var T=dn;t:switch(Qe){case 1:Qe=0,dn=null,fa(e,n,T,1);break;case 2:case 9:if(np(T)){Qe=0,dn=null,Fg(n);break}n=function(){Qe!==2&&Qe!==9||et!==e||(Qe=7),tr(e)},T.then(n,n);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:np(T)?(Qe=0,dn=null,Fg(n)):(Qe=0,dn=null,fa(e,n,T,7));break;case 5:var V=null;switch(Ve.tag){case 26:V=Ve.memoizedState;case 5:case 27:var j=Ve;if(!V||Ry(V)){Qe=0,dn=null;var B=j.sibling;if(B!==null)Ve=B;else{var Y=j.return;Y!==null?(Ve=Y,Ru(Y)):Ve=null}break t}}Qe=0,dn=null,fa(e,n,T,5);break;case 6:Qe=0,dn=null,fa(e,n,T,6);break;case 8:vh(),ct=6;break e;default:throw Error(a(462))}}W0();break}catch(te){$g(e,te)}while(!0);return Sr=ls=null,K.H=o,K.A=d,Ge=i,Ve!==null?0:(et=null,Pe=0,Ql(),ct)}function W0(){for(;Ve!==null&&!ja();)Hg(Ve)}function Hg(e){var n=yg(e.alternate,e,Vr);e.memoizedProps=e.pendingProps,n===null?Ru(e):Ve=n}function Fg(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=fg(i,n,n.pendingProps,n.type,void 0,Pe);break;case 11:n=fg(i,n,n.pendingProps,n.type.render,n.ref,Pe);break;case 5:kf(n);default:_g(i,n),n=Ve=Gm(n,Vr),n=yg(i,n,Vr)}e.memoizedProps=e.pendingProps,n===null?Ru(e):Ve=n}function fa(e,n,i,o){Sr=ls=null,kf(n),na=null,Ao=0;var d=n.return;try{if(B0(e,d,n,i,Pe)){ct=1,yu(e,An(i,e.current)),Ve=null;return}}catch(T){if(d!==null)throw Ve=d,T;ct=1,yu(e,An(i,e.current)),Ve=null;return}n.flags&32768?(Be||o===1?e=!0:aa||(Pe&536870912)!==0?e=!1:(li=e=!0,(o===2||o===9||o===3||o===6)&&(o=Cn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Gg(n,e)):Ru(n)}function Ru(e){var n=e;do{if((n.flags&32768)!==0){Gg(n,li);return}e=n.return;var i=H0(n.alternate,n,Vr);if(i!==null){Ve=i;return}if(n=n.sibling,n!==null){Ve=n;return}Ve=n=e}while(n!==null);ct===0&&(ct=5)}function Gg(e,n){do{var i=F0(e.alternate,e);if(i!==null){i.flags&=32767,Ve=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){Ve=e;return}Ve=e=i}while(e!==null);ct=6,Ve=null}function Qg(e,n,i,o,d,T,V,j,B){e.cancelPendingCommit=null;do xu();while(jt!==0);if((Ge&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(T=n.lanes|n.childLanes,T|=cf,qa(e,i,T,V,j,B),e===et&&(Ve=et=null,Pe=0),la=n,fi=e,ua=i,ph=T,gh=d,jg=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,rE(Li,function(){return Jg(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=K.T,K.T=null,d=se.p,se.p=2,V=Ge,Ge|=4;try{G0(e,n,i)}finally{Ge=V,se.p=d,K.T=o}}jt=1,Yg(),Kg(),Xg()}}function Yg(){if(jt===1){jt=0;var e=fi,n=la,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=K.T,K.T=null;var o=se.p;se.p=2;var d=Ge;Ge|=4;try{Og(n,e);var T=Nh,V=Lm(e.containerInfo),j=T.focusedElem,B=T.selectionRange;if(V!==j&&j&&j.ownerDocument&&km(j.ownerDocument.documentElement,j)){if(B!==null&&sf(j)){var Y=B.start,te=B.end;if(te===void 0&&(te=Y),"selectionStart"in j)j.selectionStart=Y,j.selectionEnd=Math.min(te,j.value.length);else{var re=j.ownerDocument||document,X=re&&re.defaultView||window;if(X.getSelection){var Z=X.getSelection(),Ae=j.textContent.length,be=Math.min(B.start,Ae),Ze=B.end===void 0?be:Math.min(B.end,Ae);!Z.extend&&be>Ze&&(V=Ze,Ze=be,be=V);var F=Mm(j,be),H=Mm(j,Ze);if(F&&H&&(Z.rangeCount!==1||Z.anchorNode!==F.node||Z.anchorOffset!==F.offset||Z.focusNode!==H.node||Z.focusOffset!==H.offset)){var Q=re.createRange();Q.setStart(F.node,F.offset),Z.removeAllRanges(),be>Ze?(Z.addRange(Q),Z.extend(H.node,H.offset)):(Q.setEnd(H.node,H.offset),Z.addRange(Q))}}}}for(re=[],Z=j;Z=Z.parentNode;)Z.nodeType===1&&re.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<re.length;j++){var ne=re[j];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Uu=!!Ih,Nh=Ih=null}finally{Ge=d,se.p=o,K.T=i}}e.current=n,jt=2}}function Kg(){if(jt===2){jt=0;var e=fi,n=la,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=K.T,K.T=null;var o=se.p;se.p=2;var d=Ge;Ge|=4;try{Rg(e,n.alternate,n)}finally{Ge=d,se.p=o,K.T=i}}jt=3}}function Xg(){if(jt===4||jt===3){jt=0,Tl();var e=fi,n=la,i=ua,o=jg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?jt=5:(jt=0,la=fi=null,Zg(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(ci=null),Cs(i),n=n.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(lt,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=K.T,d=se.p,se.p=2,K.T=null;try{for(var T=e.onRecoverableError,V=0;V<o.length;V++){var j=o[V];T(j.value,{componentStack:j.stack})}}finally{K.T=n,se.p=d}}(ua&3)!==0&&xu(),tr(e),d=e.pendingLanes,(i&4194090)!==0&&(d&42)!==0?e===yh?Vo++:(Vo=0,yh=e):Vo=0,Mo(0)}}function Zg(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ho(n)))}function xu(e){return Yg(),Kg(),Xg(),Jg()}function Jg(){if(jt!==5)return!1;var e=fi,n=ph;ph=0;var i=Cs(ua),o=K.T,d=se.p;try{se.p=32>i?32:i,K.T=null,i=gh,gh=null;var T=fi,V=ua;if(jt=0,la=fi=null,ua=0,(Ge&6)!==0)throw Error(a(331));var j=Ge;if(Ge|=4,kg(T.current),Ng(T,T.current,V,i),Ge=j,Mo(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(lt,T)}catch{}return!0}finally{se.p=d,K.T=o,Zg(e,n)}}function Wg(e,n,i){n=An(i,n),n=Kf(e.stateNode,n,2),e=ti(e,n,2),e!==null&&(fr(e,2),tr(e))}function Je(e,n,i){if(e.tag===3)Wg(e,e,i);else for(;n!==null;){if(n.tag===3){Wg(n,e,i);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ci===null||!ci.has(o))){e=An(i,e),i=rg(2),o=ti(n,i,2),o!==null&&(ig(i,o,n,e),fr(o,2),tr(o));break}}n=n.return}}function Eh(e,n,i){var o=e.pingCache;if(o===null){o=e.pingCache=new K0;var d=new Set;o.set(n,d)}else d=o.get(n),d===void 0&&(d=new Set,o.set(n,d));d.has(i)||(fh=!0,d.add(i),e=eE.bind(null,e,n,i),n.then(e,e))}function eE(e,n,i){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,et===e&&(Pe&i)===i&&(ct===4||ct===3&&(Pe&62914560)===Pe&&300>vn()-mh?(Ge&2)===0&&ca(e,0):hh|=i,oa===Pe&&(oa=0)),tr(e)}function ey(e,n){n===0&&(n=Ba()),e=Gs(e,n),e!==null&&(fr(e,n),tr(e))}function tE(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),ey(e,i)}function nE(e,n){var i=0;switch(e.tag){case 13:var o=e.stateNode,d=e.memoizedState;d!==null&&(i=d.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),ey(e,i)}function rE(e,n){return Mi(e,n)}var Cu=null,ha=null,Th=!1,Du=!1,wh=!1,ps=0;function tr(e){e!==ha&&e.next===null&&(ha===null?Cu=ha=e:ha=ha.next=e),Du=!0,Th||(Th=!0,sE())}function Mo(e,n){if(!wh&&Du){wh=!0;do for(var i=!1,o=Cu;o!==null;){if(e!==0){var d=o.pendingLanes;if(d===0)var T=0;else{var V=o.suspendedLanes,j=o.pingedLanes;T=(1<<31-Bt(42|e)+1)-1,T&=d&~(V&~j),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(i=!0,iy(o,T))}else T=Pe,T=xs(o,o===et?T:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(T&3)===0||zi(o,T)||(i=!0,iy(o,T));o=o.next}while(i);wh=!1}}function iE(){ty()}function ty(){Du=Th=!1;var e=0;ps!==0&&(dE()&&(e=ps),ps=0);for(var n=vn(),i=null,o=Cu;o!==null;){var d=o.next,T=ny(o,n);T===0?(o.next=null,i===null?Cu=d:i.next=d,d===null&&(ha=i)):(i=o,(e!==0||(T&3)!==0)&&(Du=!0)),o=d}Mo(e)}function ny(e,n){for(var i=e.suspendedLanes,o=e.pingedLanes,d=e.expirationTimes,T=e.pendingLanes&-62914561;0<T;){var V=31-Bt(T),j=1<<V,B=d[V];B===-1?((j&i)===0||(j&o)!==0)&&(d[V]=za(j,n)):B<=n&&(e.expiredLanes|=j),T&=~j}if(n=et,i=Pe,i=xs(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,i===0||e===n&&(Qe===2||Qe===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ki(o),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||zi(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(o!==null&&ki(o),Cs(i)){case 2:case 8:i=Ss;break;case 32:i=Li;break;case 268435456:i=Rs;break;default:i=Li}return o=ry.bind(null,e),i=Mi(i,o),e.callbackPriority=n,e.callbackNode=i,n}return o!==null&&o!==null&&ki(o),e.callbackPriority=2,e.callbackNode=null,2}function ry(e,n){if(jt!==0&&jt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(xu()&&e.callbackNode!==i)return null;var o=Pe;return o=xs(e,e===et?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Ug(e,o,n),ny(e,vn()),e.callbackNode!=null&&e.callbackNode===i?ry.bind(null,e):null)}function iy(e,n){if(xu())return null;Ug(e,n,!0)}function sE(){pE(function(){(Ge&6)!==0?Mi(Pa,iE):ty()})}function Ah(){return ps===0&&(ps=$a()),ps}function sy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ms(""+e)}function ay(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function aE(e,n,i,o,d){if(n==="submit"&&i&&i.stateNode===d){var T=sy((d[pt]||null).action),V=o.submitter;V&&(n=(n=V[pt]||null)?sy(n.formAction):V.getAttribute("formAction"),n!==null&&(T=n,V=null));var j=new ks("action","action",null,o,d);e.push({event:j,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ps!==0){var B=V?ay(d,V):new FormData(d);Hf(i,{pending:!0,data:B,method:d.method,action:T},null,B)}}else typeof T=="function"&&(j.preventDefault(),B=V?ay(d,V):new FormData(d),Hf(i,{pending:!0,data:B,method:d.method,action:T},T,B))},currentTarget:d}]})}}for(var Sh=0;Sh<uf.length;Sh++){var Rh=uf[Sh],oE=Rh.toLowerCase(),lE=Rh[0].toUpperCase()+Rh.slice(1);kn(oE,"on"+lE)}kn(Um,"onAnimationEnd"),kn(zm,"onAnimationIteration"),kn($m,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(S0,"onTransitionRun"),kn(R0,"onTransitionStart"),kn(x0,"onTransitionCancel"),kn(Bm,"onTransitionEnd"),dr("onMouseEnter",["mouseout","mouseover"]),dr("onMouseLeave",["mouseout","mouseover"]),dr("onPointerEnter",["pointerout","pointerover"]),dr("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ko));function oy(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],d=o.event;o=o.listeners;e:{var T=void 0;if(n)for(var V=o.length-1;0<=V;V--){var j=o[V],B=j.instance,Y=j.currentTarget;if(j=j.listener,B!==T&&d.isPropagationStopped())break e;T=j,d.currentTarget=Y;try{T(d)}catch(te){gu(te)}d.currentTarget=null,T=B}else for(V=0;V<o.length;V++){if(j=o[V],B=j.instance,Y=j.currentTarget,j=j.listener,B!==T&&d.isPropagationStopped())break e;T=j,d.currentTarget=Y;try{T(d)}catch(te){gu(te)}d.currentTarget=null,T=B}}}}function Me(e,n){var i=n[Fa];i===void 0&&(i=n[Fa]=new Set);var o=e+"__bubble";i.has(o)||(ly(n,e,2,!1),i.add(o))}function xh(e,n,i){var o=0;n&&(o|=4),ly(i,e,o,n)}var Ou="_reactListening"+Math.random().toString(36).slice(2);function Ch(e){if(!e[Ou]){e[Ou]=!0,Ga.forEach(function(i){i!=="selectionchange"&&(uE.has(i)||xh(i,!1,e),xh(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ou]||(n[Ou]=!0,xh("selectionchange",!1,n))}}function ly(e,n,i,o){switch(Ny(n)){case 2:var d=LE;break;case 8:d=jE;break;default:d=Bh}i=d.bind(null,n,i,e),d=void 0,!Tn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),o?d!==void 0?e.addEventListener(n,i,{capture:!0,passive:d}):e.addEventListener(n,i,!0):d!==void 0?e.addEventListener(n,i,{passive:d}):e.addEventListener(n,i,!1)}function Dh(e,n,i,o,d){var T=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var V=o.tag;if(V===3||V===4){var j=o.stateNode.containerInfo;if(j===d)break;if(V===4)for(V=o.return;V!==null;){var B=V.tag;if((B===3||B===4)&&V.stateNode.containerInfo===d)return;V=V.return}for(;j!==null;){if(V=hr(j),V===null)return;if(B=V.tag,B===5||B===6||B===26||B===27){o=T=V;continue e}j=j.parentNode}}o=o.return}Nl(function(){var Y=T,te=En(i),re=[];e:{var X=qm.get(e);if(X!==void 0){var Z=ks,Ae=e;switch(e){case"keypress":if(Gn(i)===0)break e;case"keydown":case"keyup":Z=$s;break;case"focusin":Ae="focus",Z=Ps;break;case"focusout":Ae="blur",Z=Ps;break;case"beforeblur":case"afterblur":Z=Ps;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=wn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=ef;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=zl;break;case Um:case zm:case $m:Z=Us;break;case Bm:Z=Bl;break;case"scroll":case"scrollend":Z=Vl;break;case"wheel":Z=Bs;break;case"copy":case"cut":case"paste":Z=zs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=io;break;case"toggle":case"beforetoggle":Z=Hl}var be=(n&4)!==0,Ze=!be&&(e==="scroll"||e==="scrollend"),F=be?X!==null?X+"Capture":null:X;be=[];for(var H=Y,Q;H!==null;){var ne=H;if(Q=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||Q===null||F===null||(ne=Yi(H,F),ne!=null&&be.push(Lo(H,ne,Q))),Ze)break;H=H.return}0<be.length&&(X=new Z(X,Ae,null,i,te),re.push({event:X,listeners:be}))}}if((n&7)===0){e:{if(X=e==="mouseover"||e==="pointerover",Z=e==="mouseout"||e==="pointerout",X&&i!==gr&&(Ae=i.relatedTarget||i.fromElement)&&(hr(Ae)||Ae[_n]))break e;if((Z||X)&&(X=te.window===te?te:(X=te.ownerDocument)?X.defaultView||X.parentWindow:window,Z?(Ae=i.relatedTarget||i.toElement,Z=Y,Ae=Ae?hr(Ae):null,Ae!==null&&(Ze=u(Ae),be=Ae.tag,Ae!==Ze||be!==5&&be!==27&&be!==6)&&(Ae=null)):(Z=null,Ae=Y),Z!==Ae)){if(be=wn,ne="onMouseLeave",F="onMouseEnter",H="mouse",(e==="pointerout"||e==="pointerover")&&(be=io,ne="onPointerLeave",F="onPointerEnter",H="pointer"),Ze=Z==null?X:Bn(Z),Q=Ae==null?X:Bn(Ae),X=new be(ne,H+"leave",Z,i,te),X.target=Ze,X.relatedTarget=Q,ne=null,hr(te)===Y&&(be=new be(F,H+"enter",Ae,i,te),be.target=Q,be.relatedTarget=Ze,ne=be),Ze=ne,Z&&Ae)t:{for(be=Z,F=Ae,H=0,Q=be;Q;Q=da(Q))H++;for(Q=0,ne=F;ne;ne=da(ne))Q++;for(;0<H-Q;)be=da(be),H--;for(;0<Q-H;)F=da(F),Q--;for(;H--;){if(be===F||F!==null&&be===F.alternate)break t;be=da(be),F=da(F)}be=null}else be=null;Z!==null&&uy(re,X,Z,be,!1),Ae!==null&&Ze!==null&&uy(re,Ze,Ae,be,!0)}}e:{if(X=Y?Bn(Y):window,Z=X.nodeName&&X.nodeName.toLowerCase(),Z==="select"||Z==="input"&&X.type==="file")var pe=Cm;else if(Tt(X))if(Dm)pe=T0;else{pe=b0;var Ne=_0}else Z=X.nodeName,!Z||Z.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Y&&Za(Y.elementType)&&(pe=Cm):pe=E0;if(pe&&(pe=pe(e,Y))){Er(re,pe,i,te);break e}Ne&&Ne(e,X,Y),e==="focusout"&&Y&&X.type==="number"&&Y.memoizedProps.value!=null&&Xr(X,"number",X.value)}switch(Ne=Y?Bn(Y):window,e){case"focusin":(Tt(Ne)||Ne.contentEditable==="true")&&(qs=Ne,af=Y,oo=null);break;case"focusout":oo=af=qs=null;break;case"mousedown":of=!0;break;case"contextmenu":case"mouseup":case"dragend":of=!1,jm(re,i,te);break;case"selectionchange":if(A0)break;case"keydown":case"keyup":jm(re,i,te)}var ye;if(Kn)e:{switch(e){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Le?J(e,i)&&(Te="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Te="onCompositionStart");Te&&(I&&i.locale!=="ko"&&(Le||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Le&&(ye=Wa()):(Fn=te,Zr="value"in Fn?Fn.value:Fn.textContent,Le=!0)),Ne=Iu(Y,Te),0<Ne.length&&(Te=new no(Te,e,null,i,te),re.push({event:Te,listeners:Ne}),ye?Te.data=ye:(ye=ce(i),ye!==null&&(Te.data=ye)))),(ye=x?Et(e,i):je(e,i))&&(Te=Iu(Y,"onBeforeInput"),0<Te.length&&(Ne=new no("onBeforeInput","beforeinput",null,i,te),re.push({event:Ne,listeners:Te}),Ne.data=ye)),aE(re,e,Y,i,te)}oy(re,n)})}function Lo(e,n,i){return{instance:e,listener:n,currentTarget:i}}function Iu(e,n){for(var i=n+"Capture",o=[];e!==null;){var d=e,T=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||T===null||(d=Yi(e,i),d!=null&&o.unshift(Lo(e,d,T)),d=Yi(e,n),d!=null&&o.push(Lo(e,d,T))),e.tag===3)return o;e=e.return}return[]}function da(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function uy(e,n,i,o,d){for(var T=n._reactName,V=[];i!==null&&i!==o;){var j=i,B=j.alternate,Y=j.stateNode;if(j=j.tag,B!==null&&B===o)break;j!==5&&j!==26&&j!==27||Y===null||(B=Y,d?(Y=Yi(i,T),Y!=null&&V.unshift(Lo(i,Y,B))):d||(Y=Yi(i,T),Y!=null&&V.push(Lo(i,Y,B)))),i=i.return}V.length!==0&&e.push({event:n,listeners:V})}var cE=/\r\n?/g,fE=/\u0000|\uFFFD/g;function cy(e){return(typeof e=="string"?e:""+e).replace(cE,`
`).replace(fE,"")}function fy(e,n){return n=cy(n),cy(e)===n}function Nu(){}function Xe(e,n,i,o,d,T){switch(i){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||bn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&bn(e,""+o);break;case"className":qn(e,"class",o);break;case"tabIndex":qn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":qn(e,i,o);break;case"style":Xa(e,o,T);break;case"data":if(n!=="object"){qn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=Ms(""+o),e.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(i==="formAction"?(n!=="input"&&Xe(e,n,"name",d.name,d,null),Xe(e,n,"formEncType",d.formEncType,d,null),Xe(e,n,"formMethod",d.formMethod,d,null),Xe(e,n,"formTarget",d.formTarget,d,null)):(Xe(e,n,"encType",d.encType,d,null),Xe(e,n,"method",d.method,d,null),Xe(e,n,"target",d.target,d,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=Ms(""+o),e.setAttribute(i,o);break;case"onClick":o!=null&&(e.onclick=Nu);break;case"onScroll":o!=null&&Me("scroll",e);break;case"onScrollEnd":o!=null&&Me("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(i=o.__html,i!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}i=Ms(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""+o):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":o===!0?e.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,o):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(i,o):e.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(i):e.setAttribute(i,o);break;case"popover":Me("beforetoggle",e),Me("toggle",e),Kr(e,"popover",o);break;case"xlinkActuate":Mt(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Mt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Mt(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Mt(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Mt(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Mt(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Mt(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Mt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Mt(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Kr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Jc.get(i)||i,Kr(e,i,o))}}function Oh(e,n,i,o,d,T){switch(i){case"style":Xa(e,o,T);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(i=o.__html,i!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"children":typeof o=="string"?bn(e,o):(typeof o=="number"||typeof o=="bigint")&&bn(e,""+o);break;case"onScroll":o!=null&&Me("scroll",e);break;case"onScrollEnd":o!=null&&Me("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Nu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ds.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(d=i.endsWith("Capture"),n=i.slice(2,d?i.length-7:void 0),T=e[pt]||null,T=T!=null?T[i]:null,typeof T=="function"&&e.removeEventListener(n,T,d),typeof o=="function")){typeof T!="function"&&T!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,o,d);break e}i in e?e[i]=o:o===!0?e.setAttribute(i,""):Kr(e,i,o)}}}function Pt(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",e),Me("load",e);var o=!1,d=!1,T;for(T in i)if(i.hasOwnProperty(T)){var V=i[T];if(V!=null)switch(T){case"src":o=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xe(e,n,T,V,i,null)}}d&&Xe(e,n,"srcSet",i.srcSet,i,null),o&&Xe(e,n,"src",i.src,i,null);return;case"input":Me("invalid",e);var j=T=V=d=null,B=null,Y=null;for(o in i)if(i.hasOwnProperty(o)){var te=i[o];if(te!=null)switch(o){case"name":d=te;break;case"type":V=te;break;case"checked":B=te;break;case"defaultChecked":Y=te;break;case"value":T=te;break;case"defaultValue":j=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(a(137,n));break;default:Xe(e,n,o,te,i,null)}}Fi(e,T,j,B,Y,V,d,!1),Vs(e);return;case"select":Me("invalid",e),o=V=T=null;for(d in i)if(i.hasOwnProperty(d)&&(j=i[d],j!=null))switch(d){case"value":T=j;break;case"defaultValue":V=j;break;case"multiple":o=j;default:Xe(e,n,d,j,i,null)}n=T,i=V,e.multiple=!!o,n!=null?pr(e,!!o,n,!1):i!=null&&pr(e,!!o,i,!0);return;case"textarea":Me("invalid",e),T=d=o=null;for(V in i)if(i.hasOwnProperty(V)&&(j=i[V],j!=null))switch(V){case"value":o=j;break;case"defaultValue":d=j;break;case"children":T=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(91));break;default:Xe(e,n,V,j,i,null)}Gi(e,o,d,T),Vs(e);return;case"option":for(B in i)if(i.hasOwnProperty(B)&&(o=i[B],o!=null))switch(B){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Xe(e,n,B,o,i,null)}return;case"dialog":Me("beforetoggle",e),Me("toggle",e),Me("cancel",e),Me("close",e);break;case"iframe":case"object":Me("load",e);break;case"video":case"audio":for(o=0;o<ko.length;o++)Me(ko[o],e);break;case"image":Me("error",e),Me("load",e);break;case"details":Me("toggle",e);break;case"embed":case"source":case"link":Me("error",e),Me("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in i)if(i.hasOwnProperty(Y)&&(o=i[Y],o!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xe(e,n,Y,o,i,null)}return;default:if(Za(n)){for(te in i)i.hasOwnProperty(te)&&(o=i[te],o!==void 0&&Oh(e,n,te,o,i,void 0));return}}for(j in i)i.hasOwnProperty(j)&&(o=i[j],o!=null&&Xe(e,n,j,o,i,null))}function hE(e,n,i,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,T=null,V=null,j=null,B=null,Y=null,te=null;for(Z in i){var re=i[Z];if(i.hasOwnProperty(Z)&&re!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":B=re;default:o.hasOwnProperty(Z)||Xe(e,n,Z,null,o,re)}}for(var X in o){var Z=o[X];if(re=i[X],o.hasOwnProperty(X)&&(Z!=null||re!=null))switch(X){case"type":T=Z;break;case"name":d=Z;break;case"checked":Y=Z;break;case"defaultChecked":te=Z;break;case"value":V=Z;break;case"defaultValue":j=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,n));break;default:Z!==re&&Xe(e,n,X,Z,o,re)}}ln(e,V,j,B,Y,te,T,d);return;case"select":Z=V=j=X=null;for(T in i)if(B=i[T],i.hasOwnProperty(T)&&B!=null)switch(T){case"value":break;case"multiple":Z=B;default:o.hasOwnProperty(T)||Xe(e,n,T,null,o,B)}for(d in o)if(T=o[d],B=i[d],o.hasOwnProperty(d)&&(T!=null||B!=null))switch(d){case"value":X=T;break;case"defaultValue":j=T;break;case"multiple":V=T;default:T!==B&&Xe(e,n,d,T,o,B)}n=j,i=V,o=Z,X!=null?pr(e,!!i,X,!1):!!o!=!!i&&(n!=null?pr(e,!!i,n,!0):pr(e,!!i,i?[]:"",!1));return;case"textarea":Z=X=null;for(j in i)if(d=i[j],i.hasOwnProperty(j)&&d!=null&&!o.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:Xe(e,n,j,null,o,d)}for(V in o)if(d=o[V],T=i[V],o.hasOwnProperty(V)&&(d!=null||T!=null))switch(V){case"value":X=d;break;case"defaultValue":Z=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==T&&Xe(e,n,V,d,o,T)}Ye(e,X,Z);return;case"option":for(var Ae in i)if(X=i[Ae],i.hasOwnProperty(Ae)&&X!=null&&!o.hasOwnProperty(Ae))switch(Ae){case"selected":e.selected=!1;break;default:Xe(e,n,Ae,null,o,X)}for(B in o)if(X=o[B],Z=i[B],o.hasOwnProperty(B)&&X!==Z&&(X!=null||Z!=null))switch(B){case"selected":e.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:Xe(e,n,B,X,o,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in i)X=i[be],i.hasOwnProperty(be)&&X!=null&&!o.hasOwnProperty(be)&&Xe(e,n,be,null,o,X);for(Y in o)if(X=o[Y],Z=i[Y],o.hasOwnProperty(Y)&&X!==Z&&(X!=null||Z!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,n));break;default:Xe(e,n,Y,X,o,Z)}return;default:if(Za(n)){for(var Ze in i)X=i[Ze],i.hasOwnProperty(Ze)&&X!==void 0&&!o.hasOwnProperty(Ze)&&Oh(e,n,Ze,void 0,o,X);for(te in o)X=o[te],Z=i[te],!o.hasOwnProperty(te)||X===Z||X===void 0&&Z===void 0||Oh(e,n,te,X,o,Z);return}}for(var F in i)X=i[F],i.hasOwnProperty(F)&&X!=null&&!o.hasOwnProperty(F)&&Xe(e,n,F,null,o,X);for(re in o)X=o[re],Z=i[re],!o.hasOwnProperty(re)||X===Z||X==null&&Z==null||Xe(e,n,re,X,o,Z)}var Ih=null,Nh=null;function Vu(e){return e.nodeType===9?e:e.ownerDocument}function hy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Vh(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Mh=null;function dE(){var e=window.event;return e&&e.type==="popstate"?e===Mh?!1:(Mh=e,!0):(Mh=null,!1)}var my=typeof setTimeout=="function"?setTimeout:void 0,mE=typeof clearTimeout=="function"?clearTimeout:void 0,py=typeof Promise=="function"?Promise:void 0,pE=typeof queueMicrotask=="function"?queueMicrotask:typeof py<"u"?function(e){return py.resolve(null).then(e).catch(gE)}:my;function gE(e){setTimeout(function(){throw e})}function di(e){return e==="head"}function gy(e,n){var i=n,o=0,d=0;do{var T=i.nextSibling;if(e.removeChild(i),T&&T.nodeType===8)if(i=T.data,i==="/$"){if(0<o&&8>o){i=o;var V=e.ownerDocument;if(i&1&&jo(V.documentElement),i&2&&jo(V.body),i&4)for(i=V.head,jo(i),V=i.firstChild;V;){var j=V.nextSibling,B=V.nodeName;V[$i]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&V.rel.toLowerCase()==="stylesheet"||i.removeChild(V),V=j}}if(d===0){e.removeChild(T),Fo(n);return}d--}else i==="$"||i==="$?"||i==="$!"?d++:o=i.charCodeAt(0)-48;else o=0;i=T}while(i);Fo(n)}function kh(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":kh(i),Yr(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function yE(e,n,i,o){for(;e.nodeType===1;){var d=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[$i])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(T=e.getAttribute("rel"),T==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(T!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(T=e.getAttribute("src"),(T!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&T&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var T=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===T)return e}else return e;if(e=jn(e.nextSibling),e===null)break}return null}function vE(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=jn(e.nextSibling),e===null))return null;return e}function Lh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function _E(e,n){var i=e.ownerDocument;if(e.data!=="$?"||i.readyState==="complete")n();else{var o=function(){n(),i.removeEventListener("DOMContentLoaded",o)};i.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function jn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var jh=null;function yy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}function vy(e,n,i){switch(n=Vu(i),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function jo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Yr(e)}var On=new Map,_y=new Set;function Mu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Mr=se.d;se.d={f:bE,r:EE,D:TE,C:wE,L:AE,m:SE,X:xE,S:RE,M:CE};function bE(){var e=Mr.f(),n=Su();return e||n}function EE(e){var n=$n(e);n!==null&&n.tag===5&&n.type==="form"?Up(n):Mr.r(e)}var ma=typeof document>"u"?null:document;function by(e,n,i){var o=ma;if(o&&typeof n=="string"&&n){var d=gt(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof i=="string"&&(d+='[crossorigin="'+i+'"]'),_y.has(d)||(_y.add(d),e={rel:e,crossOrigin:i,href:n},o.querySelector(d)===null&&(n=o.createElement("link"),Pt(n,"link",e),ft(n),o.head.appendChild(n)))}}function TE(e){Mr.D(e),by("dns-prefetch",e,null)}function wE(e,n){Mr.C(e,n),by("preconnect",e,n)}function AE(e,n,i){Mr.L(e,n,i);var o=ma;if(o&&e&&n){var d='link[rel="preload"][as="'+gt(n)+'"]';n==="image"&&i&&i.imageSrcSet?(d+='[imagesrcset="'+gt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(d+='[imagesizes="'+gt(i.imageSizes)+'"]')):d+='[href="'+gt(e)+'"]';var T=d;switch(n){case"style":T=pa(e);break;case"script":T=ga(e)}On.has(T)||(e=w({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),On.set(T,e),o.querySelector(d)!==null||n==="style"&&o.querySelector(Po(T))||n==="script"&&o.querySelector(Uo(T))||(n=o.createElement("link"),Pt(n,"link",e),ft(n),o.head.appendChild(n)))}}function SE(e,n){Mr.m(e,n);var i=ma;if(i&&e){var o=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+gt(o)+'"][href="'+gt(e)+'"]',T=d;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=ga(e)}if(!On.has(T)&&(e=w({rel:"modulepreload",href:e},n),On.set(T,e),i.querySelector(d)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Uo(T)))return}o=i.createElement("link"),Pt(o,"link",e),ft(o),i.head.appendChild(o)}}}function RE(e,n,i){Mr.S(e,n,i);var o=ma;if(o&&e){var d=Kt(o).hoistableStyles,T=pa(e);n=n||"default";var V=d.get(T);if(!V){var j={loading:0,preload:null};if(V=o.querySelector(Po(T)))j.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},i),(i=On.get(T))&&Ph(e,i);var B=V=o.createElement("link");ft(B),Pt(B,"link",e),B._p=new Promise(function(Y,te){B.onload=Y,B.onerror=te}),B.addEventListener("load",function(){j.loading|=1}),B.addEventListener("error",function(){j.loading|=2}),j.loading|=4,ku(V,n,o)}V={type:"stylesheet",instance:V,count:1,state:j},d.set(T,V)}}}function xE(e,n){Mr.X(e,n);var i=ma;if(i&&e){var o=Kt(i).hoistableScripts,d=ga(e),T=o.get(d);T||(T=i.querySelector(Uo(d)),T||(e=w({src:e,async:!0},n),(n=On.get(d))&&Uh(e,n),T=i.createElement("script"),ft(T),Pt(T,"link",e),i.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},o.set(d,T))}}function CE(e,n){Mr.M(e,n);var i=ma;if(i&&e){var o=Kt(i).hoistableScripts,d=ga(e),T=o.get(d);T||(T=i.querySelector(Uo(d)),T||(e=w({src:e,async:!0,type:"module"},n),(n=On.get(d))&&Uh(e,n),T=i.createElement("script"),ft(T),Pt(T,"link",e),i.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},o.set(d,T))}}function Ey(e,n,i,o){var d=(d=Ee.current)?Mu(d):null;if(!d)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=pa(i.href),i=Kt(d).hoistableStyles,o=i.get(n),o||(o={type:"style",instance:null,count:0,state:null},i.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=pa(i.href);var T=Kt(d).hoistableStyles,V=T.get(e);if(V||(d=d.ownerDocument||d,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(e,V),(T=d.querySelector(Po(e)))&&!T._p&&(V.instance=T,V.state.loading=5),On.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},On.set(e,i),T||DE(d,e,i,V.state))),n&&o===null)throw Error(a(528,""));return V}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ga(i),i=Kt(d).hoistableScripts,o=i.get(n),o||(o={type:"script",instance:null,count:0,state:null},i.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function pa(e){return'href="'+gt(e)+'"'}function Po(e){return'link[rel="stylesheet"]['+e+"]"}function Ty(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function DE(e,n,i,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Pt(n,"link",i),ft(n),e.head.appendChild(n))}function ga(e){return'[src="'+gt(e)+'"]'}function Uo(e){return"script[async]"+e}function wy(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+gt(i.href)+'"]');if(o)return n.instance=o,ft(o),o;var d=w({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ft(o),Pt(o,"style",d),ku(o,i.precedence,e),n.instance=o;case"stylesheet":d=pa(i.href);var T=e.querySelector(Po(d));if(T)return n.state.loading|=4,n.instance=T,ft(T),T;o=Ty(i),(d=On.get(d))&&Ph(o,d),T=(e.ownerDocument||e).createElement("link"),ft(T);var V=T;return V._p=new Promise(function(j,B){V.onload=j,V.onerror=B}),Pt(T,"link",o),n.state.loading|=4,ku(T,i.precedence,e),n.instance=T;case"script":return T=ga(i.src),(d=e.querySelector(Uo(T)))?(n.instance=d,ft(d),d):(o=i,(d=On.get(T))&&(o=w({},i),Uh(o,d)),e=e.ownerDocument||e,d=e.createElement("script"),ft(d),Pt(d,"link",o),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,ku(o,i.precedence,e));return n.instance}function ku(e,n,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=o.length?o[o.length-1]:null,T=d,V=0;V<o.length;V++){var j=o[V];if(j.dataset.precedence===n)T=j;else if(T!==d)break}T?T.parentNode.insertBefore(e,T.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function Ph(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Uh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Lu=null;function Ay(e,n,i){if(Lu===null){var o=new Map,d=Lu=new Map;d.set(i,o)}else d=Lu,o=d.get(i),o||(o=new Map,d.set(i,o));if(o.has(e))return o;for(o.set(e,null),i=i.getElementsByTagName(e),d=0;d<i.length;d++){var T=i[d];if(!(T[$i]||T[bt]||e==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var V=T.getAttribute(n)||"";V=e+V;var j=o.get(V);j?j.push(T):o.set(V,[T])}}return o}function Sy(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function OE(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ry(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var zo=null;function IE(){}function NE(e,n,i){if(zo===null)throw Error(a(475));var o=zo;if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var d=pa(i.href),T=e.querySelector(Po(d));if(T){e=T._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=ju.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=T,ft(T);return}T=e.ownerDocument||e,i=Ty(i),(d=On.get(d))&&Ph(i,d),T=T.createElement("link"),ft(T);var V=T;V._p=new Promise(function(j,B){V.onload=j,V.onerror=B}),Pt(T,"link",i),n.instance=T}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=ju.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function VE(){if(zo===null)throw Error(a(475));var e=zo;return e.stylesheets&&e.count===0&&zh(e,e.stylesheets),0<e.count?function(n){var i=setTimeout(function(){if(e.stylesheets&&zh(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i)}}:null}function ju(){if(this.count--,this.count===0){if(this.stylesheets)zh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Pu=null;function zh(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Pu=new Map,n.forEach(ME,e),Pu=null,ju.call(e))}function ME(e,n){if(!(n.state.loading&4)){var i=Pu.get(e);if(i)var o=i.get(null);else{i=new Map,Pu.set(e,i);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<d.length;T++){var V=d[T];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(i.set(V.dataset.precedence,V),o=V)}o&&i.set(null,o)}d=n.instance,V=d.getAttribute("data-precedence"),T=i.get(V)||o,T===o&&i.set(null,d),i.set(V,d),this.count++,o=ju.bind(this),d.addEventListener("load",o),d.addEventListener("error",o),T?T.parentNode.insertBefore(d,T.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var $o={$$typeof:D,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function kE(e,n,i,o,d,T,V,j){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=cr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cr(0),this.hiddenUpdates=cr(null),this.identifierPrefix=o,this.onUncaughtError=d,this.onCaughtError=T,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function xy(e,n,i,o,d,T,V,j,B,Y,te,re){return e=new kE(e,n,i,V,j,B,Y,re),n=1,T===!0&&(n|=24),T=cn(3,null,null,n),e.current=T,T.stateNode=e,n=Ef(),n.refCount++,e.pooledCache=n,n.refCount++,T.memoizedState={element:o,isDehydrated:i,cache:n},Sf(T),e}function Cy(e){return e?(e=Qs,e):Qs}function Dy(e,n,i,o,d,T){d=Cy(d),o.context===null?o.context=d:o.pendingContext=d,o=ei(n),o.payload={element:i},T=T===void 0?null:T,T!==null&&(o.callback=T),i=ti(e,o,n),i!==null&&(pn(i,e,n),yo(i,e,n))}function Oy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function $h(e,n){Oy(e,n),(e=e.alternate)&&Oy(e,n)}function Iy(e){if(e.tag===13){var n=Gs(e,67108864);n!==null&&pn(n,e,67108864),$h(e,67108864)}}var Uu=!0;function LE(e,n,i,o){var d=K.T;K.T=null;var T=se.p;try{se.p=2,Bh(e,n,i,o)}finally{se.p=T,K.T=d}}function jE(e,n,i,o){var d=K.T;K.T=null;var T=se.p;try{se.p=8,Bh(e,n,i,o)}finally{se.p=T,K.T=d}}function Bh(e,n,i,o){if(Uu){var d=qh(o);if(d===null)Dh(e,n,o,zu,i),Vy(e,o);else if(UE(d,e,n,i,o))o.stopPropagation();else if(Vy(e,o),n&4&&-1<PE.indexOf(e)){for(;d!==null;){var T=$n(d);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var V=Nn(T.pendingLanes);if(V!==0){var j=T;for(j.pendingLanes|=2,j.entangledLanes|=2;V;){var B=1<<31-Bt(V);j.entanglements[1]|=B,V&=~B}tr(T),(Ge&6)===0&&(wu=vn()+500,Mo(0))}}break;case 13:j=Gs(T,2),j!==null&&pn(j,T,2),Su(),$h(T,2)}if(T=qh(o),T===null&&Dh(e,n,o,zu,i),T===d)break;d=T}d!==null&&o.stopPropagation()}else Dh(e,n,o,null,i)}}function qh(e){return e=En(e),Hh(e)}var zu=null;function Hh(e){if(zu=null,e=hr(e),e!==null){var n=u(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=h(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return zu=e,null}function Ny(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gc()){case Pa:return 2;case Ss:return 8;case Li:case Qc:return 32;case Rs:return 268435456;default:return 32}default:return 32}}var Fh=!1,mi=null,pi=null,gi=null,Bo=new Map,qo=new Map,yi=[],PE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vy(e,n){switch(e){case"focusin":case"focusout":mi=null;break;case"dragenter":case"dragleave":pi=null;break;case"mouseover":case"mouseout":gi=null;break;case"pointerover":case"pointerout":Bo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":qo.delete(n.pointerId)}}function Ho(e,n,i,o,d,T){return e===null||e.nativeEvent!==T?(e={blockedOn:n,domEventName:i,eventSystemFlags:o,nativeEvent:T,targetContainers:[d]},n!==null&&(n=$n(n),n!==null&&Iy(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function UE(e,n,i,o,d){switch(n){case"focusin":return mi=Ho(mi,e,n,i,o,d),!0;case"dragenter":return pi=Ho(pi,e,n,i,o,d),!0;case"mouseover":return gi=Ho(gi,e,n,i,o,d),!0;case"pointerover":var T=d.pointerId;return Bo.set(T,Ho(Bo.get(T)||null,e,n,i,o,d)),!0;case"gotpointercapture":return T=d.pointerId,qo.set(T,Ho(qo.get(T)||null,e,n,i,o,d)),!0}return!1}function My(e){var n=hr(e.target);if(n!==null){var i=u(n);if(i!==null){if(n=i.tag,n===13){if(n=h(i),n!==null){e.blockedOn=n,Sl(e.priority,function(){if(i.tag===13){var o=mn();o=Fr(o);var d=Gs(i,o);d!==null&&pn(d,i,o),$h(i,o)}});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $u(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=qh(e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);gr=o,i.target.dispatchEvent(o),gr=null}else return n=$n(i),n!==null&&Iy(n),e.blockedOn=i,!1;n.shift()}return!0}function ky(e,n,i){$u(e)&&i.delete(n)}function zE(){Fh=!1,mi!==null&&$u(mi)&&(mi=null),pi!==null&&$u(pi)&&(pi=null),gi!==null&&$u(gi)&&(gi=null),Bo.forEach(ky),qo.forEach(ky)}function Bu(e,n){e.blockedOn===n&&(e.blockedOn=null,Fh||(Fh=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,zE)))}var qu=null;function Ly(e){qu!==e&&(qu=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){qu===e&&(qu=null);for(var n=0;n<e.length;n+=3){var i=e[n],o=e[n+1],d=e[n+2];if(typeof o!="function"){if(Hh(o||i)===null)continue;break}var T=$n(i);T!==null&&(e.splice(n,3),n-=3,Hf(T,{pending:!0,data:d,method:i.method,action:o},o,d))}}))}function Fo(e){function n(B){return Bu(B,e)}mi!==null&&Bu(mi,e),pi!==null&&Bu(pi,e),gi!==null&&Bu(gi,e),Bo.forEach(n),qo.forEach(n);for(var i=0;i<yi.length;i++){var o=yi[i];o.blockedOn===e&&(o.blockedOn=null)}for(;0<yi.length&&(i=yi[0],i.blockedOn===null);)My(i),i.blockedOn===null&&yi.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var d=i[o],T=i[o+1],V=d[pt]||null;if(typeof T=="function")V||Ly(i);else if(V){var j=null;if(T&&T.hasAttribute("formAction")){if(d=T,V=T[pt]||null)j=V.formAction;else if(Hh(d)!==null)continue}else j=V.action;typeof j=="function"?i[o+1]=j:(i.splice(o,3),o-=3),Ly(i)}}}function Gh(e){this._internalRoot=e}Hu.prototype.render=Gh.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var i=n.current,o=mn();Dy(i,o,e,n,null,null)},Hu.prototype.unmount=Gh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Dy(e.current,2,null,e,null,null),Su(),n[_n]=null}};function Hu(e){this._internalRoot=e}Hu.prototype.unstable_scheduleHydration=function(e){if(e){var n=Gr();e={blockedOn:null,target:e,priority:n};for(var i=0;i<yi.length&&n!==0&&n<yi[i].priority;i++);yi.splice(i,0,e),i===0&&My(e)}};var jy=t.version;if(jy!=="19.1.0")throw Error(a(527,jy,"19.1.0"));se.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var $E={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fu.isDisabled&&Fu.supportsFiber)try{lt=Fu.inject($E),Fe=Fu}catch{}}return Qo.createRoot=function(e,n){if(!l(e))throw Error(a(299));var i=!1,o="",d=Wp,T=eg,V=tg,j=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(T=n.onCaughtError),n.onRecoverableError!==void 0&&(V=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(j=n.unstable_transitionCallbacks)),n=xy(e,1,!1,null,null,i,o,d,T,V,j,null),e[_n]=n.current,Ch(e),new Gh(n)},Qo.hydrateRoot=function(e,n,i){if(!l(e))throw Error(a(299));var o=!1,d="",T=Wp,V=eg,j=tg,B=null,Y=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(T=i.onUncaughtError),i.onCaughtError!==void 0&&(V=i.onCaughtError),i.onRecoverableError!==void 0&&(j=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(B=i.unstable_transitionCallbacks),i.formState!==void 0&&(Y=i.formState)),n=xy(e,1,!0,n,i??null,o,d,T,V,j,B,Y),n.context=Cy(null),i=n.current,o=mn(),o=Fr(o),d=ei(o),d.callback=null,ti(i,d,o),i=o,n.current.lanes=i,fr(n,i),tr(n),e[_n]=n.current,Ch(e),new Hu(n)},Qo.version="19.1.0",Qo}var Qy;function JE(){if(Qy)return Kh.exports;Qy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Kh.exports=ZE(),Kh.exports}var WE=JE(),Yo={},Yy;function eT(){if(Yy)return Yo;Yy=1,Object.defineProperty(Yo,"__esModule",{value:!0}),Yo.parse=h,Yo.serialize=v;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function h(p,b){const g=new u,y=p.length;if(y<2)return g;const R=(b==null?void 0:b.decode)||w;let E=0;do{const S=p.indexOf("=",E);if(S===-1)break;const D=p.indexOf(";",E),M=D===-1?y:D;if(S>M){E=p.lastIndexOf(";",S-1)+1;continue}const k=f(p,E,S),z=_(p,S,k),N=p.slice(k,z);if(g[N]===void 0){let A=f(p,S+1,M),C=_(p,M,A);const O=R(p.slice(A,C));g[N]=O}E=M+1}while(E<y);return g}function f(p,b,g){do{const y=p.charCodeAt(b);if(y!==32&&y!==9)return b}while(++b<g);return g}function _(p,b,g){for(;b>g;){const y=p.charCodeAt(--b);if(y!==32&&y!==9)return b+1}return g}function v(p,b,g){const y=(g==null?void 0:g.encode)||encodeURIComponent;if(!s.test(p))throw new TypeError(`argument name is invalid: ${p}`);const R=y(b);if(!t.test(R))throw new TypeError(`argument val is invalid: ${b}`);let E=p+"="+R;if(!g)return E;if(g.maxAge!==void 0){if(!Number.isInteger(g.maxAge))throw new TypeError(`option maxAge is invalid: ${g.maxAge}`);E+="; Max-Age="+g.maxAge}if(g.domain){if(!r.test(g.domain))throw new TypeError(`option domain is invalid: ${g.domain}`);E+="; Domain="+g.domain}if(g.path){if(!a.test(g.path))throw new TypeError(`option path is invalid: ${g.path}`);E+="; Path="+g.path}if(g.expires){if(!m(g.expires)||!Number.isFinite(g.expires.valueOf()))throw new TypeError(`option expires is invalid: ${g.expires}`);E+="; Expires="+g.expires.toUTCString()}if(g.httpOnly&&(E+="; HttpOnly"),g.secure&&(E+="; Secure"),g.partitioned&&(E+="; Partitioned"),g.priority)switch(typeof g.priority=="string"?g.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${g.priority}`)}if(g.sameSite)switch(typeof g.sameSite=="string"?g.sameSite.toLowerCase():g.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${g.sameSite}`)}return E}function w(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function m(p){return l.call(p)==="[object Date]"}return Yo}eT();var Ky="popstate";function tT(s={}){function t(l,u){let{pathname:h="/",search:f="",hash:_=""}=Es(l.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),fd("",{pathname:h,search:f,hash:_},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function r(l,u){let h=l.document.querySelector("base"),f="";if(h&&h.getAttribute("href")){let _=l.location.href,v=_.indexOf("#");f=v===-1?_:_.slice(0,v)}return f+"#"+(typeof u=="string"?u:sl(u))}function a(l,u){Pn(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return rT(t,r,a,s)}function at(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function Pn(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function nT(){return Math.random().toString(36).substring(2,10)}function Xy(s,t){return{usr:s.state,key:s.key,idx:t}}function fd(s,t,r=null,a){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?Es(t):t,state:r,key:t&&t.key||a||nT()}}function sl({pathname:s="/",search:t="",hash:r=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(s+=r.charAt(0)==="#"?r:"#"+r),s}function Es(s){let t={};if(s){let r=s.indexOf("#");r>=0&&(t.hash=s.substring(r),s=s.substring(0,r));let a=s.indexOf("?");a>=0&&(t.search=s.substring(a),s=s.substring(0,a)),s&&(t.pathname=s)}return t}function rT(s,t,r,a={}){let{window:l=document.defaultView,v5Compat:u=!1}=a,h=l.history,f="POP",_=null,v=w();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function w(){return(h.state||{idx:null}).idx}function m(){f="POP";let R=w(),E=R==null?null:R-v;v=R,_&&_({action:f,location:y.location,delta:E})}function p(R,E){f="PUSH";let S=fd(y.location,R,E);r&&r(S,R),v=w()+1;let D=Xy(S,v),M=y.createHref(S);try{h.pushState(D,"",M)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;l.location.assign(M)}u&&_&&_({action:f,location:y.location,delta:1})}function b(R,E){f="REPLACE";let S=fd(y.location,R,E);r&&r(S,R),v=w();let D=Xy(S,v),M=y.createHref(S);h.replaceState(D,"",M),u&&_&&_({action:f,location:y.location,delta:0})}function g(R){return iT(R)}let y={get action(){return f},get location(){return s(l,h)},listen(R){if(_)throw new Error("A history only accepts one active listener");return l.addEventListener(Ky,m),_=R,()=>{l.removeEventListener(Ky,m),_=null}},createHref(R){return t(l,R)},createURL:g,encodeLocation(R){let E=g(R);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:p,replace:b,go(R){return h.go(R)}};return y}function iT(s,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),at(r,"No window.location.(origin|href) available to create URL");let a=typeof s=="string"?s:sl(s);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function d_(s,t,r="/"){return sT(s,t,r,!1)}function sT(s,t,r,a){let l=typeof t=="string"?Es(t):t,u=jr(l.pathname||"/",r);if(u==null)return null;let h=m_(s);aT(h);let f=null;for(let _=0;f==null&&_<h.length;++_){let v=yT(u);f=pT(h[_],v,a)}return f}function m_(s,t=[],r=[],a=""){let l=(u,h,f)=>{let _={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};_.relativePath.startsWith("/")&&(at(_.relativePath.startsWith(a),`Absolute route path "${_.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(a.length));let v=kr([a,_.relativePath]),w=r.concat(_);u.children&&u.children.length>0&&(at(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),m_(u.children,t,w,v)),!(u.path==null&&!u.index)&&t.push({path:v,score:dT(v,u.index),routesMeta:w})};return s.forEach((u,h)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))l(u,h);else for(let _ of p_(u.path))l(u,h,_)}),t}function p_(s){let t=s.split("/");if(t.length===0)return[];let[r,...a]=t,l=r.endsWith("?"),u=r.replace(/\?$/,"");if(a.length===0)return l?[u,""]:[u];let h=p_(a.join("/")),f=[];return f.push(...h.map(_=>_===""?u:[u,_].join("/"))),l&&f.push(...h),f.map(_=>s.startsWith("/")&&_===""?"/":_)}function aT(s){s.sort((t,r)=>t.score!==r.score?r.score-t.score:mT(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var oT=/^:[\w-]+$/,lT=3,uT=2,cT=1,fT=10,hT=-2,Zy=s=>s==="*";function dT(s,t){let r=s.split("/"),a=r.length;return r.some(Zy)&&(a+=hT),t&&(a+=uT),r.filter(l=>!Zy(l)).reduce((l,u)=>l+(oT.test(u)?lT:u===""?cT:fT),a)}function mT(s,t){return s.length===t.length&&s.slice(0,-1).every((a,l)=>a===t[l])?s[s.length-1]-t[t.length-1]:0}function pT(s,t,r=!1){let{routesMeta:a}=s,l={},u="/",h=[];for(let f=0;f<a.length;++f){let _=a[f],v=f===a.length-1,w=u==="/"?t:t.slice(u.length)||"/",m=ac({path:_.relativePath,caseSensitive:_.caseSensitive,end:v},w),p=_.route;if(!m&&v&&r&&!a[a.length-1].route.index&&(m=ac({path:_.relativePath,caseSensitive:_.caseSensitive,end:!1},w)),!m)return null;Object.assign(l,m.params),h.push({params:l,pathname:kr([u,m.pathname]),pathnameBase:ET(kr([u,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(u=kr([u,m.pathnameBase]))}return h}function ac(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[r,a]=gT(s.path,s.caseSensitive,s.end),l=t.match(r);if(!l)return null;let u=l[0],h=u.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:a.reduce((v,{paramName:w,isOptional:m},p)=>{if(w==="*"){let g=f[p]||"";h=u.slice(0,u.length-g.length).replace(/(.)\/+$/,"$1")}const b=f[p];return m&&!b?v[w]=void 0:v[w]=(b||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:h,pattern:s}}function gT(s,t=!1,r=!0){Pn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let a=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,_)=>(a.push({paramName:f,isOptional:_!=null}),_?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(a.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),a]}function yT(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Pn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function jr(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=s.charAt(r);return a&&a!=="/"?null:s.slice(r)||"/"}function vT(s,t="/"){let{pathname:r,search:a="",hash:l=""}=typeof s=="string"?Es(s):s;return{pathname:r?r.startsWith("/")?r:_T(r,t):t,search:TT(a),hash:wT(l)}}function _T(s,t){let r=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function Wh(s,t,r,a){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function bT(s){return s.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function g_(s){let t=bT(s);return t.map((r,a)=>a===t.length-1?r.pathname:r.pathnameBase)}function y_(s,t,r,a=!1){let l;typeof s=="string"?l=Es(s):(l={...s},at(!l.pathname||!l.pathname.includes("?"),Wh("?","pathname","search",l)),at(!l.pathname||!l.pathname.includes("#"),Wh("#","pathname","hash",l)),at(!l.search||!l.search.includes("#"),Wh("#","search","hash",l)));let u=s===""||l.pathname==="",h=u?"/":l.pathname,f;if(h==null)f=r;else{let m=t.length-1;if(!a&&h.startsWith("..")){let p=h.split("/");for(;p[0]==="..";)p.shift(),m-=1;l.pathname=p.join("/")}f=m>=0?t[m]:"/"}let _=vT(l,f),v=h&&h!=="/"&&h.endsWith("/"),w=(u||h===".")&&r.endsWith("/");return!_.pathname.endsWith("/")&&(v||w)&&(_.pathname+="/"),_}var kr=s=>s.join("/").replace(/\/\/+/g,"/"),ET=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),TT=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,wT=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function AT(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var v_=["POST","PUT","PATCH","DELETE"];new Set(v_);var ST=["GET",...v_];new Set(ST);var Ia=ee.createContext(null);Ia.displayName="DataRouter";var Ac=ee.createContext(null);Ac.displayName="DataRouterState";var __=ee.createContext({isTransitioning:!1});__.displayName="ViewTransition";var RT=ee.createContext(new Map);RT.displayName="Fetchers";var xT=ee.createContext(null);xT.displayName="Await";var lr=ee.createContext(null);lr.displayName="Navigation";var ml=ee.createContext(null);ml.displayName="Location";var qr=ee.createContext({outlet:null,matches:[],isDataRoute:!1});qr.displayName="Route";var Ld=ee.createContext(null);Ld.displayName="RouteError";function CT(s,{relative:t}={}){at(pl(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=ee.useContext(lr),{hash:l,pathname:u,search:h}=gl(s,{relative:t}),f=u;return r!=="/"&&(f=u==="/"?r:kr([r,u])),a.createHref({pathname:f,search:h,hash:l})}function pl(){return ee.useContext(ml)!=null}function Ts(){return at(pl(),"useLocation() may be used only in the context of a <Router> component."),ee.useContext(ml).location}var b_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function E_(s){ee.useContext(lr).static||ee.useLayoutEffect(s)}function T_(){let{isDataRoute:s}=ee.useContext(qr);return s?$T():DT()}function DT(){at(pl(),"useNavigate() may be used only in the context of a <Router> component.");let s=ee.useContext(Ia),{basename:t,navigator:r}=ee.useContext(lr),{matches:a}=ee.useContext(qr),{pathname:l}=Ts(),u=JSON.stringify(g_(a)),h=ee.useRef(!1);return E_(()=>{h.current=!0}),ee.useCallback((_,v={})=>{if(Pn(h.current,b_),!h.current)return;if(typeof _=="number"){r.go(_);return}let w=y_(_,JSON.parse(u),l,v.relative==="path");s==null&&t!=="/"&&(w.pathname=w.pathname==="/"?t:kr([t,w.pathname])),(v.replace?r.replace:r.push)(w,v.state,v)},[t,r,u,l,s])}ee.createContext(null);function gl(s,{relative:t}={}){let{matches:r}=ee.useContext(qr),{pathname:a}=Ts(),l=JSON.stringify(g_(r));return ee.useMemo(()=>y_(s,JSON.parse(l),a,t==="path"),[s,l,a,t])}function OT(s,t){return w_(s,t)}function w_(s,t,r,a){var E;at(pl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=ee.useContext(lr),{matches:u}=ee.useContext(qr),h=u[u.length-1],f=h?h.params:{},_=h?h.pathname:"/",v=h?h.pathnameBase:"/",w=h&&h.route;{let S=w&&w.path||"";A_(_,!w||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let m=Ts(),p;if(t){let S=typeof t=="string"?Es(t):t;at(v==="/"||((E=S.pathname)==null?void 0:E.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${S.pathname}" was given in the \`location\` prop.`),p=S}else p=m;let b=p.pathname||"/",g=b;if(v!=="/"){let S=v.replace(/^\//,"").split("/");g="/"+b.replace(/^\//,"").split("/").slice(S.length).join("/")}let y=d_(s,{pathname:g});Pn(w||y!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Pn(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=kT(y&&y.map(S=>Object.assign({},S,{params:Object.assign({},f,S.params),pathname:kr([v,l.encodeLocation?l.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?v:kr([v,l.encodeLocation?l.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),u,r,a);return t&&R?ee.createElement(ml.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},R):R}function IT(){let s=zT(),t=AT(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),r=s instanceof Error?s.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=ee.createElement(ee.Fragment,null,ee.createElement("p",null," Hey developer "),ee.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ee.createElement("code",{style:u},"ErrorBoundary")," or"," ",ee.createElement("code",{style:u},"errorElement")," prop on your route.")),ee.createElement(ee.Fragment,null,ee.createElement("h2",null,"Unexpected Application Error!"),ee.createElement("h3",{style:{fontStyle:"italic"}},t),r?ee.createElement("pre",{style:l},r):null,h)}var NT=ee.createElement(IT,null),VT=class extends ee.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){console.error("React Router caught the following error during render",s,t)}render(){return this.state.error!==void 0?ee.createElement(qr.Provider,{value:this.props.routeContext},ee.createElement(Ld.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function MT({routeContext:s,match:t,children:r}){let a=ee.useContext(Ia);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),ee.createElement(qr.Provider,{value:s},r)}function kT(s,t=[],r=null,a=null){if(s==null){if(!r)return null;if(r.errors)s=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)s=r.matches;else return null}let l=s,u=r==null?void 0:r.errors;if(u!=null){let _=l.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id])!==void 0);at(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,_+1))}let h=!1,f=-1;if(r)for(let _=0;_<l.length;_++){let v=l[_];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=_),v.route.id){let{loaderData:w,errors:m}=r,p=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!m||m[v.route.id]===void 0);if(v.route.lazy||p){h=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((_,v,w)=>{let m,p=!1,b=null,g=null;r&&(m=u&&v.route.id?u[v.route.id]:void 0,b=v.route.errorElement||NT,h&&(f<0&&w===0?(A_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,g=null):f===w&&(p=!0,g=v.route.hydrateFallbackElement||null)));let y=t.concat(l.slice(0,w+1)),R=()=>{let E;return m?E=b:p?E=g:v.route.Component?E=ee.createElement(v.route.Component,null):v.route.element?E=v.route.element:E=_,ee.createElement(MT,{match:v,routeContext:{outlet:_,matches:y,isDataRoute:r!=null},children:E})};return r&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?ee.createElement(VT,{location:r.location,revalidation:r.revalidation,component:b,error:m,children:R(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):R()},null)}function jd(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LT(s){let t=ee.useContext(Ia);return at(t,jd(s)),t}function jT(s){let t=ee.useContext(Ac);return at(t,jd(s)),t}function PT(s){let t=ee.useContext(qr);return at(t,jd(s)),t}function Pd(s){let t=PT(s),r=t.matches[t.matches.length-1];return at(r.route.id,`${s} can only be used on routes that contain a unique "id"`),r.route.id}function UT(){return Pd("useRouteId")}function zT(){var a;let s=ee.useContext(Ld),t=jT("useRouteError"),r=Pd("useRouteError");return s!==void 0?s:(a=t.errors)==null?void 0:a[r]}function $T(){let{router:s}=LT("useNavigate"),t=Pd("useNavigate"),r=ee.useRef(!1);return E_(()=>{r.current=!0}),ee.useCallback(async(l,u={})=>{Pn(r.current,b_),r.current&&(typeof l=="number"?s.navigate(l):await s.navigate(l,{fromRouteId:t,...u}))},[s,t])}var Jy={};function A_(s,t,r){!t&&!Jy[s]&&(Jy[s]=!0,Pn(!1,r))}ee.memo(BT);function BT({routes:s,future:t,state:r}){return w_(s,void 0,r,t)}function ya(s){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function qT({basename:s="/",children:t=null,location:r,navigationType:a="POP",navigator:l,static:u=!1}){at(!pl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=s.replace(/^\/*/,"/"),f=ee.useMemo(()=>({basename:h,navigator:l,static:u,future:{}}),[h,l,u]);typeof r=="string"&&(r=Es(r));let{pathname:_="/",search:v="",hash:w="",state:m=null,key:p="default"}=r,b=ee.useMemo(()=>{let g=jr(_,h);return g==null?null:{location:{pathname:g,search:v,hash:w,state:m,key:p},navigationType:a}},[h,_,v,w,m,p,a]);return Pn(b!=null,`<Router basename="${h}"> is not able to match the URL "${_}${v}${w}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:ee.createElement(lr.Provider,{value:f},ee.createElement(ml.Provider,{children:t,value:b}))}function HT({children:s,location:t}){return OT(hd(s),t)}function hd(s,t=[]){let r=[];return ee.Children.forEach(s,(a,l)=>{if(!ee.isValidElement(a))return;let u=[...t,l];if(a.type===ee.Fragment){r.push.apply(r,hd(a.props.children,u));return}at(a.type===ya,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!a.props.index||!a.props.children,"An index route cannot have child routes.");let h={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(h.children=hd(a.props.children,u)),r.push(h)}),r}var Ju="get",Wu="application/x-www-form-urlencoded";function Sc(s){return s!=null&&typeof s.tagName=="string"}function FT(s){return Sc(s)&&s.tagName.toLowerCase()==="button"}function GT(s){return Sc(s)&&s.tagName.toLowerCase()==="form"}function QT(s){return Sc(s)&&s.tagName.toLowerCase()==="input"}function YT(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function KT(s,t){return s.button===0&&(!t||t==="_self")&&!YT(s)}var Gu=null;function XT(){if(Gu===null)try{new FormData(document.createElement("form"),0),Gu=!1}catch{Gu=!0}return Gu}var ZT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ed(s){return s!=null&&!ZT.has(s)?(Pn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wu}"`),null):s}function JT(s,t){let r,a,l,u,h;if(GT(s)){let f=s.getAttribute("action");a=f?jr(f,t):null,r=s.getAttribute("method")||Ju,l=ed(s.getAttribute("enctype"))||Wu,u=new FormData(s)}else if(FT(s)||QT(s)&&(s.type==="submit"||s.type==="image")){let f=s.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let _=s.getAttribute("formaction")||f.getAttribute("action");if(a=_?jr(_,t):null,r=s.getAttribute("formmethod")||f.getAttribute("method")||Ju,l=ed(s.getAttribute("formenctype"))||ed(f.getAttribute("enctype"))||Wu,u=new FormData(f,s),!XT()){let{name:v,type:w,value:m}=s;if(w==="image"){let p=v?`${v}.`:"";u.append(`${p}x`,"0"),u.append(`${p}y`,"0")}else v&&u.append(v,m)}}else{if(Sc(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ju,a=null,l=Wu,h=s}return u&&l==="text/plain"&&(h=u,u=void 0),{action:a,method:r.toLowerCase(),encType:l,formData:u,body:h}}function Ud(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}async function WT(s,t){if(s.id in t)return t[s.id];try{let r=await import(s.module);return t[s.id]=r,r}catch(r){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function e1(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function t1(s,t,r){let a=await Promise.all(s.map(async l=>{let u=t.routes[l.route.id];if(u){let h=await WT(u,r);return h.links?h.links():[]}return[]}));return s1(a.flat(1).filter(e1).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Wy(s,t,r,a,l,u){let h=(_,v)=>r[v]?_.route.id!==r[v].route.id:!0,f=(_,v)=>{var w;return r[v].pathname!==_.pathname||((w=r[v].route.path)==null?void 0:w.endsWith("*"))&&r[v].params["*"]!==_.params["*"]};return u==="assets"?t.filter((_,v)=>h(_,v)||f(_,v)):u==="data"?t.filter((_,v)=>{var m;let w=a.routes[_.route.id];if(!w||!w.hasLoader)return!1;if(h(_,v)||f(_,v))return!0;if(_.route.shouldRevalidate){let p=_.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((m=r[0])==null?void 0:m.params)||{},nextUrl:new URL(s,window.origin),nextParams:_.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function n1(s,t,{includeHydrateFallback:r}={}){return r1(s.map(a=>{let l=t.routes[a.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),r&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function r1(s){return[...new Set(s)]}function i1(s){let t={},r=Object.keys(s).sort();for(let a of r)t[a]=s[a];return t}function s1(s,t){let r=new Set;return new Set(t),s.reduce((a,l)=>{let u=JSON.stringify(i1(l));return r.has(u)||(r.add(u),a.push({key:u,link:l})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var a1=new Set([100,101,204,205]);function o1(s,t){let r=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return r.pathname==="/"?r.pathname="_root.data":t&&jr(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function S_(){let s=ee.useContext(Ia);return Ud(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function l1(){let s=ee.useContext(Ac);return Ud(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var zd=ee.createContext(void 0);zd.displayName="FrameworkContext";function R_(){let s=ee.useContext(zd);return Ud(s,"You must render this element inside a <HydratedRouter> element"),s}function u1(s,t){let r=ee.useContext(zd),[a,l]=ee.useState(!1),[u,h]=ee.useState(!1),{onFocus:f,onBlur:_,onMouseEnter:v,onMouseLeave:w,onTouchStart:m}=t,p=ee.useRef(null);ee.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let y=E=>{E.forEach(S=>{h(S.isIntersecting)})},R=new IntersectionObserver(y,{threshold:.5});return p.current&&R.observe(p.current),()=>{R.disconnect()}}},[s]),ee.useEffect(()=>{if(a){let y=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(y)}}},[a]);let b=()=>{l(!0)},g=()=>{l(!1),h(!1)};return r?s!=="intent"?[u,p,{}]:[u,p,{onFocus:Ko(f,b),onBlur:Ko(_,g),onMouseEnter:Ko(v,b),onMouseLeave:Ko(w,g),onTouchStart:Ko(m,b)}]:[!1,p,{}]}function Ko(s,t){return r=>{s&&s(r),r.defaultPrevented||t(r)}}function c1({page:s,...t}){let{router:r}=S_(),a=ee.useMemo(()=>d_(r.routes,s,r.basename),[r.routes,s,r.basename]);return a?ee.createElement(h1,{page:s,matches:a,...t}):null}function f1(s){let{manifest:t,routeModules:r}=R_(),[a,l]=ee.useState([]);return ee.useEffect(()=>{let u=!1;return t1(s,t,r).then(h=>{u||l(h)}),()=>{u=!0}},[s,t,r]),a}function h1({page:s,matches:t,...r}){let a=Ts(),{manifest:l,routeModules:u}=R_(),{basename:h}=S_(),{loaderData:f,matches:_}=l1(),v=ee.useMemo(()=>Wy(s,t,_,l,a,"data"),[s,t,_,l,a]),w=ee.useMemo(()=>Wy(s,t,_,l,a,"assets"),[s,t,_,l,a]),m=ee.useMemo(()=>{if(s===a.pathname+a.search+a.hash)return[];let g=new Set,y=!1;if(t.forEach(E=>{var D;let S=l.routes[E.route.id];!S||!S.hasLoader||(!v.some(M=>M.route.id===E.route.id)&&E.route.id in f&&((D=u[E.route.id])!=null&&D.shouldRevalidate)||S.hasClientLoader?y=!0:g.add(E.route.id))}),g.size===0)return[];let R=o1(s,h);return y&&g.size>0&&R.searchParams.set("_routes",t.filter(E=>g.has(E.route.id)).map(E=>E.route.id).join(",")),[R.pathname+R.search]},[h,f,a,l,v,t,s,u]),p=ee.useMemo(()=>n1(w,l),[w,l]),b=f1(w);return ee.createElement(ee.Fragment,null,m.map(g=>ee.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...r})),p.map(g=>ee.createElement("link",{key:g,rel:"modulepreload",href:g,...r})),b.map(({key:g,link:y})=>ee.createElement("link",{key:g,...y})))}function d1(...s){return t=>{s.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var x_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{x_&&(window.__reactRouterVersion="7.6.1")}catch{}function m1({basename:s,children:t,window:r}){let a=ee.useRef();a.current==null&&(a.current=tT({window:r,v5Compat:!0}));let l=a.current,[u,h]=ee.useState({action:l.action,location:l.location}),f=ee.useCallback(_=>{ee.startTransition(()=>h(_))},[h]);return ee.useLayoutEffect(()=>l.listen(f),[l,f]),ee.createElement(qT,{basename:s,children:t,location:u.location,navigationType:u.action,navigator:l})}var C_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$d=ee.forwardRef(function({onClick:t,discover:r="render",prefetch:a="none",relative:l,reloadDocument:u,replace:h,state:f,target:_,to:v,preventScrollReset:w,viewTransition:m,...p},b){let{basename:g}=ee.useContext(lr),y=typeof v=="string"&&C_.test(v),R,E=!1;if(typeof v=="string"&&y&&(R=v,x_))try{let C=new URL(window.location.href),O=v.startsWith("//")?new URL(C.protocol+v):new URL(v),L=jr(O.pathname,g);O.origin===C.origin&&L!=null?v=L+O.search+O.hash:E=!0}catch{Pn(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=CT(v,{relative:l}),[D,M,k]=u1(a,p),z=v1(v,{replace:h,state:f,target:_,preventScrollReset:w,relative:l,viewTransition:m});function N(C){t&&t(C),C.defaultPrevented||z(C)}let A=ee.createElement("a",{...p,...k,href:R||S,onClick:E||u?t:N,ref:d1(b,M),target:_,"data-discover":!y&&r==="render"?"true":void 0});return D&&!y?ee.createElement(ee.Fragment,null,A,ee.createElement(c1,{page:S})):A});$d.displayName="Link";var p1=ee.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:a="",end:l=!1,style:u,to:h,viewTransition:f,children:_,...v},w){let m=gl(h,{relative:v.relative}),p=Ts(),b=ee.useContext(Ac),{navigator:g,basename:y}=ee.useContext(lr),R=b!=null&&w1(m)&&f===!0,E=g.encodeLocation?g.encodeLocation(m).pathname:m.pathname,S=p.pathname,D=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(S=S.toLowerCase(),D=D?D.toLowerCase():null,E=E.toLowerCase()),D&&y&&(D=jr(D,y)||D);const M=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let k=S===E||!l&&S.startsWith(E)&&S.charAt(M)==="/",z=D!=null&&(D===E||!l&&D.startsWith(E)&&D.charAt(E.length)==="/"),N={isActive:k,isPending:z,isTransitioning:R},A=k?t:void 0,C;typeof a=="function"?C=a(N):C=[a,k?"active":null,z?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(N):u;return ee.createElement($d,{...v,"aria-current":A,className:C,ref:w,style:O,to:h,viewTransition:f},typeof _=="function"?_(N):_)});p1.displayName="NavLink";var g1=ee.forwardRef(({discover:s="render",fetcherKey:t,navigate:r,reloadDocument:a,replace:l,state:u,method:h=Ju,action:f,onSubmit:_,relative:v,preventScrollReset:w,viewTransition:m,...p},b)=>{let g=E1(),y=T1(f,{relative:v}),R=h.toLowerCase()==="get"?"get":"post",E=typeof f=="string"&&C_.test(f),S=D=>{if(_&&_(D),D.defaultPrevented)return;D.preventDefault();let M=D.nativeEvent.submitter,k=(M==null?void 0:M.getAttribute("formmethod"))||h;g(M||D.currentTarget,{fetcherKey:t,method:k,navigate:r,replace:l,state:u,relative:v,preventScrollReset:w,viewTransition:m})};return ee.createElement("form",{ref:b,method:R,action:y,onSubmit:a?_:S,...p,"data-discover":!E&&s==="render"?"true":void 0})});g1.displayName="Form";function y1(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function D_(s){let t=ee.useContext(Ia);return at(t,y1(s)),t}function v1(s,{target:t,replace:r,state:a,preventScrollReset:l,relative:u,viewTransition:h}={}){let f=T_(),_=Ts(),v=gl(s,{relative:u});return ee.useCallback(w=>{if(KT(w,t)){w.preventDefault();let m=r!==void 0?r:sl(_)===sl(v);f(s,{replace:m,state:a,preventScrollReset:l,relative:u,viewTransition:h})}},[_,f,v,r,a,t,s,l,u,h])}var _1=0,b1=()=>`__${String(++_1)}__`;function E1(){let{router:s}=D_("useSubmit"),{basename:t}=ee.useContext(lr),r=UT();return ee.useCallback(async(a,l={})=>{let{action:u,method:h,encType:f,formData:_,body:v}=JT(a,t);if(l.navigate===!1){let w=l.fetcherKey||b1();await s.fetch(w,r,l.action||u,{preventScrollReset:l.preventScrollReset,formData:_,body:v,formMethod:l.method||h,formEncType:l.encType||f,flushSync:l.flushSync})}else await s.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:_,body:v,formMethod:l.method||h,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[s,t,r])}function T1(s,{relative:t}={}){let{basename:r}=ee.useContext(lr),a=ee.useContext(qr);at(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),u={...gl(s||".",{relative:t})},h=Ts();if(s==null){u.search=h.search;let f=new URLSearchParams(u.search),_=f.getAll("index");if(_.some(w=>w==="")){f.delete("index"),_.filter(m=>m).forEach(m=>f.append("index",m));let w=f.toString();u.search=w?`?${w}`:""}}return(!s||s===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:kr([r,u.pathname])),sl(u)}function w1(s,t={}){let r=ee.useContext(__);at(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=D_("useViewTransitionState"),l=gl(s,{relative:t.relative});if(!r.isTransitioning)return!1;let u=jr(r.currentLocation.pathname,a)||r.currentLocation.pathname,h=jr(r.nextLocation.pathname,a)||r.nextLocation.pathname;return ac(l.pathname,h)!=null||ac(l.pathname,u)!=null}[...a1];const A1=()=>{};var ev={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_=function(s){const t=[];let r=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[r++]=l:l<2048?(t[r++]=l>>6|192,t[r++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[r++]=l>>18|240,t[r++]=l>>12&63|128,t[r++]=l>>6&63|128,t[r++]=l&63|128):(t[r++]=l>>12|224,t[r++]=l>>6&63|128,t[r++]=l&63|128)}return t},S1=function(s){const t=[];let r=0,a=0;for(;r<s.length;){const l=s[r++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[r++];t[a++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[r++],h=s[r++],f=s[r++],_=((l&7)<<18|(u&63)<<12|(h&63)<<6|f&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const u=s[r++],h=s[r++];t[a++]=String.fromCharCode((l&15)<<12|(u&63)<<6|h&63)}}return t.join("")},I_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const u=s[l],h=l+1<s.length,f=h?s[l+1]:0,_=l+2<s.length,v=_?s[l+2]:0,w=u>>2,m=(u&3)<<4|f>>4;let p=(f&15)<<2|v>>6,b=v&63;_||(b=64,h||(p=64)),a.push(r[w],r[m],r[p],r[b])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(O_(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):S1(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const u=r[s.charAt(l++)],f=l<s.length?r[s.charAt(l)]:0;++l;const v=l<s.length?r[s.charAt(l)]:64;++l;const m=l<s.length?r[s.charAt(l)]:64;if(++l,u==null||f==null||v==null||m==null)throw new R1;const p=u<<2|f>>4;if(a.push(p),v!==64){const b=f<<4&240|v>>2;if(a.push(b),m!==64){const g=v<<6&192|m;a.push(g)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class R1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const x1=function(s){const t=O_(s);return I_.encodeByteArray(t,!0)},oc=function(s){return x1(s).replace(/\./g,"")},C1=function(s){try{return I_.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=()=>D1().__FIREBASE_DEFAULTS__,I1=()=>{if(typeof process>"u"||typeof ev>"u")return;const s=ev.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},N1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&C1(s[1]);return t&&JSON.parse(t)},Bd=()=>{try{return A1()||O1()||I1()||N1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},V1=s=>{var t,r;return(r=(t=Bd())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[s]},M1=s=>{const t=V1(s);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),a]:[t.substring(0,r),a]},N_=()=>{var s;return(s=Bd())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,a)=>{r?this.reject(r):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(s){return s.endsWith(".cloudworkstations.dev")}async function L1(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},s);return[oc(JSON.stringify(r)),oc(JSON.stringify(h)),""].join(".")}const el={};function P1(){const s={prod:[],emulator:[]};for(const t of Object.keys(el))el[t]?s.emulator.push(t):s.prod.push(t);return s}function U1(s){let t=document.getElementById(s),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),r=!0),{created:r,element:t}}let tv=!1;function z1(s,t){if(typeof window>"u"||typeof document>"u"||!qd(window.location.host)||el[s]===t||el[s]||tv)return;el[s]=t;function r(p){return`__firebase__banner__${p}`}const a="__firebase__banner",u=P1().prod.length>0;function h(){const p=document.getElementById(a);p&&p.remove()}function f(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function _(p,b){p.setAttribute("width","24"),p.setAttribute("id",b),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function v(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{tv=!0,h()},p}function w(p,b){p.setAttribute("id",b),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function m(){const p=U1(a),b=r("text"),g=document.getElementById(b)||document.createElement("span"),y=r("learnmore"),R=document.getElementById(y)||document.createElement("a"),E=r("preprendIcon"),S=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const D=p.element;f(D),w(R,y);const M=v();_(S,E),D.append(S,g,R,M),document.body.appendChild(D)}u?(g.innerText="Preview backend disconnected.",S.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(S.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function B1(){var s;const t=(s=Bd())===null||s===void 0?void 0:s.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function q1(){return!B1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function H1(){try{return typeof indexedDB=="object"}catch{return!1}}function F1(){return new Promise((s,t)=>{try{let r=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),r||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{r=!1},l.onerror=()=>{var u;t(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="FirebaseError";class Na extends Error{constructor(t,r,a){super(r),this.code=t,this.customData=a,this.name=G1,Object.setPrototypeOf(this,Na.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,V_.prototype.create)}}class V_{constructor(t,r,a){this.service=t,this.serviceName=r,this.errors=a}create(t,...r){const a=r[0]||{},l=`${this.service}/${t}`,u=this.errors[t],h=u?Q1(u,a):"Error",f=`${this.serviceName}: ${h} (${l}).`;return new Na(l,f,a)}}function Q1(s,t){return s.replace(Y1,(r,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const Y1=/\{\$([^}]+)}/g;function lc(s,t){if(s===t)return!0;const r=Object.keys(s),a=Object.keys(t);for(const l of r){if(!a.includes(l))return!1;const u=s[l],h=t[l];if(nv(u)&&nv(h)){if(!lc(u,h))return!1}else if(u!==h)return!1}for(const l of a)if(!r.includes(l))return!1;return!0}function nv(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(s){return s&&s._delegate?s._delegate:s}class al{constructor(t,r,a){this.name=t,this.instanceFactory=r,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const a=new k1;if(this.instancesDeferred.set(r,a),this.isInitialized(r)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:r});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Z1(t))try{this.getOrInitializeService({instanceIdentifier:gs})}catch{}for(const[r,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:l});a.resolve(u)}catch{}}}}clearInstance(t=gs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=gs){return this.instances.has(t)}getOptions(t=gs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:r});for(const[u,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(u);a===f&&h.resolve(l)}return l}onInit(t,r){var a;const l=this.normalizeInstanceIdentifier(r),u=(a=this.onInitCallbacks.get(l))!==null&&a!==void 0?a:new Set;u.add(t),this.onInitCallbacks.set(l,u);const h=this.instances.get(l);return h&&t(h,l),()=>{u.delete(t)}}invokeOnInitCallbacks(t,r){const a=this.onInitCallbacks.get(r);if(a)for(const l of a)try{l(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:X1(t),options:r}),this.instances.set(t,a),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=gs){return this.component?this.component.multipleInstances?t:gs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function X1(s){return s===gs?void 0:s}function Z1(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new K1(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(ze||(ze={}));const W1={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},ew=ze.INFO,tw={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},nw=(s,t,...r)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=tw[t];if(l)console[l](`[${a}]  ${s.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class M_{constructor(t){this.name=t,this._logLevel=ew,this._logHandler=nw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ze))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?W1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...t),this._logHandler(this,ze.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...t),this._logHandler(this,ze.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...t),this._logHandler(this,ze.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...t),this._logHandler(this,ze.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...t),this._logHandler(this,ze.ERROR,...t)}}const rw=(s,t)=>t.some(r=>s instanceof r);let rv,iv;function iw(){return rv||(rv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sw(){return iv||(iv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const k_=new WeakMap,dd=new WeakMap,L_=new WeakMap,td=new WeakMap,Hd=new WeakMap;function aw(s){const t=new Promise((r,a)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",h)},u=()=>{r(bi(s.result)),l()},h=()=>{a(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",h)});return t.then(r=>{r instanceof IDBCursor&&k_.set(r,s)}).catch(()=>{}),Hd.set(t,s),t}function ow(s){if(dd.has(s))return;const t=new Promise((r,a)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",h),s.removeEventListener("abort",h)},u=()=>{r(),l()},h=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",h),s.addEventListener("abort",h)});dd.set(s,t)}let md={get(s,t,r){if(s instanceof IDBTransaction){if(t==="done")return dd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||L_.get(s);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return bi(s[t])},set(s,t,r){return s[t]=r,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function lw(s){md=s(md)}function uw(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const a=s.call(nd(this),t,...r);return L_.set(a,t.sort?t.sort():[t]),bi(a)}:sw().includes(s)?function(...t){return s.apply(nd(this),t),bi(k_.get(this))}:function(...t){return bi(s.apply(nd(this),t))}}function cw(s){return typeof s=="function"?uw(s):(s instanceof IDBTransaction&&ow(s),rw(s,iw())?new Proxy(s,md):s)}function bi(s){if(s instanceof IDBRequest)return aw(s);if(td.has(s))return td.get(s);const t=cw(s);return t!==s&&(td.set(s,t),Hd.set(t,s)),t}const nd=s=>Hd.get(s);function fw(s,t,{blocked:r,upgrade:a,blocking:l,terminated:u}={}){const h=indexedDB.open(s,t),f=bi(h);return a&&h.addEventListener("upgradeneeded",_=>{a(bi(h.result),_.oldVersion,_.newVersion,bi(h.transaction),_)}),r&&h.addEventListener("blocked",_=>r(_.oldVersion,_.newVersion,_)),f.then(_=>{u&&_.addEventListener("close",()=>u()),l&&_.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),f}const hw=["get","getKey","getAll","getAllKeys","count"],dw=["put","add","delete","clear"],rd=new Map;function sv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(rd.get(t))return rd.get(t);const r=t.replace(/FromIndex$/,""),a=t!==r,l=dw.includes(r);if(!(r in(a?IDBIndex:IDBObjectStore).prototype)||!(l||hw.includes(r)))return;const u=async function(h,...f){const _=this.transaction(h,l?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(f.shift())),(await Promise.all([v[r](...f),l&&_.done]))[0]};return rd.set(t,u),u}lw(s=>({...s,get:(t,r,a)=>sv(t,r)||s.get(t,r,a),has:(t,r)=>!!sv(t,r)||s.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(pw(r)){const a=r.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(r=>r).join(" ")}}function pw(s){const t=s.getComponent();return(t==null?void 0:t.type)==="VERSION"}const pd="@firebase/app",av="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur=new M_("@firebase/app"),gw="@firebase/app-compat",yw="@firebase/analytics-compat",vw="@firebase/analytics",_w="@firebase/app-check-compat",bw="@firebase/app-check",Ew="@firebase/auth",Tw="@firebase/auth-compat",ww="@firebase/database",Aw="@firebase/data-connect",Sw="@firebase/database-compat",Rw="@firebase/functions",xw="@firebase/functions-compat",Cw="@firebase/installations",Dw="@firebase/installations-compat",Ow="@firebase/messaging",Iw="@firebase/messaging-compat",Nw="@firebase/performance",Vw="@firebase/performance-compat",Mw="@firebase/remote-config",kw="@firebase/remote-config-compat",Lw="@firebase/storage",jw="@firebase/storage-compat",Pw="@firebase/firestore",Uw="@firebase/ai",zw="@firebase/firestore-compat",$w="firebase",Bw="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd="[DEFAULT]",qw={[pd]:"fire-core",[gw]:"fire-core-compat",[vw]:"fire-analytics",[yw]:"fire-analytics-compat",[bw]:"fire-app-check",[_w]:"fire-app-check-compat",[Ew]:"fire-auth",[Tw]:"fire-auth-compat",[ww]:"fire-rtdb",[Aw]:"fire-data-connect",[Sw]:"fire-rtdb-compat",[Rw]:"fire-fn",[xw]:"fire-fn-compat",[Cw]:"fire-iid",[Dw]:"fire-iid-compat",[Ow]:"fire-fcm",[Iw]:"fire-fcm-compat",[Nw]:"fire-perf",[Vw]:"fire-perf-compat",[Mw]:"fire-rc",[kw]:"fire-rc-compat",[Lw]:"fire-gcs",[jw]:"fire-gcs-compat",[Pw]:"fire-fst",[zw]:"fire-fst-compat",[Uw]:"fire-vertex","fire-js":"fire-js",[$w]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=new Map,Hw=new Map,yd=new Map;function ov(s,t){try{s.container.addComponent(t)}catch(r){Ur.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,r)}}function cc(s){const t=s.name;if(yd.has(t))return Ur.debug(`There were multiple attempts to register component ${t}.`),!1;yd.set(t,s);for(const r of uc.values())ov(r,s);for(const r of Hw.values())ov(r,s);return!0}function Fw(s,t){const r=s.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),s.container.getProvider(t)}function Gw(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ei=new V_("app","Firebase",Qw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(t,r,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new al("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ei.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=Bw;function j_(s,t={}){let r=s;typeof t!="object"&&(t={name:t});const a=Object.assign({name:gd,automaticDataCollectionEnabled:!0},t),l=a.name;if(typeof l!="string"||!l)throw Ei.create("bad-app-name",{appName:String(l)});if(r||(r=N_()),!r)throw Ei.create("no-options");const u=uc.get(l);if(u){if(lc(r,u.options)&&lc(a,u.config))return u;throw Ei.create("duplicate-app",{appName:l})}const h=new J1(l);for(const _ of yd.values())h.addComponent(_);const f=new Yw(r,a,h);return uc.set(l,f),f}function Xw(s=gd){const t=uc.get(s);if(!t&&s===gd&&N_())return j_();if(!t)throw Ei.create("no-app",{appName:s});return t}function Ta(s,t,r){var a;let l=(a=qw[s])!==null&&a!==void 0?a:s;r&&(l+=`-${r}`);const u=l.match(/\s|\//),h=t.match(/\s|\//);if(u||h){const f=[`Unable to register library "${l}" with version "${t}":`];u&&f.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&h&&f.push("and"),h&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ur.warn(f.join(" "));return}cc(new al(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw="firebase-heartbeat-database",Jw=1,ol="firebase-heartbeat-store";let id=null;function P_(){return id||(id=fw(Zw,Jw,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(ol)}catch(r){console.warn(r)}}}}).catch(s=>{throw Ei.create("idb-open",{originalErrorMessage:s.message})})),id}async function Ww(s){try{const r=(await P_()).transaction(ol),a=await r.objectStore(ol).get(U_(s));return await r.done,a}catch(t){if(t instanceof Na)Ur.warn(t.message);else{const r=Ei.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ur.warn(r.message)}}}async function lv(s,t){try{const a=(await P_()).transaction(ol,"readwrite");await a.objectStore(ol).put(t,U_(s)),await a.done}catch(r){if(r instanceof Na)Ur.warn(r.message);else{const a=Ei.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Ur.warn(a.message)}}}function U_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA=1024,tA=30;class nA{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new iA(r),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,r;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=uv();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>tA){const h=sA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Ur.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=uv(),{heartbeatsToSend:a,unsentEntries:l}=rA(this._heartbeatsCache.heartbeats),u=oc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=r,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(r){return Ur.warn(r),""}}}function uv(){return new Date().toISOString().substring(0,10)}function rA(s,t=eA){const r=[];let a=s.slice();for(const l of s){const u=r.find(h=>h.agent===l.agent);if(u){if(u.dates.push(l.date),cv(r)>t){u.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),cv(r)>t){r.pop();break}a=a.slice(1)}return{heartbeatsToSend:r,unsentEntries:a}}class iA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return H1()?F1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Ww(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return lv(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return lv(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function cv(s){return oc(JSON.stringify({version:2,heartbeats:s})).length}function sA(s){if(s.length===0)return-1;let t=0,r=s[0].date;for(let a=1;a<s.length;a++)s[a].date<r&&(r=s[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(s){cc(new al("platform-logger",t=>new mw(t),"PRIVATE")),cc(new al("heartbeat",t=>new nA(t),"PRIVATE")),Ta(pd,av,s),Ta(pd,av,"esm2017"),Ta("fire-js","")}aA("");var fv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ti,z_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,A){function C(){}C.prototype=A.prototype,N.D=A.prototype,N.prototype=new C,N.prototype.constructor=N,N.C=function(O,L,$){for(var P=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)P[fe-2]=arguments[fe];return A.prototype[L].apply(O,P)}}function r(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,r),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,A,C){C||(C=0);var O=Array(16);if(typeof A=="string")for(var L=0;16>L;++L)O[L]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(L=0;16>L;++L)O[L]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=N.g[0],C=N.g[1],L=N.g[2];var $=N.g[3],P=A+($^C&(L^$))+O[0]+3614090360&4294967295;A=C+(P<<7&4294967295|P>>>25),P=$+(L^A&(C^L))+O[1]+3905402710&4294967295,$=A+(P<<12&4294967295|P>>>20),P=L+(C^$&(A^C))+O[2]+606105819&4294967295,L=$+(P<<17&4294967295|P>>>15),P=C+(A^L&($^A))+O[3]+3250441966&4294967295,C=L+(P<<22&4294967295|P>>>10),P=A+($^C&(L^$))+O[4]+4118548399&4294967295,A=C+(P<<7&4294967295|P>>>25),P=$+(L^A&(C^L))+O[5]+1200080426&4294967295,$=A+(P<<12&4294967295|P>>>20),P=L+(C^$&(A^C))+O[6]+2821735955&4294967295,L=$+(P<<17&4294967295|P>>>15),P=C+(A^L&($^A))+O[7]+4249261313&4294967295,C=L+(P<<22&4294967295|P>>>10),P=A+($^C&(L^$))+O[8]+1770035416&4294967295,A=C+(P<<7&4294967295|P>>>25),P=$+(L^A&(C^L))+O[9]+2336552879&4294967295,$=A+(P<<12&4294967295|P>>>20),P=L+(C^$&(A^C))+O[10]+4294925233&4294967295,L=$+(P<<17&4294967295|P>>>15),P=C+(A^L&($^A))+O[11]+2304563134&4294967295,C=L+(P<<22&4294967295|P>>>10),P=A+($^C&(L^$))+O[12]+1804603682&4294967295,A=C+(P<<7&4294967295|P>>>25),P=$+(L^A&(C^L))+O[13]+4254626195&4294967295,$=A+(P<<12&4294967295|P>>>20),P=L+(C^$&(A^C))+O[14]+2792965006&4294967295,L=$+(P<<17&4294967295|P>>>15),P=C+(A^L&($^A))+O[15]+1236535329&4294967295,C=L+(P<<22&4294967295|P>>>10),P=A+(L^$&(C^L))+O[1]+4129170786&4294967295,A=C+(P<<5&4294967295|P>>>27),P=$+(C^L&(A^C))+O[6]+3225465664&4294967295,$=A+(P<<9&4294967295|P>>>23),P=L+(A^C&($^A))+O[11]+643717713&4294967295,L=$+(P<<14&4294967295|P>>>18),P=C+($^A&(L^$))+O[0]+3921069994&4294967295,C=L+(P<<20&4294967295|P>>>12),P=A+(L^$&(C^L))+O[5]+3593408605&4294967295,A=C+(P<<5&4294967295|P>>>27),P=$+(C^L&(A^C))+O[10]+38016083&4294967295,$=A+(P<<9&4294967295|P>>>23),P=L+(A^C&($^A))+O[15]+3634488961&4294967295,L=$+(P<<14&4294967295|P>>>18),P=C+($^A&(L^$))+O[4]+3889429448&4294967295,C=L+(P<<20&4294967295|P>>>12),P=A+(L^$&(C^L))+O[9]+568446438&4294967295,A=C+(P<<5&4294967295|P>>>27),P=$+(C^L&(A^C))+O[14]+3275163606&4294967295,$=A+(P<<9&4294967295|P>>>23),P=L+(A^C&($^A))+O[3]+4107603335&4294967295,L=$+(P<<14&4294967295|P>>>18),P=C+($^A&(L^$))+O[8]+1163531501&4294967295,C=L+(P<<20&4294967295|P>>>12),P=A+(L^$&(C^L))+O[13]+2850285829&4294967295,A=C+(P<<5&4294967295|P>>>27),P=$+(C^L&(A^C))+O[2]+4243563512&4294967295,$=A+(P<<9&4294967295|P>>>23),P=L+(A^C&($^A))+O[7]+1735328473&4294967295,L=$+(P<<14&4294967295|P>>>18),P=C+($^A&(L^$))+O[12]+2368359562&4294967295,C=L+(P<<20&4294967295|P>>>12),P=A+(C^L^$)+O[5]+4294588738&4294967295,A=C+(P<<4&4294967295|P>>>28),P=$+(A^C^L)+O[8]+2272392833&4294967295,$=A+(P<<11&4294967295|P>>>21),P=L+($^A^C)+O[11]+1839030562&4294967295,L=$+(P<<16&4294967295|P>>>16),P=C+(L^$^A)+O[14]+4259657740&4294967295,C=L+(P<<23&4294967295|P>>>9),P=A+(C^L^$)+O[1]+2763975236&4294967295,A=C+(P<<4&4294967295|P>>>28),P=$+(A^C^L)+O[4]+1272893353&4294967295,$=A+(P<<11&4294967295|P>>>21),P=L+($^A^C)+O[7]+4139469664&4294967295,L=$+(P<<16&4294967295|P>>>16),P=C+(L^$^A)+O[10]+3200236656&4294967295,C=L+(P<<23&4294967295|P>>>9),P=A+(C^L^$)+O[13]+681279174&4294967295,A=C+(P<<4&4294967295|P>>>28),P=$+(A^C^L)+O[0]+3936430074&4294967295,$=A+(P<<11&4294967295|P>>>21),P=L+($^A^C)+O[3]+3572445317&4294967295,L=$+(P<<16&4294967295|P>>>16),P=C+(L^$^A)+O[6]+76029189&4294967295,C=L+(P<<23&4294967295|P>>>9),P=A+(C^L^$)+O[9]+3654602809&4294967295,A=C+(P<<4&4294967295|P>>>28),P=$+(A^C^L)+O[12]+3873151461&4294967295,$=A+(P<<11&4294967295|P>>>21),P=L+($^A^C)+O[15]+530742520&4294967295,L=$+(P<<16&4294967295|P>>>16),P=C+(L^$^A)+O[2]+3299628645&4294967295,C=L+(P<<23&4294967295|P>>>9),P=A+(L^(C|~$))+O[0]+4096336452&4294967295,A=C+(P<<6&4294967295|P>>>26),P=$+(C^(A|~L))+O[7]+1126891415&4294967295,$=A+(P<<10&4294967295|P>>>22),P=L+(A^($|~C))+O[14]+2878612391&4294967295,L=$+(P<<15&4294967295|P>>>17),P=C+($^(L|~A))+O[5]+4237533241&4294967295,C=L+(P<<21&4294967295|P>>>11),P=A+(L^(C|~$))+O[12]+1700485571&4294967295,A=C+(P<<6&4294967295|P>>>26),P=$+(C^(A|~L))+O[3]+2399980690&4294967295,$=A+(P<<10&4294967295|P>>>22),P=L+(A^($|~C))+O[10]+4293915773&4294967295,L=$+(P<<15&4294967295|P>>>17),P=C+($^(L|~A))+O[1]+2240044497&4294967295,C=L+(P<<21&4294967295|P>>>11),P=A+(L^(C|~$))+O[8]+1873313359&4294967295,A=C+(P<<6&4294967295|P>>>26),P=$+(C^(A|~L))+O[15]+4264355552&4294967295,$=A+(P<<10&4294967295|P>>>22),P=L+(A^($|~C))+O[6]+2734768916&4294967295,L=$+(P<<15&4294967295|P>>>17),P=C+($^(L|~A))+O[13]+1309151649&4294967295,C=L+(P<<21&4294967295|P>>>11),P=A+(L^(C|~$))+O[4]+4149444226&4294967295,A=C+(P<<6&4294967295|P>>>26),P=$+(C^(A|~L))+O[11]+3174756917&4294967295,$=A+(P<<10&4294967295|P>>>22),P=L+(A^($|~C))+O[2]+718787259&4294967295,L=$+(P<<15&4294967295|P>>>17),P=C+($^(L|~A))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(L+(P<<21&4294967295|P>>>11))&4294967295,N.g[2]=N.g[2]+L&4294967295,N.g[3]=N.g[3]+$&4294967295}a.prototype.u=function(N,A){A===void 0&&(A=N.length);for(var C=A-this.blockSize,O=this.B,L=this.h,$=0;$<A;){if(L==0)for(;$<=C;)l(this,N,$),$+=this.blockSize;if(typeof N=="string"){for(;$<A;)if(O[L++]=N.charCodeAt($++),L==this.blockSize){l(this,O),L=0;break}}else for(;$<A;)if(O[L++]=N[$++],L==this.blockSize){l(this,O),L=0;break}}this.h=L,this.o+=A},a.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;var C=8*this.o;for(A=N.length-8;A<N.length;++A)N[A]=C&255,C/=256;for(this.u(N),N=Array(16),A=C=0;4>A;++A)for(var O=0;32>O;O+=8)N[C++]=this.g[A]>>>O&255;return N};function u(N,A){var C=f;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=A(N)}function h(N,A){this.h=A;for(var C=[],O=!0,L=N.length-1;0<=L;L--){var $=N[L]|0;O&&$==A||(C[L]=$,O=!1)}this.g=C}var f={};function _(N){return-128<=N&&128>N?u(N,function(A){return new h([A|0],0>A?-1:0)}):new h([N|0],0>N?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return m;if(0>N)return R(v(-N));for(var A=[],C=1,O=0;N>=C;O++)A[O]=N/C|0,C*=4294967296;return new h(A,0)}function w(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return R(w(N.substring(1),A));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=v(Math.pow(A,8)),O=m,L=0;L<N.length;L+=8){var $=Math.min(8,N.length-L),P=parseInt(N.substring(L,L+$),A);8>$?($=v(Math.pow(A,$)),O=O.j($).add(v(P))):(O=O.j(C),O=O.add(v(P)))}return O}var m=_(0),p=_(1),b=_(16777216);s=h.prototype,s.m=function(){if(y(this))return-R(this).m();for(var N=0,A=1,C=0;C<this.g.length;C++){var O=this.i(C);N+=(0<=O?O:4294967296+O)*A,A*=4294967296}return N},s.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(g(this))return"0";if(y(this))return"-"+R(this).toString(N);for(var A=v(Math.pow(N,6)),C=this,O="";;){var L=M(C,A).g;C=E(C,L.j(A));var $=((0<C.g.length?C.g[0]:C.h)>>>0).toString(N);if(C=L,g(C))return $+O;for(;6>$.length;)$="0"+$;O=$+O}},s.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function g(N){if(N.h!=0)return!1;for(var A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function y(N){return N.h==-1}s.l=function(N){return N=E(this,N),y(N)?-1:g(N)?0:1};function R(N){for(var A=N.g.length,C=[],O=0;O<A;O++)C[O]=~N.g[O];return new h(C,~N.h).add(p)}s.abs=function(){return y(this)?R(this):this},s.add=function(N){for(var A=Math.max(this.g.length,N.g.length),C=[],O=0,L=0;L<=A;L++){var $=O+(this.i(L)&65535)+(N.i(L)&65535),P=($>>>16)+(this.i(L)>>>16)+(N.i(L)>>>16);O=P>>>16,$&=65535,P&=65535,C[L]=P<<16|$}return new h(C,C[C.length-1]&-2147483648?-1:0)};function E(N,A){return N.add(R(A))}s.j=function(N){if(g(this)||g(N))return m;if(y(this))return y(N)?R(this).j(R(N)):R(R(this).j(N));if(y(N))return R(this.j(R(N)));if(0>this.l(b)&&0>N.l(b))return v(this.m()*N.m());for(var A=this.g.length+N.g.length,C=[],O=0;O<2*A;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(var L=0;L<N.g.length;L++){var $=this.i(O)>>>16,P=this.i(O)&65535,fe=N.i(L)>>>16,he=N.i(L)&65535;C[2*O+2*L]+=P*he,S(C,2*O+2*L),C[2*O+2*L+1]+=$*he,S(C,2*O+2*L+1),C[2*O+2*L+1]+=P*fe,S(C,2*O+2*L+1),C[2*O+2*L+2]+=$*fe,S(C,2*O+2*L+2)}for(O=0;O<A;O++)C[O]=C[2*O+1]<<16|C[2*O];for(O=A;O<2*A;O++)C[O]=0;return new h(C,0)};function S(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function D(N,A){this.g=N,this.h=A}function M(N,A){if(g(A))throw Error("division by zero");if(g(N))return new D(m,m);if(y(N))return A=M(R(N),A),new D(R(A.g),R(A.h));if(y(A))return A=M(N,R(A)),new D(R(A.g),A.h);if(30<N.g.length){if(y(N)||y(A))throw Error("slowDivide_ only works with positive integers.");for(var C=p,O=A;0>=O.l(N);)C=k(C),O=k(O);var L=z(C,1),$=z(O,1);for(O=z(O,2),C=z(C,2);!g(O);){var P=$.add(O);0>=P.l(N)&&(L=L.add(C),$=P),O=z(O,1),C=z(C,1)}return A=E(N,L.j(A)),new D(L,A)}for(L=m;0<=N.l(A);){for(C=Math.max(1,Math.floor(N.m()/A.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),$=v(C),P=$.j(A);y(P)||0<P.l(N);)C-=O,$=v(C),P=$.j(A);g($)&&($=p),L=L.add($),N=E(N,P)}return new D(L,N)}s.A=function(N){return M(this,N).h},s.and=function(N){for(var A=Math.max(this.g.length,N.g.length),C=[],O=0;O<A;O++)C[O]=this.i(O)&N.i(O);return new h(C,this.h&N.h)},s.or=function(N){for(var A=Math.max(this.g.length,N.g.length),C=[],O=0;O<A;O++)C[O]=this.i(O)|N.i(O);return new h(C,this.h|N.h)},s.xor=function(N){for(var A=Math.max(this.g.length,N.g.length),C=[],O=0;O<A;O++)C[O]=this.i(O)^N.i(O);return new h(C,this.h^N.h)};function k(N){for(var A=N.g.length+1,C=[],O=0;O<A;O++)C[O]=N.i(O)<<1|N.i(O-1)>>>31;return new h(C,N.h)}function z(N,A){var C=A>>5;A%=32;for(var O=N.g.length-C,L=[],$=0;$<O;$++)L[$]=0<A?N.i($+C)>>>A|N.i($+C+1)<<32-A:N.i($+C);return new h(L,N.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,z_=a,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=w,Ti=h}).apply(typeof fv<"u"?fv:typeof self<"u"?self:typeof window<"u"?window:{});var Qu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $_,Xo,B_,ec,vd,q_,H_,F_;(function(){var s,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,x,I){return c==Array.prototype||c==Object.prototype||(c[x]=I.value),c};function r(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qu=="object"&&Qu];for(var x=0;x<c.length;++x){var I=c[x];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var a=r(this);function l(c,x){if(x)e:{var I=a;c=c.split(".");for(var U=0;U<c.length-1;U++){var G=c[U];if(!(G in I))break e;I=I[G]}c=c[c.length-1],U=I[c],x=x(U),x!=U&&x!=null&&t(I,c,{configurable:!0,writable:!0,value:x})}}function u(c,x){c instanceof String&&(c+="");var I=0,U=!1,G={next:function(){if(!U&&I<c.length){var J=I++;return{value:x(J,c[J]),done:!1}}return U=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}l("Array.prototype.values",function(c){return c||function(){return u(this,function(x,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},f=this||self;function _(c){var x=typeof c;return x=x!="object"?x:c?Array.isArray(c)?"array":x:"null",x=="array"||x=="object"&&typeof c.length=="number"}function v(c){var x=typeof c;return x=="object"&&c!=null||x=="function"}function w(c,x,I){return c.call.apply(c.bind,arguments)}function m(c,x,I){if(!c)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,U),c.apply(x,G)}}return function(){return c.apply(x,arguments)}}function p(c,x,I){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:m,p.apply(null,arguments)}function b(c,x){var I=Array.prototype.slice.call(arguments,1);return function(){var U=I.slice();return U.push.apply(U,arguments),c.apply(this,U)}}function g(c,x){function I(){}I.prototype=x.prototype,c.aa=x.prototype,c.prototype=new I,c.prototype.constructor=c,c.Qb=function(U,G,J){for(var ce=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)ce[Le-2]=arguments[Le];return x.prototype[G].apply(U,ce)}}function y(c){const x=c.length;if(0<x){const I=Array(x);for(let U=0;U<x;U++)I[U]=c[U];return I}return[]}function R(c,x){for(let I=1;I<arguments.length;I++){const U=arguments[I];if(_(U)){const G=c.length||0,J=U.length||0;c.length=G+J;for(let ce=0;ce<J;ce++)c[G+ce]=U[ce]}else c.push(U)}}class E{constructor(x,I){this.i=x,this.j=I,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function S(c){return/^[\s\xa0]*$/.test(c)}function D(){var c=f.navigator;return c&&(c=c.userAgent)?c:""}function M(c){return M[" "](c),c}M[" "]=function(){};var k=D().indexOf("Gecko")!=-1&&!(D().toLowerCase().indexOf("webkit")!=-1&&D().indexOf("Edge")==-1)&&!(D().indexOf("Trident")!=-1||D().indexOf("MSIE")!=-1)&&D().indexOf("Edge")==-1;function z(c,x,I){for(const U in c)x.call(I,c[U],U,c)}function N(c,x){for(const I in c)x.call(void 0,c[I],I,c)}function A(c){const x={};for(const I in c)x[I]=c[I];return x}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,x){let I,U;for(let G=1;G<arguments.length;G++){U=arguments[G];for(I in U)c[I]=U[I];for(let J=0;J<C.length;J++)I=C[J],Object.prototype.hasOwnProperty.call(U,I)&&(c[I]=U[I])}}function L(c){var x=1;c=c.split(":");const I=[];for(;0<x&&c.length;)I.push(c.shift()),x--;return c.length&&I.push(c.join(":")),I}function $(c){f.setTimeout(()=>{throw c},0)}function P(){var c=Se;let x=null;return c.g&&(x=c.g,c.g=c.g.next,c.g||(c.h=null),x.next=null),x}class fe{constructor(){this.h=this.g=null}add(x,I){const U=he.get();U.set(x,I),this.h?this.h.next=U:this.g=U,this.h=U}}var he=new E(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(x,I){this.h=x,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let se,de=!1,Se=new fe,q=()=>{const c=f.Promise.resolve(void 0);se=()=>{c.then(W)}};var W=()=>{for(var c;c=P();){try{c.h.call(c.g)}catch(I){$(I)}var x=he;x.j(c),100>x.h&&(x.h++,c.next=x.g,x.g=c)}de=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(c,x){this.type=c,this.g=this.target=x,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,x=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const I=()=>{};f.addEventListener("test",I,x),f.removeEventListener("test",I,x)}catch{}return c}();function xe(c,x){if(oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var I=this.type=c.type,U=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=x,x=c.relatedTarget){if(k){e:{try{M(x.nodeName);var G=!0;break e}catch{}G=!1}G||(x=null)}}else I=="mouseover"?x=c.fromElement:I=="mouseout"&&(x=c.toElement);this.relatedTarget=x,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ee[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&xe.aa.h.call(this)}}g(xe,oe);var Ee={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var tt="closure_listenable_"+(1e6*Math.random()|0),We=0;function Un(c,x,I,U,G){this.listener=c,this.proxy=null,this.src=x,this.type=I,this.capture=!!U,this.ha=G,this.key=++We,this.da=this.fa=!1}function Hr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ur(c){this.src=c,this.g={},this.h=0}ur.prototype.add=function(c,x,I,U,G){var J=c.toString();c=this.g[J],c||(c=this.g[J]=[],this.h++);var ce=Mi(c,x,U,G);return-1<ce?(x=c[ce],I||(x.fa=!1)):(x=new Un(x,this.src,J,!!U,G),x.fa=I,c.push(x)),x};function Vi(c,x){var I=x.type;if(I in c.g){var U=c.g[I],G=Array.prototype.indexOf.call(U,x,void 0),J;(J=0<=G)&&Array.prototype.splice.call(U,G,1),J&&(Hr(x),c.g[I].length==0&&(delete c.g[I],c.h--))}}function Mi(c,x,I,U){for(var G=0;G<c.length;++G){var J=c[G];if(!J.da&&J.listener==x&&J.capture==!!I&&J.ha==U)return G}return-1}var ki="closure_lm_"+(1e6*Math.random()|0),ja={};function Tl(c,x,I,U,G){if(Array.isArray(x)){for(var J=0;J<x.length;J++)Tl(c,x[J],I,U,G);return null}return I=wl(I),c&&c[tt]?c.K(x,I,v(U)?!!U.capture:!1,G):vn(c,x,I,!1,U,G)}function vn(c,x,I,U,G,J){if(!x)throw Error("Invalid event type");var ce=v(G)?!!G.capture:!!G,Le=Rs(c);if(Le||(c[ki]=Le=new ur(c)),I=Le.add(x,I,U,ce,J),I.proxy)return I;if(U=Gc(),I.proxy=U,U.src=c,U.listener=I,c.addEventListener)ge||(G=ce),G===void 0&&(G=!1),c.addEventListener(x.toString(),U,G);else if(c.attachEvent)c.attachEvent(Li(x.toString()),U);else if(c.addListener&&c.removeListener)c.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return I}function Gc(){function c(I){return x.call(c.src,c.listener,I)}const x=Qc;return c}function Pa(c,x,I,U,G){if(Array.isArray(x))for(var J=0;J<x.length;J++)Pa(c,x[J],I,U,G);else U=v(U)?!!U.capture:!!U,I=wl(I),c&&c[tt]?(c=c.i,x=String(x).toString(),x in c.g&&(J=c.g[x],I=Mi(J,I,U,G),-1<I&&(Hr(J[I]),Array.prototype.splice.call(J,I,1),J.length==0&&(delete c.g[x],c.h--)))):c&&(c=Rs(c))&&(x=c.g[x.toString()],c=-1,x&&(c=Mi(x,I,U,G)),(I=-1<c?x[c]:null)&&Ss(I))}function Ss(c){if(typeof c!="number"&&c&&!c.da){var x=c.src;if(x&&x[tt])Vi(x.i,c);else{var I=c.type,U=c.proxy;x.removeEventListener?x.removeEventListener(I,U,c.capture):x.detachEvent?x.detachEvent(Li(I),U):x.addListener&&x.removeListener&&x.removeListener(U),(I=Rs(x))?(Vi(I,c),I.h==0&&(I.src=null,x[ki]=null)):Hr(c)}}}function Li(c){return c in ja?ja[c]:ja[c]="on"+c}function Qc(c,x){if(c.da)c=!0;else{x=new xe(x,this);var I=c.listener,U=c.ha||c.src;c.fa&&Ss(c),c=I.call(U,x)}return c}function Rs(c){return c=c[ki],c instanceof ur?c:null}var Ua="__closure_events_fn_"+(1e9*Math.random()>>>0);function wl(c){return typeof c=="function"?c:(c[Ua]||(c[Ua]=function(x){return c.handleEvent(x)}),c[Ua])}function lt(){le.call(this),this.i=new ur(this),this.M=this,this.F=null}g(lt,le),lt.prototype[tt]=!0,lt.prototype.removeEventListener=function(c,x,I,U){Pa(this,c,x,I,U)};function Fe(c,x){var I,U=c.F;if(U)for(I=[];U;U=U.F)I.push(U);if(c=c.M,U=x.type||x,typeof x=="string")x=new oe(x,c);else if(x instanceof oe)x.target=x.target||c;else{var G=x;x=new oe(U,c),O(x,G)}if(G=!0,I)for(var J=I.length-1;0<=J;J--){var ce=x.g=I[J];G=on(ce,U,!0,x)&&G}if(ce=x.g=c,G=on(ce,U,!0,x)&&G,G=on(ce,U,!1,x)&&G,I)for(J=0;J<I.length;J++)ce=x.g=I[J],G=on(ce,U,!1,x)&&G}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var c=this.i,x;for(x in c.g){for(var I=c.g[x],U=0;U<I.length;U++)Hr(I[U]);delete c.g[x],c.h--}}this.F=null},lt.prototype.K=function(c,x,I,U){return this.i.add(String(c),x,!1,I,U)},lt.prototype.L=function(c,x,I,U){return this.i.add(String(c),x,!0,I,U)};function on(c,x,I,U){if(x=c.i.g[String(x)],!x)return!0;x=x.concat();for(var G=!0,J=0;J<x.length;++J){var ce=x[J];if(ce&&!ce.da&&ce.capture==I){var Le=ce.listener,Et=ce.ha||ce.src;ce.fa&&Vi(c.i,ce),G=Le.call(Et,U)!==!1&&G}}return G&&!U.defaultPrevented}function Bt(c,x,I){if(typeof c=="function")I&&(c=p(c,I));else if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:f.setTimeout(c,x||0)}function Al(c){c.g=Bt(()=>{c.g=null,c.i&&(c.i=!1,Al(c))},c.l);const x=c.h;c.h=null,c.m.apply(null,x)}class Yc extends le{constructor(x,I){super(),this.m=x,this.l=I,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Al(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ji(c){le.call(this),this.h=c,this.g={}}g(ji,le);var Pi=[];function Ui(c){z(c.g,function(x,I){this.g.hasOwnProperty(I)&&Ss(x)},c),c.g={}}ji.prototype.N=function(){ji.aa.N.call(this),Ui(this)},ji.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nn=f.JSON.stringify,xs=f.JSON.parse,zi=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function za(){}za.prototype.h=null;function $a(c){return c.h||(c.h=c.i())}function Ba(){}var cr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fr(){oe.call(this,"d")}g(fr,oe);function qa(){oe.call(this,"c")}g(qa,oe);var zn={},Ha=null;function Fr(){return Ha=Ha||new lt}zn.La="serverreachability";function Cs(c){oe.call(this,zn.La,c)}g(Cs,oe);function Gr(c){const x=Fr();Fe(x,new Cs(x))}zn.STAT_EVENT="statevent";function Sl(c,x){oe.call(this,zn.STAT_EVENT,c),this.stat=x}g(Sl,oe);function nt(c){const x=Fr();Fe(x,new Sl(x,c))}zn.Ma="timingevent";function bt(c,x){oe.call(this,zn.Ma,c),this.size=x}g(bt,oe);function pt(c,x){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},x)}function _n(){this.g=!0}_n.prototype.xa=function(){this.g=!1};function Fa(c,x,I,U,G,J){c.info(function(){if(c.g)if(J)for(var ce="",Le=J.split("&"),Et=0;Et<Le.length;Et++){var je=Le[Et].split("=");if(1<je.length){var Dt=je[0];je=je[1];var Tt=Dt.split("_");ce=2<=Tt.length&&Tt[1]=="type"?ce+(Dt+"="+je+"&"):ce+(Dt+"=redacted&")}}else ce=null;else ce=J;return"XMLHTTP REQ ("+U+") [attempt "+G+"]: "+x+`
`+I+`
`+ce})}function Kc(c,x,I,U,G,J,ce){c.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+G+"]: "+x+`
`+I+`
`+J+" "+ce})}function Qr(c,x,I,U){c.info(function(){return"XMLHTTP TEXT ("+x+"): "+$i(c,I)+(U?" "+U:"")})}function Rl(c,x){c.info(function(){return"TIMEOUT: "+x})}_n.prototype.info=function(){};function $i(c,x){if(!c.g)return x;if(!x)return null;try{var I=JSON.parse(x);if(I){for(c=0;c<I.length;c++)if(Array.isArray(I[c])){var U=I[c];if(!(2>U.length)){var G=U[1];if(Array.isArray(G)&&!(1>G.length)){var J=G[0];if(J!="noop"&&J!="stop"&&J!="close")for(var ce=1;ce<G.length;ce++)G[ce]=""}}}}return Nn(I)}catch{return x}}var Yr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$n;function Bn(){}g(Bn,za),Bn.prototype.g=function(){return new XMLHttpRequest},Bn.prototype.i=function(){return{}},$n=new Bn;function Kt(c,x,I,U){this.j=c,this.i=x,this.l=I,this.R=U||1,this.U=new ji(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ft}function ft(){this.i=null,this.g="",this.h=!1}var Ga={},Ds={};function Vn(c,x,I){c.L=1,c.v=Gi(ln(x)),c.m=I,c.P=!0,dr(c,null)}function dr(c,x){c.F=Date.now(),Bi(c),c.A=ln(c.v);var I=c.A,U=c.R;Array.isArray(U)||(U=[String(U)]),Ja(I.i,"t",U),c.C=0,I=c.j.J,c.h=new ft,c.g=Bl(c.j,I?x:null,!c.m),0<c.O&&(c.M=new Yc(p(c.Y,c,c.g),c.O)),x=c.U,I=c.g,U=c.ca;var G="readystatechange";Array.isArray(G)||(G&&(Pi[0]=G.toString()),G=Pi);for(var J=0;J<G.length;J++){var ce=Tl(I,G[J],U||x.handleEvent,!1,x.h||x);if(!ce)break;x.g[ce.key]=ce}x=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,x)):(c.u="GET",c.g.ea(c.A,c.u,null,x)),Gr(),Fa(c.i,c.u,c.A,c.l,c.R,c.m)}Kt.prototype.ca=function(c){c=c.target;const x=this.M;x&&wn(c)==3?x.j():this.Y(c)},Kt.prototype.Y=function(c){try{if(c==this.g)e:{const Tt=wn(this.g);var x=this.g.Ba();const Er=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||Ml(this.g)))){this.J||Tt!=4||x==7||(x==8||0>=Er?Gr(3):Gr(2)),Kr(this);var I=this.g.Z();this.X=I;t:if(xl(this)){var U=Ml(this.g);c="";var G=U.length,J=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mt(this),qn(this);var ce="";break t}this.h.i=new f.TextDecoder}for(x=0;x<G;x++)this.h.h=!0,c+=this.h.i.decode(U[x],{stream:!(J&&x==G-1)});U.length=0,this.h.g+=c,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=I==200,Kc(this.i,this.u,this.A,this.l,this.R,Tt,I),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,Et=this.g;if((Le=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(Le)){var je=Le;break t}}je=null}if(I=je)Qr(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qi(this,I);else{this.o=!1,this.s=3,nt(12),Mt(this),qn(this);break e}}if(this.P){I=!0;let kt;for(;!this.J&&this.C<ce.length;)if(kt=Cl(this,ce),kt==Ds){Tt==4&&(this.s=4,nt(14),I=!1),Qr(this.i,this.l,null,"[Incomplete Response]");break}else if(kt==Ga){this.s=4,nt(15),Qr(this.i,this.l,ce,"[Invalid Chunk]"),I=!1;break}else Qr(this.i,this.l,kt,null),qi(this,kt);if(xl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||ce.length!=0||this.h.h||(this.s=1,nt(16),I=!1),this.o=this.o&&I,!I)Qr(this.i,this.l,ce,"[Invalid Chunked Response]"),Mt(this),qn(this);else if(0<ce.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),es(Dt),Dt.M=!0,nt(11))}}else Qr(this.i,this.l,ce,null),qi(this,ce);Tt==4&&Mt(this),this.o&&!this.J&&(Tt==4?Ul(this.j,this):(this.o=!1,Bi(this)))}else ef(this.g),I==400&&0<ce.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),Mt(this),qn(this)}}}catch{}finally{}};function xl(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Cl(c,x){var I=c.C,U=x.indexOf(`
`,I);return U==-1?Ds:(I=Number(x.substring(I,U)),isNaN(I)?Ga:(U+=1,U+I>x.length?Ds:(x=x.slice(U,U+I),c.C=U+I,x)))}Kt.prototype.cancel=function(){this.J=!0,Mt(this)};function Bi(c){c.S=Date.now()+c.I,Dl(c,c.I)}function Dl(c,x){if(c.B!=null)throw Error("WatchDog timer not null");c.B=pt(p(c.ba,c),x)}function Kr(c){c.B&&(f.clearTimeout(c.B),c.B=null)}Kt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Rl(this.i,this.A),this.L!=2&&(Gr(),nt(17)),Mt(this),this.s=2,qn(this)):Dl(this,this.S-c)};function qn(c){c.j.G==0||c.J||Ul(c.j,c)}function Mt(c){Kr(c);var x=c.M;x&&typeof x.ma=="function"&&x.ma(),c.M=null,Ui(c.U),c.g&&(x=c.g,c.g=null,x.abort(),x.ma())}function qi(c,x){try{var I=c.j;if(I.G!=0&&(I.g==c||Qa(I.h,c))){if(!c.K&&Qa(I.h,c)&&I.G==3){try{var U=I.Da.g.parse(x)}catch{U=null}if(Array.isArray(U)&&U.length==3){var G=U;if(G[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<c.F)$s(I),Us(I);else break e;ro(I),nt(18)}}else I.za=G[1],0<I.za-I.T&&37500>G[2]&&I.F&&I.v==0&&!I.C&&(I.C=pt(p(I.Za,I),6e3));if(1>=Is(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else br(I,11)}else if((c.K||I.g==c)&&$s(I),!S(x))for(G=I.Da.g.parse(x),x=0;x<G.length;x++){let je=G[x];if(I.T=je[0],je=je[1],I.G==2)if(je[0]=="c"){I.K=je[1],I.ia=je[2];const Dt=je[3];Dt!=null&&(I.la=Dt,I.j.info("VER="+I.la));const Tt=je[4];Tt!=null&&(I.Aa=Tt,I.j.info("SVER="+I.Aa));const Er=je[5];Er!=null&&typeof Er=="number"&&0<Er&&(U=1.5*Er,I.L=U,I.j.info("backChannelRequestTimeoutMs_="+U)),U=I;const kt=c.g;if(kt){const Xn=kt.g?kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xn){var J=U.h;J.g||Xn.indexOf("spdy")==-1&&Xn.indexOf("quic")==-1&&Xn.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Ns(J,J.h),J.h=null))}if(U.D){const so=kt.g?kt.g.getResponseHeader("X-HTTP-Session-Id"):null;so&&(U.ya=so,Ye(U.I,U.D,so))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-c.F,I.j.info("Handshake RTT: "+I.R+"ms")),U=I;var ce=c;if(U.qa=$l(U,U.J?U.ia:null,U.W),ce.K){Xt(U.h,ce);var Le=ce,Et=U.L;Et&&(Le.I=Et),Le.B&&(Kr(Le),Bi(Le)),U.g=ce}else jl(U);0<I.i.length&&zs(I)}else je[0]!="stop"&&je[0]!="close"||br(I,7);else I.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?br(I,7):to(I):je[0]!="noop"&&I.l&&I.l.ta(je),I.v=0)}}Gr(4)}catch{}}var Ol=class{constructor(c,x){this.g=c,this.map=x}};function mr(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Os(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Is(c){return c.h?1:c.g?c.g.size:0}function Qa(c,x){return c.h?c.h==x:c.g?c.g.has(x):!1}function Ns(c,x){c.g?c.g.add(x):c.h=x}function Xt(c,x){c.h&&c.h==x?c.h=null:c.g&&c.g.has(x)&&c.g.delete(x)}mr.prototype.cancel=function(){if(this.i=Ya(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ya(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let x=c.i;for(const I of c.g.values())x=x.concat(I.D);return x}return y(c.i)}function Xc(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(_(c)){for(var x=[],I=c.length,U=0;U<I;U++)x.push(c[U]);return x}x=[],I=0;for(U in c)x[I++]=c[U];return x}function Vs(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(_(c)||typeof c=="string"){var x=[];c=c.length;for(var I=0;I<c;I++)x.push(I);return x}x=[],I=0;for(const U in c)x[I++]=U;return x}}}function Ka(c,x){if(c.forEach&&typeof c.forEach=="function")c.forEach(x,void 0);else if(_(c)||typeof c=="string")Array.prototype.forEach.call(c,x,void 0);else for(var I=Vs(c),U=Xc(c),G=U.length,J=0;J<G;J++)x.call(void 0,U[J],I&&I[J],c)}var Hi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zc(c,x){if(c){c=c.split("&");for(var I=0;I<c.length;I++){var U=c[I].indexOf("="),G=null;if(0<=U){var J=c[I].substring(0,U);G=c[I].substring(U+1)}else J=c[I];x(J,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function gt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof gt){this.h=c.h,Fi(this,c.j),this.o=c.o,this.g=c.g,Xr(this,c.s),this.l=c.l;var x=c.i,I=new gr;I.i=x.i,x.g&&(I.g=new Map(x.g),I.h=x.h),pr(this,I),this.m=c.m}else c&&(x=String(c).match(Hi))?(this.h=!1,Fi(this,x[1]||"",!0),this.o=bn(x[2]||""),this.g=bn(x[3]||"",!0),Xr(this,x[4]),this.l=bn(x[5]||"",!0),pr(this,x[6]||"",!0),this.m=bn(x[7]||"")):(this.h=!1,this.i=new gr(null,this.h))}gt.prototype.toString=function(){var c=[],x=this.j;x&&c.push(Qi(x,Xa,!0),":");var I=this.g;return(I||x=="file")&&(c.push("//"),(x=this.o)&&c.push(Qi(x,Xa,!0),"@"),c.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&c.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&c.push("/"),c.push(Qi(I,I.charAt(0)=="/"?Jc:Za,!0))),(I=this.i.toString())&&c.push("?",I),(I=this.m)&&c.push("#",Qi(I,Ms)),c.join("")};function ln(c){return new gt(c)}function Fi(c,x,I){c.j=I?bn(x,!0):x,c.j&&(c.j=c.j.replace(/:$/,""))}function Xr(c,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);c.s=x}else c.s=null}function pr(c,x,I){x instanceof gr?(c.i=x,Nl(c.i,c.h)):(I||(x=Qi(x,Wc)),c.i=new gr(x,c.h))}function Ye(c,x,I){c.i.set(x,I)}function Gi(c){return Ye(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function bn(c,x){return c?x?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Qi(c,x,I){return typeof c=="string"?(c=encodeURI(c).replace(x,Il),I&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Il(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Xa=/[#\/\?@]/g,Za=/[#\?:]/g,Jc=/[#\?]/g,Wc=/[#\?@]/g,Ms=/#/g;function gr(c,x){this.h=this.g=null,this.i=c||null,this.j=!!x}function En(c){c.g||(c.g=new Map,c.h=0,c.i&&Zc(c.i,function(x,I){c.add(decodeURIComponent(x.replace(/\+/g," ")),I)}))}s=gr.prototype,s.add=function(c,x){En(this),this.i=null,c=Hn(this,c);var I=this.g.get(c);return I||this.g.set(c,I=[]),I.push(x),this.h+=1,this};function yr(c,x){En(c),x=Hn(c,x),c.g.has(x)&&(c.i=null,c.h-=c.g.get(x).length,c.g.delete(x))}function vr(c,x){return En(c),x=Hn(c,x),c.g.has(x)}s.forEach=function(c,x){En(this),this.g.forEach(function(I,U){I.forEach(function(G){c.call(x,G,U,this)},this)},this)},s.na=function(){En(this);const c=Array.from(this.g.values()),x=Array.from(this.g.keys()),I=[];for(let U=0;U<x.length;U++){const G=c[U];for(let J=0;J<G.length;J++)I.push(x[U])}return I},s.V=function(c){En(this);let x=[];if(typeof c=="string")vr(this,c)&&(x=x.concat(this.g.get(Hn(this,c))));else{c=Array.from(this.g.values());for(let I=0;I<c.length;I++)x=x.concat(c[I])}return x},s.set=function(c,x){return En(this),this.i=null,c=Hn(this,c),vr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[x]),this.h+=1,this},s.get=function(c,x){return c?(c=this.V(c),0<c.length?String(c[0]):x):x};function Ja(c,x,I){yr(c,x),0<I.length&&(c.i=null,c.g.set(Hn(c,x),y(I)),c.h+=I.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],x=Array.from(this.g.keys());for(var I=0;I<x.length;I++){var U=x[I];const J=encodeURIComponent(String(U)),ce=this.V(U);for(U=0;U<ce.length;U++){var G=J;ce[U]!==""&&(G+="="+encodeURIComponent(String(ce[U]))),c.push(G)}}return this.i=c.join("&")};function Hn(c,x){return x=String(x),c.j&&(x=x.toLowerCase()),x}function Nl(c,x){x&&!c.j&&(En(c),c.i=null,c.g.forEach(function(I,U){var G=U.toLowerCase();U!=G&&(yr(this,U),Ja(this,G,I))},c)),c.j=x}function Yi(c,x){const I=new _n;if(f.Image){const U=new Image;U.onload=b(Tn,I,"TestLoadImage: loaded",!0,x,U),U.onerror=b(Tn,I,"TestLoadImage: error",!1,x,U),U.onabort=b(Tn,I,"TestLoadImage: abort",!1,x,U),U.ontimeout=b(Tn,I,"TestLoadImage: timeout",!1,x,U),f.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=c}else x(!1)}function Mn(c,x){const I=new _n,U=new AbortController,G=setTimeout(()=>{U.abort(),Tn(I,"TestPingServer: timeout",!1,x)},1e4);fetch(c,{signal:U.signal}).then(J=>{clearTimeout(G),J.ok?Tn(I,"TestPingServer: ok",!0,x):Tn(I,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(G),Tn(I,"TestPingServer: error",!1,x)})}function Tn(c,x,I,U,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),U(I)}catch{}}function Ki(){this.g=new zi}function Fn(c,x,I){const U=I||"";try{Ka(c,function(G,J){let ce=G;v(G)&&(ce=Nn(G)),x.push(U+J+"="+encodeURIComponent(ce))})}catch(G){throw x.push(U+"type="+encodeURIComponent("_badmap")),G}}function Zr(c){this.l=c.Ub||null,this.j=c.eb||!1}g(Zr,za),Zr.prototype.g=function(){return new _r(this.l,this.j)},Zr.prototype.i=function(c){return function(){return c}}({});function _r(c,x){lt.call(this),this.D=c,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(_r,lt),s=_r.prototype,s.open=function(c,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=x,this.readyState=1,Qn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(x.body=c),(this.D||f).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gn(this)),this.readyState=0},s.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wa(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wa(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}s.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var x=c.value?c.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!c.done}))&&(this.response=this.responseText+=x)}c.done?Gn(this):Qn(this),this.readyState==3&&Wa(this)}},s.Ra=function(c){this.g&&(this.response=this.responseText=c,Gn(this))},s.Qa=function(c){this.g&&(this.response=c,Gn(this))},s.ga=function(){this.g&&Gn(this)};function Gn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Qn(c)}s.setRequestHeader=function(c,x){this.u.append(c,x)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],x=this.h.entries();for(var I=x.next();!I.done;)I=I.value,c.push(I[0]+": "+I[1]),I=x.next();return c.join(`\r
`)};function Qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(_r.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function eo(c){let x="";return z(c,function(I,U){x+=U,x+=":",x+=I,x+=`\r
`}),x}function Ct(c,x,I){e:{for(U in I){var U=!1;break e}U=!0}U||(I=eo(I),typeof c=="string"?I!=null&&encodeURIComponent(String(I)):Ye(c,x,I))}function qe(c){lt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(qe,lt);var ks=/^https?$/i,Xi=["POST","PUT"];s=qe.prototype,s.Ha=function(c){this.J=c},s.ea=function(c,x,I,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);x=x?x.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$n.g(),this.v=this.o?$a(this.o):$a($n),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(x,String(c),!0),this.B=!1}catch(J){Vl(this,J);return}if(c=I||"",I=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var G in U)I.set(G,U[G]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const J of U.keys())I.set(J,U.get(J));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(I.keys()).find(J=>J.toLowerCase()=="content-type"),G=f.FormData&&c instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Xi,x,void 0))||U||G||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ce]of I)this.g.setRequestHeader(J,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zi(this),this.u=!0,this.g.send(c),this.u=!1}catch(J){Vl(this,J)}};function Vl(c,x){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=x,c.m=5,Ls(c),Yn(c)}function Ls(c){c.A||(c.A=!0,Fe(c,"complete"),Fe(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Fe(this,"complete"),Fe(this,"abort"),Yn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yn(this,!0)),qe.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?js(this):this.bb())},s.bb=function(){js(this)};function js(c){if(c.h&&typeof h<"u"&&(!c.v[1]||wn(c)!=4||c.Z()!=2)){if(c.u&&wn(c)==4)Bt(c.Ea,0,c);else if(Fe(c,"readystatechange"),wn(c)==4){c.h=!1;try{const ce=c.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var I;if(!(I=x)){var U;if(U=ce===0){var G=String(c.D).match(Hi)[1]||null;!G&&f.self&&f.self.location&&(G=f.self.location.protocol.slice(0,-1)),U=!ks.test(G?G.toLowerCase():"")}I=U}if(I)Fe(c,"complete"),Fe(c,"success");else{c.m=6;try{var J=2<wn(c)?c.g.statusText:""}catch{J=""}c.l=J+" ["+c.Z()+"]",Ls(c)}}finally{Yn(c)}}}}function Yn(c,x){if(c.g){Zi(c);const I=c.g,U=c.v[0]?()=>{}:null;c.g=null,c.v=null,x||Fe(c,"ready");try{I.onreadystatechange=U}catch{}}}function Zi(c){c.I&&(f.clearTimeout(c.I),c.I=null)}s.isActive=function(){return!!this.g};function wn(c){return c.g?c.g.readyState:0}s.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(c){if(this.g){var x=this.g.responseText;return c&&x.indexOf(c)==0&&(x=x.substring(c.length)),xs(x)}};function Ml(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ef(c){const x={};c=(c.g&&2<=wn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<c.length;U++){if(S(c[U]))continue;var I=L(c[U]);const G=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const J=x[G]||[];x[G]=J,J.push(I)}N(x,function(U){return U.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ji(c,x,I){return I&&I.internalChannelParams&&I.internalChannelParams[c]||x}function Ps(c){this.Aa=0,this.i=[],this.j=new _n,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ji("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ji("baseRetryDelayMs",5e3,c),this.cb=Ji("retryDelaySeedMs",1e4,c),this.Wa=Ji("forwardChannelMaxRetries",2,c),this.wa=Ji("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new mr(c&&c.concurrentRequestLimit),this.Da=new Ki,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Ps.prototype,s.la=8,s.G=1,s.connect=function(c,x,I,U){nt(0),this.W=c,this.H=x||{},I&&U!==void 0&&(this.H.OSID=I,this.H.OAID=U),this.F=this.X,this.I=$l(this,null,this.W),zs(this)};function to(c){if(kl(c),c.G==3){var x=c.U++,I=ln(c.I);if(Ye(I,"SID",c.K),Ye(I,"RID",x),Ye(I,"TYPE","terminate"),Wi(c,I),x=new Kt(c,c.j,x),x.L=2,x.v=Gi(ln(I)),I=!1,f.navigator&&f.navigator.sendBeacon)try{I=f.navigator.sendBeacon(x.v.toString(),"")}catch{}!I&&f.Image&&(new Image().src=x.v,I=!0),I||(x.g=Bl(x.j,null),x.g.ea(x.v)),x.F=Date.now(),Bi(x)}zl(c)}function Us(c){c.g&&(es(c),c.g.cancel(),c.g=null)}function kl(c){Us(c),c.u&&(f.clearTimeout(c.u),c.u=null),$s(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&f.clearTimeout(c.s),c.s=null)}function zs(c){if(!Os(c.h)&&!c.s){c.s=!0;var x=c.Ga;se||q(),de||(se(),de=!0),Se.add(x,c),c.B=0}}function tf(c,x){return Is(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=x.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=pt(p(c.Ga,c,x),io(c,c.B)),c.B++,!0)}s.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const G=new Kt(this,this.j,c);let J=this.o;if(this.S&&(J?(J=A(J),O(J,this.S)):J=this.S),this.m!==null||this.O||(G.H=J,J=null),this.P)e:{for(var x=0,I=0;I<this.i.length;I++){t:{var U=this.i[I];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(x+=U,4096<x){x=I;break e}if(x===4096||I===this.i.length-1){x=I+1;break e}}x=1e3}else x=1e3;x=Ll(this,G,x),I=ln(this.I),Ye(I,"RID",c),Ye(I,"CVER",22),this.D&&Ye(I,"X-HTTP-Session-Id",this.D),Wi(this,I),J&&(this.O?x="headers="+encodeURIComponent(String(eo(J)))+"&"+x:this.m&&Ct(I,this.m,J)),Ns(this.h,G),this.Ua&&Ye(I,"TYPE","init"),this.P?(Ye(I,"$req",x),Ye(I,"SID","null"),G.T=!0,Vn(G,I,null)):Vn(G,I,x),this.G=2}}else this.G==3&&(c?no(this,c):this.i.length==0||Os(this.h)||no(this))};function no(c,x){var I;x?I=x.l:I=c.U++;const U=ln(c.I);Ye(U,"SID",c.K),Ye(U,"RID",I),Ye(U,"AID",c.T),Wi(c,U),c.m&&c.o&&Ct(U,c.m,c.o),I=new Kt(c,c.j,I,c.B+1),c.m===null&&(I.H=c.o),x&&(c.i=x.D.concat(c.i)),x=Ll(c,I,1e3),I.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ns(c.h,I),Vn(I,U,x)}function Wi(c,x){c.H&&z(c.H,function(I,U){Ye(x,U,I)}),c.l&&Ka({},function(I,U){Ye(x,U,I)})}function Ll(c,x,I){I=Math.min(c.i.length,I);var U=c.l?p(c.l.Na,c.l,c):null;e:{var G=c.i;let J=-1;for(;;){const ce=["count="+I];J==-1?0<I?(J=G[0].g,ce.push("ofs="+J)):J=0:ce.push("ofs="+J);let Le=!0;for(let Et=0;Et<I;Et++){let je=G[Et].g;const Dt=G[Et].map;if(je-=J,0>je)J=Math.max(0,G[Et].g-100),Le=!1;else try{Fn(Dt,ce,"req"+je+"_")}catch{U&&U(Dt)}}if(Le){U=ce.join("&");break e}}}return c=c.i.splice(0,I),x.D=c,U}function jl(c){if(!c.g&&!c.u){c.Y=1;var x=c.Fa;se||q(),de||(se(),de=!0),Se.add(x,c),c.v=0}}function ro(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=pt(p(c.Fa,c),io(c,c.v)),c.v++,!0)}s.Fa=function(){if(this.u=null,Pl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=pt(p(this.ab,this),c)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),Us(this),Pl(this))};function es(c){c.A!=null&&(f.clearTimeout(c.A),c.A=null)}function Pl(c){c.g=new Kt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var x=ln(c.qa);Ye(x,"RID","rpc"),Ye(x,"SID",c.K),Ye(x,"AID",c.T),Ye(x,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ye(x,"TO",c.ja),Ye(x,"TYPE","xmlhttp"),Wi(c,x),c.m&&c.o&&Ct(x,c.m,c.o),c.L&&(c.g.I=c.L);var I=c.g;c=c.ia,I.L=1,I.v=Gi(ln(x)),I.m=null,I.P=!0,dr(I,c)}s.Za=function(){this.C!=null&&(this.C=null,Us(this),ro(this),nt(19))};function $s(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Ul(c,x){var I=null;if(c.g==x){$s(c),es(c),c.g=null;var U=2}else if(Qa(c.h,x))I=x.D,Xt(c.h,x),U=1;else return;if(c.G!=0){if(x.o)if(U==1){I=x.m?x.m.length:0,x=Date.now()-x.F;var G=c.B;U=Fr(),Fe(U,new bt(U,I)),zs(c)}else jl(c);else if(G=x.s,G==3||G==0&&0<x.X||!(U==1&&tf(c,x)||U==2&&ro(c)))switch(I&&0<I.length&&(x=c.h,x.i=x.i.concat(I)),G){case 1:br(c,5);break;case 4:br(c,10);break;case 3:br(c,6);break;default:br(c,2)}}}function io(c,x){let I=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(I*=2),I*x}function br(c,x){if(c.j.info("Error code "+x),x==2){var I=p(c.fb,c),U=c.Xa;const G=!U;U=new gt(U||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Fi(U,"https"),Gi(U),G?Yi(U.toString(),I):Mn(U.toString(),I)}else nt(2);c.G=0,c.l&&c.l.sa(x),zl(c),kl(c)}s.fb=function(c){c?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function zl(c){if(c.G=0,c.ka=[],c.l){const x=Ya(c.h);(x.length!=0||c.i.length!=0)&&(R(c.ka,x),R(c.ka,c.i),c.h.i.length=0,y(c.i),c.i.length=0),c.l.ra()}}function $l(c,x,I){var U=I instanceof gt?ln(I):new gt(I);if(U.g!="")x&&(U.g=x+"."+U.g),Xr(U,U.s);else{var G=f.location;U=G.protocol,x=x?x+"."+G.hostname:G.hostname,G=+G.port;var J=new gt(null);U&&Fi(J,U),x&&(J.g=x),G&&Xr(J,G),I&&(J.l=I),U=J}return I=c.D,x=c.ya,I&&x&&Ye(U,I,x),Ye(U,"VER",c.la),Wi(c,U),U}function Bl(c,x,I){if(x&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=c.Ca&&!c.pa?new qe(new Zr({eb:I})):new qe(c.pa),x.Ha(c.J),x}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function ql(){}s=ql.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Bs(){}Bs.prototype.g=function(c,x){return new Zt(c,x)};function Zt(c,x){lt.call(this),this.g=new Ps(x),this.l=c,this.h=x&&x.messageUrlParams||null,c=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(c?c["X-WebChannel-Content-Type"]=x.messageContentType:c={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(c?c["X-WebChannel-Client-Profile"]=x.va:c={"X-WebChannel-Client-Profile":x.va}),this.g.S=c,(c=x&&x.Sb)&&!S(c)&&(this.g.m=c),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!S(x)&&(this.g.D=x,c=this.h,c!==null&&x in c&&(c=this.h,x in c&&delete c[x])),this.j=new Kn(this)}g(Zt,lt),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){to(this.g)},Zt.prototype.o=function(c){var x=this.g;if(typeof c=="string"){var I={};I.__data__=c,c=I}else this.u&&(I={},I.__data__=Nn(c),c=I);x.i.push(new Ol(x.Ya++,c)),x.G==3&&zs(x)},Zt.prototype.N=function(){this.g.l=null,delete this.j,to(this.g),delete this.g,Zt.aa.N.call(this)};function Hl(c){fr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var x=c.__sm__;if(x){e:{for(const I in x){c=I;break e}c=void 0}(this.i=c)&&(c=this.i,x=x!==null&&c in x?x[c]:void 0),this.data=x}else this.data=c}g(Hl,fr);function Fl(){qa.call(this),this.status=1}g(Fl,qa);function Kn(c){this.g=c}g(Kn,ql),Kn.prototype.ua=function(){Fe(this.g,"a")},Kn.prototype.ta=function(c){Fe(this.g,new Hl(c))},Kn.prototype.sa=function(c){Fe(this.g,new Fl)},Kn.prototype.ra=function(){Fe(this.g,"b")},Bs.prototype.createWebChannel=Bs.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,F_=function(){return new Bs},H_=function(){return Fr()},q_=zn,vd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yr.NO_ERROR=0,Yr.TIMEOUT=8,Yr.HTTP_ERROR=6,ec=Yr,hr.COMPLETE="complete",B_=hr,Ba.EventType=cr,cr.OPEN="a",cr.CLOSE="b",cr.ERROR="c",cr.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Xo=Ba,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,$_=qe}).apply(typeof Qu<"u"?Qu:typeof self<"u"?self:typeof window<"u"?window:{});const hv="@firebase/firestore",dv="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Va="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=new M_("@firebase/firestore");function va(){return vs.logLevel}function me(s,...t){if(vs.logLevel<=ze.DEBUG){const r=t.map(Fd);vs.debug(`Firestore (${Va}): ${s}`,...r)}}function zr(s,...t){if(vs.logLevel<=ze.ERROR){const r=t.map(Fd);vs.error(`Firestore (${Va}): ${s}`,...r)}}function Aa(s,...t){if(vs.logLevel<=ze.WARN){const r=t.map(Fd);vs.warn(`Firestore (${Va}): ${s}`,...r)}}function Fd(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(s,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,G_(s,a,r)}function G_(s,t,r){let a=`FIRESTORE (${Va}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(r!==void 0)try{a+=" CONTEXT: "+JSON.stringify(r)}catch{a+=" CONTEXT: "+r}throw zr(a),new Error(a)}function He(s,t,r,a){let l="Unexpected state";typeof r=="string"?l=r:a=r,s||G_(t,l,a)}function Ce(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Na{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class oA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(Gt.UNAUTHENTICATED))}shutdown(){}}class lA{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class uA{constructor(t){this.t=t,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){He(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,r(_)):Promise.resolve();let u=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Lr,t.enqueueRetryable(()=>l(this.currentUser))};const h=()=>{const _=u;t.enqueueRetryable(async()=>{await _.promise,await l(this.currentUser)})},f=_=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(_=>f(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?f(_):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Lr)}},0),h()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(a=>this.i!==t?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(He(typeof a.accessToken=="string",31837,{l:a}),new Q_(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return He(t===null||typeof t=="string",2055,{h:t}),new Gt(t)}}class cA{constructor(t,r,a){this.P=t,this.T=r,this.I=a,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fA{constructor(t,r,a){this.P=t,this.T=r,this.I=a}getToken(){return Promise.resolve(new cA(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable(()=>r(Gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hA{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gw(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){He(this.o===void 0,3512);const a=u=>{u.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,me("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?r(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>a(u))};const l=u=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>l(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new mv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(He(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new mv(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let a=0;a<s;a++)r[a]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=dA(40);for(let u=0;u<l.length;++u)a.length<20&&l[u]<r&&(a+=t.charAt(l[u]%62))}return a}}function Ie(s,t){return s<t?-1:s>t?1:0}function _d(s,t){let r=0;for(;r<s.length&&r<t.length;){const a=s.codePointAt(r),l=t.codePointAt(r);if(a!==l){if(a<128&&l<128)return Ie(a,l);{const u=Y_(),h=mA(u.encode(pv(s,r)),u.encode(pv(t,r)));return h!==0?h:Ie(a,l)}}r+=a>65535?2:1}return Ie(s.length,t.length)}function pv(s,t){return s.codePointAt(t)>65535?s.substring(t,t+2):s.substring(t,t+1)}function mA(s,t){for(let r=0;r<s.length&&r<t.length;++r)if(s[r]!==t[r])return Ie(s[r],t[r]);return Ie(s.length,t.length)}function Sa(s,t,r){return s.length===t.length&&s.every((a,l)=>r(a,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv=-62135596800,yv=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(t){return Rt.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),a=Math.floor((t-1e3*r)*yv);return new Rt(r,a)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new ve(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ve(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<gv)throw new ve(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ve(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yv}_compareTo(t){return this.seconds===t.seconds?Ie(this.nanoseconds,t.nanoseconds):Ie(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-gv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(t){return new Re(t)}static min(){return new Re(new Rt(0,0))}static max(){return new Re(new Rt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="__name__";class nr{constructor(t,r,a){r===void 0?r=0:r>t.length&&we(637,{offset:r,range:t.length}),a===void 0?a=t.length-r:a>t.length-r&&we(1746,{length:a,range:t.length-r}),this.segments=t,this.offset=r,this.len=a}get length(){return this.len}isEqual(t){return nr.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof nr?t.forEach(a=>{r.push(a)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,a=this.limit();r<a;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const a=Math.min(t.length,r.length);for(let l=0;l<a;l++){const u=nr.compareSegments(t.get(l),r.get(l));if(u!==0)return u}return Ie(t.length,r.length)}static compareSegments(t,r){const a=nr.isNumericId(t),l=nr.isNumericId(r);return a&&!l?-1:!a&&l?1:a&&l?nr.extractNumericId(t).compare(nr.extractNumericId(r)):_d(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ti.fromString(t.substring(4,t.length-2))}}class it extends nr{construct(t,r,a){return new it(t,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const a of t){if(a.indexOf("//")>=0)throw new ve(ae.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter(l=>l.length>0))}return new it(r)}static emptyPath(){return new it([])}}const pA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends nr{construct(t,r,a){return new zt(t,r,a)}static isValidIdentifier(t){return pA.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vv}static keyField(){return new zt([vv])}static fromServerFormat(t){const r=[];let a="",l=0;const u=()=>{if(a.length===0)throw new ve(ae.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let h=!1;for(;l<t.length;){const f=t[l];if(f==="\\"){if(l+1===t.length)throw new ve(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ve(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,l+=2}else f==="`"?(h=!h,l++):f!=="."||h?(a+=f,l++):(u(),l++)}if(u(),h)throw new ve(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new zt(r)}static emptyPath(){return new zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(t){this.path=t}static fromPath(t){return new _e(it.fromString(t))}static fromName(t){return new _e(it.fromString(t).popFirst(5))}static empty(){return new _e(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&it.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return it.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _e(new it(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll=-1;function gA(s,t){const r=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=Re.fromTimestamp(a===1e9?new Rt(r+1,0):new Rt(r,a));return new Ai(l,_e.empty(),t)}function yA(s){return new Ai(s.readTime,s.key,ll)}class Ai{constructor(t,r,a){this.readTime=t,this.documentKey=r,this.largestBatchId=a}static min(){return new Ai(Re.min(),_e.empty(),ll)}static max(){return new Ai(Re.max(),_e.empty(),ll)}}function vA(s,t){let r=s.readTime.compareTo(t.readTime);return r!==0?r:(r=_e.comparator(s.documentKey,t.documentKey),r!==0?r:Ie(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ma(s){if(s.code!==ae.FAILED_PRECONDITION||s.message!==_A)throw s;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new ie((a,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(a,l)},this.catchCallback=u=>{this.wrapFailure(r,u).next(a,l)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof ie?r:ie.resolve(r)}catch(r){return ie.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):ie.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):ie.reject(r)}static resolve(t){return new ie((r,a)=>{r(t)})}static reject(t){return new ie((r,a)=>{a(t)})}static waitFor(t){return new ie((r,a)=>{let l=0,u=0,h=!1;t.forEach(f=>{++l,f.next(()=>{++u,h&&u===l&&r()},_=>a(_))}),h=!0,u===l&&r()})}static or(t){let r=ie.resolve(!1);for(const a of t)r=r.next(l=>l?ie.resolve(l):a());return r}static forEach(t,r){const a=[];return t.forEach((l,u)=>{a.push(r.call(this,l,u))}),this.waitFor(a)}static mapArray(t,r){return new ie((a,l)=>{const u=t.length,h=new Array(u);let f=0;for(let _=0;_<u;_++){const v=_;r(t[v]).next(w=>{h[v]=w,++f,f===u&&a(h)},w=>l(w))}})}static doWhile(t,r){return new ie((a,l)=>{const u=()=>{t()===!0?r().next(()=>{u()},l):a()};u()})}}function EA(s){const t=s.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function ka(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>r.writeSequenceNumber(a))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Rc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd=-1;function xc(s){return s==null}function fc(s){return s===0&&1/s==-1/0}function TA(s){return typeof s=="number"&&Number.isInteger(s)&&!fc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="";function wA(s){let t="";for(let r=0;r<s.length;r++)t.length>0&&(t=_v(t)),t=AA(s.get(r),t);return _v(t)}function AA(s,t){let r=t;const a=s.length;for(let l=0;l<a;l++){const u=s.charAt(l);switch(u){case"\0":r+="";break;case X_:r+="";break;default:r+=u}}return r}function _v(s){return s+X_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(s){let t=0;for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&t++;return t}function Ii(s,t){for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&t(r,s[r])}function Z_(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(t,r){this.comparator=t,this.root=r||Ut.EMPTY}insert(t,r){return new ot(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(t){return new ot(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const a=this.comparator(t,r.key);if(a===0)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}indexOf(t){let r=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return r+a.left.size;l<0?a=a.left:(r+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,a)=>(t(r,a),!1))}toString(){const t=[];return this.inorderTraversal((r,a)=>(t.push(`${r}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Yu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Yu(this.root,t,this.comparator,!1)}getReverseIterator(){return new Yu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Yu(this.root,t,this.comparator,!0)}}class Yu{constructor(t,r,a,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=r?a(t.key,r):1,r&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ut{constructor(t,r,a,l,u){this.key=t,this.value=r,this.color=a??Ut.RED,this.left=l??Ut.EMPTY,this.right=u??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,a,l,u){return new Ut(t??this.key,r??this.value,a??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,a){let l=this;const u=a(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,r,a),null):u===0?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(t,r,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let a,l=this;if(r(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),r(t,l.key)===0){if(l.right.isEmpty())return Ut.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw we(27949);return t+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(t,r,a,l,u){return this}insert(t,r,a){return new Ut(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(t){this.comparator=t,this.data=new ot(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,a)=>(t(r),!1))}forEachInRange(t,r){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;r(l.key)}}forEachWhile(t,r){let a;for(a=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new Ev(this.data.getIterator())}getIteratorFrom(t){return new Ev(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(a=>{r=r.add(a)}),r}isEqual(t){if(!(t instanceof xt)||this.size!==t.size)return!1;const r=this.data.getIterator(),a=t.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,u=a.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new xt(this.comparator);return r.data=t,r}}class Ev{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t){this.fields=t,t.sort(zt.comparator)}static empty(){return new yn([])}unionWith(t){let r=new xt(zt.comparator);for(const a of this.fields)r=r.add(a);for(const a of t)r=r.add(a);return new yn(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return Sa(this.fields,t.fields,(r,a)=>r.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new J_("Invalid base64 string: "+u):u}}(t);return new $t(r)}static fromUint8Array(t){const r=function(l){let u="";for(let h=0;h<l.length;++h)u+=String.fromCharCode(l[h]);return u}(t);return new $t(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const a=new Uint8Array(r.length);for(let l=0;l<r.length;l++)a[l]=r.charCodeAt(l);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ie(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const SA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Si(s){if(He(!!s,39018),typeof s=="string"){let t=0;const r=SA.exec(s);if(He(!!r,46558,{timestamp:s}),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:mt(s.seconds),nanos:mt(s.nanos)}}function mt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ri(s){return typeof s=="string"?$t.fromBase64String(s):$t.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="server_timestamp",eb="__type__",tb="__previous_value__",nb="__local_write_time__";function Qd(s){var t,r;return((r=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{})[eb])===null||r===void 0?void 0:r.stringValue)===W_}function Cc(s){const t=s.mapValue.fields[tb];return Qd(t)?Cc(t):t}function ul(s){const t=Si(s.mapValue.fields[nb].timestampValue);return new Rt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(t,r,a,l,u,h,f,_,v,w){this.databaseId=t,this.appId=r,this.persistenceKey=a,this.host=l,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=w}}const hc="(default)";class cl{constructor(t,r){this.projectId=t,this.database=r||hc}static empty(){return new cl("","")}get isDefaultDatabase(){return this.database===hc}isEqual(t){return t instanceof cl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="__type__",xA="__max__",Ku={mapValue:{}},ib="__vector__",dc="value";function xi(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Qd(s)?4:DA(s)?9007199254740991:CA(s)?10:11:we(28295,{value:s})}function ar(s,t){if(s===t)return!0;const r=xi(s);if(r!==xi(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return ul(s).isEqual(ul(t));case 3:return function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const h=Si(l.timestampValue),f=Si(u.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos}(s,t);case 5:return s.stringValue===t.stringValue;case 6:return function(l,u){return Ri(l.bytesValue).isEqual(Ri(u.bytesValue))}(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return function(l,u){return mt(l.geoPointValue.latitude)===mt(u.geoPointValue.latitude)&&mt(l.geoPointValue.longitude)===mt(u.geoPointValue.longitude)}(s,t);case 2:return function(l,u){if("integerValue"in l&&"integerValue"in u)return mt(l.integerValue)===mt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const h=mt(l.doubleValue),f=mt(u.doubleValue);return h===f?fc(h)===fc(f):isNaN(h)&&isNaN(f)}return!1}(s,t);case 9:return Sa(s.arrayValue.values||[],t.arrayValue.values||[],ar);case 10:case 11:return function(l,u){const h=l.mapValue.fields||{},f=u.mapValue.fields||{};if(bv(h)!==bv(f))return!1;for(const _ in h)if(h.hasOwnProperty(_)&&(f[_]===void 0||!ar(h[_],f[_])))return!1;return!0}(s,t);default:return we(52216,{left:s})}}function fl(s,t){return(s.values||[]).find(r=>ar(r,t))!==void 0}function Ra(s,t){if(s===t)return 0;const r=xi(s),a=xi(t);if(r!==a)return Ie(r,a);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ie(s.booleanValue,t.booleanValue);case 2:return function(u,h){const f=mt(u.integerValue||u.doubleValue),_=mt(h.integerValue||h.doubleValue);return f<_?-1:f>_?1:f===_?0:isNaN(f)?isNaN(_)?0:-1:1}(s,t);case 3:return Tv(s.timestampValue,t.timestampValue);case 4:return Tv(ul(s),ul(t));case 5:return _d(s.stringValue,t.stringValue);case 6:return function(u,h){const f=Ri(u),_=Ri(h);return f.compareTo(_)}(s.bytesValue,t.bytesValue);case 7:return function(u,h){const f=u.split("/"),_=h.split("/");for(let v=0;v<f.length&&v<_.length;v++){const w=Ie(f[v],_[v]);if(w!==0)return w}return Ie(f.length,_.length)}(s.referenceValue,t.referenceValue);case 8:return function(u,h){const f=Ie(mt(u.latitude),mt(h.latitude));return f!==0?f:Ie(mt(u.longitude),mt(h.longitude))}(s.geoPointValue,t.geoPointValue);case 9:return wv(s.arrayValue,t.arrayValue);case 10:return function(u,h){var f,_,v,w;const m=u.fields||{},p=h.fields||{},b=(f=m[dc])===null||f===void 0?void 0:f.arrayValue,g=(_=p[dc])===null||_===void 0?void 0:_.arrayValue,y=Ie(((v=b==null?void 0:b.values)===null||v===void 0?void 0:v.length)||0,((w=g==null?void 0:g.values)===null||w===void 0?void 0:w.length)||0);return y!==0?y:wv(b,g)}(s.mapValue,t.mapValue);case 11:return function(u,h){if(u===Ku.mapValue&&h===Ku.mapValue)return 0;if(u===Ku.mapValue)return 1;if(h===Ku.mapValue)return-1;const f=u.fields||{},_=Object.keys(f),v=h.fields||{},w=Object.keys(v);_.sort(),w.sort();for(let m=0;m<_.length&&m<w.length;++m){const p=_d(_[m],w[m]);if(p!==0)return p;const b=Ra(f[_[m]],v[w[m]]);if(b!==0)return b}return Ie(_.length,w.length)}(s.mapValue,t.mapValue);default:throw we(23264,{Pe:r})}}function Tv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Ie(s,t);const r=Si(s),a=Si(t),l=Ie(r.seconds,a.seconds);return l!==0?l:Ie(r.nanos,a.nanos)}function wv(s,t){const r=s.values||[],a=t.values||[];for(let l=0;l<r.length&&l<a.length;++l){const u=Ra(r[l],a[l]);if(u)return u}return Ie(r.length,a.length)}function xa(s){return bd(s)}function bd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(r){const a=Si(r);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(r){return Ri(r).toBase64()}(s.bytesValue):"referenceValue"in s?function(r){return _e.fromName(r).toString()}(s.referenceValue):"geoPointValue"in s?function(r){return`geo(${r.latitude},${r.longitude})`}(s.geoPointValue):"arrayValue"in s?function(r){let a="[",l=!0;for(const u of r.values||[])l?l=!1:a+=",",a+=bd(u);return a+"]"}(s.arrayValue):"mapValue"in s?function(r){const a=Object.keys(r.fields||{}).sort();let l="{",u=!0;for(const h of a)u?u=!1:l+=",",l+=`${h}:${bd(r.fields[h])}`;return l+"}"}(s.mapValue):we(61005,{value:s})}function tc(s){switch(xi(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Cc(s);return t?16+tc(t):16;case 5:return 2*s.stringValue.length;case 6:return Ri(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((l,u)=>l+tc(u),0)}(s.arrayValue);case 10:case 11:return function(a){let l=0;return Ii(a.fields,(u,h)=>{l+=u.length+tc(h)}),l}(s.mapValue);default:throw we(13486,{value:s})}}function Ed(s){return!!s&&"integerValue"in s}function Yd(s){return!!s&&"arrayValue"in s}function Av(s){return!!s&&"nullValue"in s}function Sv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function nc(s){return!!s&&"mapValue"in s}function CA(s){var t,r;return((r=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{})[rb])===null||r===void 0?void 0:r.stringValue)===ib}function tl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const t={mapValue:{fields:{}}};return Ii(s.mapValue.fields,(r,a)=>t.mapValue.fields[r]=tl(a)),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(s.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=tl(s.arrayValue.values[r]);return t}return Object.assign({},s)}function DA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===xA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t){this.value=t}static empty(){return new sn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let a=0;a<t.length-1;++a)if(r=(r.mapValue.fields||{})[t.get(a)],!nc(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=tl(r)}setAll(t){let r=zt.emptyPath(),a={},l=[];t.forEach((h,f)=>{if(!r.isImmediateParentOf(f)){const _=this.getFieldsMap(r);this.applyChanges(_,a,l),a={},l=[],r=f.popLast()}h?a[f.lastSegment()]=tl(h):l.push(f.lastSegment())});const u=this.getFieldsMap(r);this.applyChanges(u,a,l)}delete(t){const r=this.field(t.popLast());nc(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return ar(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=r.mapValue.fields[t.get(a)];nc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[t.get(a)]=l),r=l}return r.mapValue.fields}applyChanges(t,r,a){Ii(r,(l,u)=>t[l]=u);for(const l of a)delete t[l]}clone(){return new sn(tl(this.value))}}function sb(s){const t=[];return Ii(s.fields,(r,a)=>{const l=new zt([r]);if(nc(a)){const u=sb(a.mapValue).fields;if(u.length===0)t.push(l);else for(const h of u)t.push(l.child(h))}else t.push(l)}),new yn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(t,r,a,l,u,h,f){this.key=t,this.documentType=r,this.version=a,this.readTime=l,this.createTime=u,this.data=h,this.documentState=f}static newInvalidDocument(t){return new Qt(t,0,Re.min(),Re.min(),Re.min(),sn.empty(),0)}static newFoundDocument(t,r,a,l){return new Qt(t,1,r,Re.min(),a,l,0)}static newNoDocument(t,r){return new Qt(t,2,r,Re.min(),Re.min(),sn.empty(),0)}static newUnknownDocument(t,r){return new Qt(t,3,r,Re.min(),Re.min(),sn.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Qt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(t,r){this.position=t,this.inclusive=r}}function Rv(s,t,r){let a=0;for(let l=0;l<s.position.length;l++){const u=t[l],h=s.position[l];if(u.field.isKeyField()?a=_e.comparator(_e.fromName(h.referenceValue),r.key):a=Ra(h,r.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function xv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let r=0;r<s.position.length;r++)if(!ar(s.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(t,r="asc"){this.field=t,this.dir=r}}function OA(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{}class St extends ab{constructor(t,r,a){super(),this.field=t,this.op=r,this.value=a}static create(t,r,a){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,a):new NA(t,r,a):r==="array-contains"?new kA(t,a):r==="in"?new LA(t,a):r==="not-in"?new jA(t,a):r==="array-contains-any"?new PA(t,a):new St(t,r,a)}static createKeyFieldInFilter(t,r,a){return r==="in"?new VA(t,a):new MA(t,a)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Ra(r,this.value)):r!==null&&xi(this.value)===xi(r)&&this.matchesComparison(Ra(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class or extends ab{constructor(t,r){super(),this.filters=t,this.op=r,this.Te=null}static create(t,r){return new or(t,r)}matches(t){return ob(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function ob(s){return s.op==="and"}function lb(s){return IA(s)&&ob(s)}function IA(s){for(const t of s.filters)if(t instanceof or)return!1;return!0}function Td(s){if(s instanceof St)return s.field.canonicalString()+s.op.toString()+xa(s.value);if(lb(s))return s.filters.map(t=>Td(t)).join(",");{const t=s.filters.map(r=>Td(r)).join(",");return`${s.op}(${t})`}}function ub(s,t){return s instanceof St?function(a,l){return l instanceof St&&a.op===l.op&&a.field.isEqual(l.field)&&ar(a.value,l.value)}(s,t):s instanceof or?function(a,l){return l instanceof or&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce((u,h,f)=>u&&ub(h,l.filters[f]),!0):!1}(s,t):void we(19439)}function cb(s){return s instanceof St?function(r){return`${r.field.canonicalString()} ${r.op} ${xa(r.value)}`}(s):s instanceof or?function(r){return r.op.toString()+" {"+r.getFilters().map(cb).join(" ,")+"}"}(s):"Filter"}class NA extends St{constructor(t,r,a){super(t,r,a),this.key=_e.fromName(a.referenceValue)}matches(t){const r=_e.comparator(t.key,this.key);return this.matchesComparison(r)}}class VA extends St{constructor(t,r){super(t,"in",r),this.keys=fb("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class MA extends St{constructor(t,r){super(t,"not-in",r),this.keys=fb("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function fb(s,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(a=>_e.fromName(a.referenceValue))}class kA extends St{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return Yd(r)&&fl(r.arrayValue,this.value)}}class LA extends St{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&fl(this.value.arrayValue,r)}}class jA extends St{constructor(t,r){super(t,"not-in",r)}matches(t){if(fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!fl(this.value.arrayValue,r)}}class PA extends St{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!Yd(r)||!r.arrayValue.values)&&r.arrayValue.values.some(a=>fl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(t,r=null,a=[],l=[],u=null,h=null,f=null){this.path=t,this.collectionGroup=r,this.orderBy=a,this.filters=l,this.limit=u,this.startAt=h,this.endAt=f,this.Ie=null}}function Cv(s,t=null,r=[],a=[],l=null,u=null,h=null){return new UA(s,t,r,a,l,u,h)}function Kd(s){const t=Ce(s);if(t.Ie===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(a=>Td(a)).join(","),r+="|ob:",r+=t.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),xc(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>xa(a)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>xa(a)).join(",")),t.Ie=r}return t.Ie}function Xd(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<s.orderBy.length;r++)if(!OA(s.orderBy[r],t.orderBy[r]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let r=0;r<s.filters.length;r++)if(!ub(s.filters[r],t.filters[r]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!xv(s.startAt,t.startAt)&&xv(s.endAt,t.endAt)}function wd(s){return _e.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(t,r=null,a=[],l=[],u=null,h="F",f=null,_=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=l,this.limit=u,this.limitType=h,this.startAt=f,this.endAt=_,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function zA(s,t,r,a,l,u,h,f){return new Dc(s,t,r,a,l,u,h,f)}function Oc(s){return new Dc(s)}function Dv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function $A(s){return s.collectionGroup!==null}function nl(s){const t=Ce(s);if(t.Ee===null){t.Ee=[];const r=new Set;for(const u of t.explicitOrderBy)t.Ee.push(u),r.add(u.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new xt(zt.comparator);return h.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(f=f.add(v.field))})}),f})(t).forEach(u=>{r.has(u.canonicalString())||u.isKeyField()||t.Ee.push(new pc(u,a))}),r.has(zt.keyField().canonicalString())||t.Ee.push(new pc(zt.keyField(),a))}return t.Ee}function rr(s){const t=Ce(s);return t.de||(t.de=BA(t,nl(s))),t.de}function BA(s,t){if(s.limitType==="F")return Cv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map(l=>{const u=l.dir==="desc"?"asc":"desc";return new pc(l.field,u)});const r=s.endAt?new mc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new mc(s.startAt.position,s.startAt.inclusive):null;return Cv(s.path,s.collectionGroup,t,s.filters,s.limit,r,a)}}function Ad(s,t,r){return new Dc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,r,s.startAt,s.endAt)}function Ic(s,t){return Xd(rr(s),rr(t))&&s.limitType===t.limitType}function hb(s){return`${Kd(rr(s))}|lt:${s.limitType}`}function _a(s){return`Query(target=${function(r){let a=r.path.canonicalString();return r.collectionGroup!==null&&(a+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(a+=`, filters: [${r.filters.map(l=>cb(l)).join(", ")}]`),xc(r.limit)||(a+=", limit: "+r.limit),r.orderBy.length>0&&(a+=`, orderBy: [${r.orderBy.map(l=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(l)).join(", ")}]`),r.startAt&&(a+=", startAt: ",a+=r.startAt.inclusive?"b:":"a:",a+=r.startAt.position.map(l=>xa(l)).join(",")),r.endAt&&(a+=", endAt: ",a+=r.endAt.inclusive?"a:":"b:",a+=r.endAt.position.map(l=>xa(l)).join(",")),`Target(${a})`}(rr(s))}; limitType=${s.limitType})`}function Nc(s,t){return t.isFoundDocument()&&function(a,l){const u=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):_e.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(s,t)&&function(a,l){for(const u of nl(a))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0}(s,t)&&function(a,l){for(const u of a.filters)if(!u.matches(l))return!1;return!0}(s,t)&&function(a,l){return!(a.startAt&&!function(h,f,_){const v=Rv(h,f,_);return h.inclusive?v<=0:v<0}(a.startAt,nl(a),l)||a.endAt&&!function(h,f,_){const v=Rv(h,f,_);return h.inclusive?v>=0:v>0}(a.endAt,nl(a),l))}(s,t)}function qA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function db(s){return(t,r)=>{let a=!1;for(const l of nl(s)){const u=HA(l,t,r);if(u!==0)return u;a=a||l.field.isKeyField()}return 0}}function HA(s,t,r){const a=s.field.isKeyField()?_e.comparator(t.key,r.key):function(u,h,f){const _=h.data.field(u),v=f.data.field(u);return _!==null&&v!==null?Ra(_,v):we(42886)}(s.field,t,r);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return we(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),a=this.inner[r];if(a!==void 0){for(const[l,u]of a)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,r){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,r]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,r]);l.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),a=this.inner[r];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[r]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Ii(this.inner,(r,a)=>{for(const[l,u]of a)t(l,u)})}isEmpty(){return Z_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=new ot(_e.comparator);function $r(){return FA}const mb=new ot(_e.comparator);function Zo(...s){let t=mb;for(const r of s)t=t.insert(r.key,r);return t}function pb(s){let t=mb;return s.forEach((r,a)=>t=t.insert(r,a.overlayedDocument)),t}function ys(){return rl()}function gb(){return rl()}function rl(){return new ws(s=>s.toString(),(s,t)=>s.isEqual(t))}const GA=new ot(_e.comparator),QA=new xt(_e.comparator);function ke(...s){let t=QA;for(const r of s)t=t.add(r);return t}const YA=new xt(Ie);function KA(){return YA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fc(t)?"-0":t}}function yb(s){return{integerValue:""+s}}function XA(s,t){return TA(t)?yb(t):Zd(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(){this._=void 0}}function ZA(s,t,r){return s instanceof gc?function(l,u){const h={fields:{[eb]:{stringValue:W_},[nb]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Qd(u)&&(u=Cc(u)),u&&(h.fields[tb]=u),{mapValue:h}}(r,t):s instanceof hl?_b(s,t):s instanceof dl?bb(s,t):function(l,u){const h=vb(l,u),f=Ov(h)+Ov(l.Re);return Ed(h)&&Ed(l.Re)?yb(f):Zd(l.serializer,f)}(s,t)}function JA(s,t,r){return s instanceof hl?_b(s,t):s instanceof dl?bb(s,t):r}function vb(s,t){return s instanceof yc?function(a){return Ed(a)||function(u){return!!u&&"doubleValue"in u}(a)}(t)?t:{integerValue:0}:null}class gc extends Vc{}class hl extends Vc{constructor(t){super(),this.elements=t}}function _b(s,t){const r=Eb(t);for(const a of s.elements)r.some(l=>ar(l,a))||r.push(a);return{arrayValue:{values:r}}}class dl extends Vc{constructor(t){super(),this.elements=t}}function bb(s,t){let r=Eb(t);for(const a of s.elements)r=r.filter(l=>!ar(l,a));return{arrayValue:{values:r}}}class yc extends Vc{constructor(t,r){super(),this.serializer=t,this.Re=r}}function Ov(s){return mt(s.integerValue||s.doubleValue)}function Eb(s){return Yd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function WA(s,t){return s.field.isEqual(t.field)&&function(a,l){return a instanceof hl&&l instanceof hl||a instanceof dl&&l instanceof dl?Sa(a.elements,l.elements,ar):a instanceof yc&&l instanceof yc?ar(a.Re,l.Re):a instanceof gc&&l instanceof gc}(s.transform,t.transform)}class eS{constructor(t,r){this.version=t,this.transformResults=r}}class In{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new In}static exists(t){return new In(void 0,t)}static updateTime(t){return new In(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function rc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Mc{}function Tb(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Jd(s.key,In.none()):new yl(s.key,s.data,In.none());{const r=s.data,a=sn.empty();let l=new xt(zt.comparator);for(let u of t.fields)if(!l.has(u)){let h=r.field(u);h===null&&u.length>1&&(u=u.popLast(),h=r.field(u)),h===null?a.delete(u):a.set(u,h),l=l.add(u)}return new Ni(s.key,a,new yn(l.toArray()),In.none())}}function tS(s,t,r){s instanceof yl?function(l,u,h){const f=l.value.clone(),_=Nv(l.fieldTransforms,u,h.transformResults);f.setAll(_),u.convertToFoundDocument(h.version,f).setHasCommittedMutations()}(s,t,r):s instanceof Ni?function(l,u,h){if(!rc(l.precondition,u))return void u.convertToUnknownDocument(h.version);const f=Nv(l.fieldTransforms,u,h.transformResults),_=u.data;_.setAll(wb(l)),_.setAll(f),u.convertToFoundDocument(h.version,_).setHasCommittedMutations()}(s,t,r):function(l,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,t,r)}function il(s,t,r,a){return s instanceof yl?function(u,h,f,_){if(!rc(u.precondition,h))return f;const v=u.value.clone(),w=Vv(u.fieldTransforms,_,h);return v.setAll(w),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null}(s,t,r,a):s instanceof Ni?function(u,h,f,_){if(!rc(u.precondition,h))return f;const v=Vv(u.fieldTransforms,_,h),w=h.data;return w.setAll(wb(u)),w.setAll(v),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),f===null?null:f.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(m=>m.field))}(s,t,r,a):function(u,h,f){return rc(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f}(s,t,r)}function nS(s,t){let r=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),u=vb(a.transform,l||null);u!=null&&(r===null&&(r=sn.empty()),r.set(a.field,u))}return r||null}function Iv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Sa(a,l,(u,h)=>WA(u,h))}(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class yl extends Mc{constructor(t,r,a,l=[]){super(),this.key=t,this.value=r,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ni extends Mc{constructor(t,r,a,l,u=[]){super(),this.key=t,this.data=r,this.fieldMask=a,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function wb(s){const t=new Map;return s.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const a=s.data.field(r);t.set(r,a)}}),t}function Nv(s,t,r){const a=new Map;He(s.length===r.length,32656,{Ve:r.length,me:s.length});for(let l=0;l<r.length;l++){const u=s[l],h=u.transform,f=t.data.field(u.field);a.set(u.field,JA(h,f,r[l]))}return a}function Vv(s,t,r){const a=new Map;for(const l of s){const u=l.transform,h=r.data.field(l.field);a.set(l.field,ZA(u,h,t))}return a}class Jd extends Mc{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rS extends Mc{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(t,r,a,l){this.batchId=t,this.localWriteTime=r,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,r){const a=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&tS(u,t,a[l])}}applyToLocalView(t,r){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(r=il(a,t,r,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(r=il(a,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const a=gb();return this.mutations.forEach(l=>{const u=t.get(l.key),h=u.overlayedDocument;let f=this.applyToLocalView(h,u.mutatedFields);f=r.has(l.key)?null:f;const _=Tb(h,f);_!==null&&a.set(l.key,_),h.isValidDocument()||h.convertToNoDocument(Re.min())}),a}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),ke())}isEqual(t){return this.batchId===t.batchId&&Sa(this.mutations,t.mutations,(r,a)=>Iv(r,a))&&Sa(this.baseMutations,t.baseMutations,(r,a)=>Iv(r,a))}}class Wd{constructor(t,r,a,l){this.batch=t,this.commitVersion=r,this.mutationResults=a,this.docVersions=l}static from(t,r,a){He(t.mutations.length===a.length,58842,{fe:t.mutations.length,ge:a.length});let l=function(){return GA}();const u=t.mutations;for(let h=0;h<u.length;h++)l=l.insert(u[h].key,a[h].version);return new Wd(t,r,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,Ue;function oS(s){switch(s){case ae.OK:return we(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return we(15467,{code:s})}}function Ab(s){if(s===void 0)return zr("GRPC error has no .code"),ae.UNKNOWN;switch(s){case _t.OK:return ae.OK;case _t.CANCELLED:return ae.CANCELLED;case _t.UNKNOWN:return ae.UNKNOWN;case _t.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case _t.INTERNAL:return ae.INTERNAL;case _t.UNAVAILABLE:return ae.UNAVAILABLE;case _t.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case _t.NOT_FOUND:return ae.NOT_FOUND;case _t.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case _t.ABORTED:return ae.ABORTED;case _t.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case _t.DATA_LOSS:return ae.DATA_LOSS;default:return we(39323,{code:s})}}(Ue=_t||(_t={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS=new Ti([4294967295,4294967295],0);function Mv(s){const t=Y_().encode(s),r=new z_;return r.update(t),new Uint8Array(r.digest())}function kv(s){const t=new DataView(s.buffer),r=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Ti([r,a],0),new Ti([l,u],0)]}class em{constructor(t,r,a){if(this.bitmap=t,this.padding=r,this.hashCount=a,r<0||r>=8)throw new Jo(`Invalid padding: ${r}`);if(a<0)throw new Jo(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Jo(`Invalid hash count: ${a}`);if(t.length===0&&r!==0)throw new Jo(`Invalid padding when bitmap length is 0: ${r}`);this.pe=8*t.length-r,this.ye=Ti.fromNumber(this.pe)}we(t,r,a){let l=t.add(r.multiply(Ti.fromNumber(a)));return l.compare(lS)===1&&(l=new Ti([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ye).toNumber()}Se(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const r=Mv(t),[a,l]=kv(r);for(let u=0;u<this.hashCount;u++){const h=this.we(a,l,u);if(!this.Se(h))return!1}return!0}static create(t,r,a){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new em(u,l,r);return a.forEach(f=>h.insert(f)),h}insert(t){if(this.pe===0)return;const r=Mv(t),[a,l]=kv(r);for(let u=0;u<this.hashCount;u++){const h=this.we(a,l,u);this.be(h)}}be(t){const r=Math.floor(t/8),a=t%8;this.bitmap[r]|=1<<a}}class Jo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(t,r,a,l,u){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,r,a){const l=new Map;return l.set(t,vl.createSynthesizedTargetChangeForCurrentChange(t,r,a)),new kc(Re.min(),l,new ot(Ie),$r(),ke())}}class vl{constructor(t,r,a,l,u){this.resumeToken=t,this.current=r,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,r,a){return new vl(a,r,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(t,r,a,l){this.De=t,this.removedTargetIds=r,this.key=a,this.ve=l}}class Sb{constructor(t,r){this.targetId=t,this.Ce=r}}class Rb{constructor(t,r,a=$t.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=r,this.resumeToken=a,this.cause=l}}class Lv{constructor(){this.Fe=0,this.Me=jv(),this.xe=$t.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=ke(),r=ke(),a=ke();return this.Me.forEach((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:r=r.add(l);break;case 1:a=a.add(l);break;default:we(38017,{changeType:u})}}),new vl(this.xe,this.Oe,t,r,a)}Qe(){this.Ne=!1,this.Me=jv()}$e(t,r){this.Ne=!0,this.Me=this.Me.insert(t,r)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,He(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class uS{constructor(t){this.ze=t,this.je=new Map,this.He=$r(),this.Je=Xu(),this.Ye=Xu(),this.Ze=new ot(Ie)}Xe(t){for(const r of t.De)t.ve&&t.ve.isFoundDocument()?this.et(r,t.ve):this.tt(r,t.key,t.ve);for(const r of t.removedTargetIds)this.tt(r,t.key,t.ve)}nt(t){this.forEachTarget(t,r=>{const a=this.rt(r);switch(t.state){case 0:this.it(r)&&a.ke(t.resumeToken);break;case 1:a.We(),a.Be||a.Qe(),a.ke(t.resumeToken);break;case 2:a.We(),a.Be||this.removeTarget(r);break;case 3:this.it(r)&&(a.Ge(),a.ke(t.resumeToken));break;case 4:this.it(r)&&(this.st(r),a.ke(t.resumeToken));break;default:we(56790,{state:t.state})}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.je.forEach((a,l)=>{this.it(l)&&r(l)})}ot(t){const r=t.targetId,a=t.Ce.count,l=this._t(r);if(l){const u=l.target;if(wd(u))if(a===0){const h=new _e(u.path);this.tt(r,h,Qt.newNoDocument(h,Re.min()))}else He(a===1,20013,{expectedCount:a});else{const h=this.ut(r);if(h!==a){const f=this.ct(t),_=f?this.lt(f,t,h):1;if(_!==0){this.st(r);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,v)}}}}}ct(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:u=0}=r;let h,f;try{h=Ri(a).toUint8Array()}catch(_){if(_ instanceof J_)return Aa("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{f=new em(h,l,u)}catch(_){return Aa(_ instanceof Jo?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return f.pe===0?null:f}lt(t,r,a){return r.Ce.count===a-this.Tt(t,r.targetId)?0:2}Tt(t,r){const a=this.ze.getRemoteKeysForTarget(r);let l=0;return a.forEach(u=>{const h=this.ze.Pt(),f=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(f)||(this.tt(r,u,null),l++)}),l}It(t){const r=new Map;this.je.forEach((u,h)=>{const f=this._t(h);if(f){if(u.current&&wd(f.target)){const _=new _e(f.target.path);this.Et(_).has(h)||this.dt(h,_)||this.tt(h,_,Qt.newNoDocument(_,t))}u.Le&&(r.set(h,u.qe()),u.Qe())}});let a=ke();this.Ye.forEach((u,h)=>{let f=!0;h.forEachWhile(_=>{const v=this._t(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(a=a.add(u))}),this.He.forEach((u,h)=>h.setReadTime(t));const l=new kc(t,r,this.Ze,this.He,a);return this.He=$r(),this.Je=Xu(),this.Ye=Xu(),this.Ze=new ot(Ie),l}et(t,r){if(!this.it(t))return;const a=this.dt(t,r.key)?2:0;this.rt(t).$e(r.key,a),this.He=this.He.insert(r.key,r),this.Je=this.Je.insert(r.key,this.Et(r.key).add(t)),this.Ye=this.Ye.insert(r.key,this.At(r.key).add(t))}tt(t,r,a){if(!this.it(t))return;const l=this.rt(t);this.dt(t,r)?l.$e(r,1):l.Ue(r),this.Ye=this.Ye.insert(r,this.At(r).delete(t)),this.Ye=this.Ye.insert(r,this.At(r).add(t)),a&&(this.He=this.He.insert(r,a))}removeTarget(t){this.je.delete(t)}ut(t){const r=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let r=this.je.get(t);return r||(r=new Lv,this.je.set(t,r)),r}At(t){let r=this.Ye.get(t);return r||(r=new xt(Ie),this.Ye=this.Ye.insert(t,r)),r}Et(t){let r=this.Je.get(t);return r||(r=new xt(Ie),this.Je=this.Je.insert(t,r)),r}it(t){const r=this._t(t)!==null;return r||me("WatchChangeAggregator","Detected inactive target",t),r}_t(t){const r=this.je.get(t);return r&&r.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new Lv),this.ze.getRemoteKeysForTarget(t).forEach(r=>{this.tt(t,r,null)})}dt(t,r){return this.ze.getRemoteKeysForTarget(t).has(r)}}function Xu(){return new ot(_e.comparator)}function jv(){return new ot(_e.comparator)}const cS={asc:"ASCENDING",desc:"DESCENDING"},fS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hS={and:"AND",or:"OR"};class dS{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function Sd(s,t){return s.useProto3Json||xc(t)?t:{value:t}}function vc(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function xb(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function mS(s,t){return vc(s,t.toTimestamp())}function ir(s){return He(!!s,49232),Re.fromTimestamp(function(r){const a=Si(r);return new Rt(a.seconds,a.nanos)}(s))}function tm(s,t){return Rd(s,t).canonicalString()}function Rd(s,t){const r=function(l){return new it(["projects",l.projectId,"databases",l.database])}(s).child("documents");return t===void 0?r:r.child(t)}function Cb(s){const t=it.fromString(s);return He(Vb(t),10190,{key:t.toString()}),t}function xd(s,t){return tm(s.databaseId,t.path)}function sd(s,t){const r=Cb(t);if(r.get(1)!==s.databaseId.projectId)throw new ve(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+s.databaseId.projectId);if(r.get(3)!==s.databaseId.database)throw new ve(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+s.databaseId.database);return new _e(Ob(r))}function Db(s,t){return tm(s.databaseId,t)}function pS(s){const t=Cb(s);return t.length===4?it.emptyPath():Ob(t)}function Cd(s){return new it(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Ob(s){return He(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Pv(s,t,r){return{name:xd(s,t),fields:r.value.mapValue.fields}}function gS(s,t){let r;if("targetChange"in t){t.targetChange;const a=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:we(39313,{state:v})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=function(v,w){return v.useProto3Json?(He(w===void 0||typeof w=="string",58123),$t.fromBase64String(w||"")):(He(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),$t.fromUint8Array(w||new Uint8Array))}(s,t.targetChange.resumeToken),h=t.targetChange.cause,f=h&&function(v){const w=v.code===void 0?ae.UNKNOWN:Ab(v.code);return new ve(w,v.message||"")}(h);r=new Rb(a,l,u,f||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=sd(s,a.document.name),u=ir(a.document.updateTime),h=a.document.createTime?ir(a.document.createTime):Re.min(),f=new sn({mapValue:{fields:a.document.fields}}),_=Qt.newFoundDocument(l,u,h,f),v=a.targetIds||[],w=a.removedTargetIds||[];r=new ic(v,w,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=sd(s,a.document),u=a.readTime?ir(a.readTime):Re.min(),h=Qt.newNoDocument(l,u),f=a.removedTargetIds||[];r=new ic([],f,h.key,h)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=sd(s,a.document),u=a.removedTargetIds||[];r=new ic([],u,l,null)}else{if(!("filter"in t))return we(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:u}=a,h=new aS(l,u),f=a.targetId;r=new Sb(f,h)}}return r}function yS(s,t){let r;if(t instanceof yl)r={update:Pv(s,t.key,t.value)};else if(t instanceof Jd)r={delete:xd(s,t.key)};else if(t instanceof Ni)r={update:Pv(s,t.key,t.data),updateMask:RS(t.fieldMask)};else{if(!(t instanceof rS))return we(16599,{ft:t.type});r={verify:xd(s,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(a=>function(u,h){const f=h.transform;if(f instanceof gc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof hl)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof dl)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof yc)return{fieldPath:h.field.canonicalString(),increment:f.Re};throw we(20930,{transform:h.transform})}(0,a))),t.precondition.isNone||(r.currentDocument=function(l,u){return u.updateTime!==void 0?{updateTime:mS(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:we(27497)}(s,t.precondition)),r}function vS(s,t){return s&&s.length>0?(He(t!==void 0,14353),s.map(r=>function(l,u){let h=l.updateTime?ir(l.updateTime):ir(u);return h.isEqual(Re.min())&&(h=ir(u)),new eS(h,l.transformResults||[])}(r,t))):[]}function _S(s,t){return{documents:[Db(s,t.path)]}}function bS(s,t){const r={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),r.structuredQuery.from=[{collectionId:a.lastSegment()}]),r.parent=Db(s,l);const u=function(v){if(v.length!==0)return Nb(or.create(v,"and"))}(t.filters);u&&(r.structuredQuery.where=u);const h=function(v){if(v.length!==0)return v.map(w=>function(p){return{field:ba(p.field),direction:wS(p.dir)}}(w))}(t.orderBy);h&&(r.structuredQuery.orderBy=h);const f=Sd(s,t.limit);return f!==null&&(r.structuredQuery.limit=f),t.startAt&&(r.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(t.endAt)),{gt:r,parent:l}}function ES(s){let t=pS(s.parent);const r=s.structuredQuery,a=r.from?r.from.length:0;let l=null;if(a>0){He(a===1,65062);const w=r.from[0];w.allDescendants?l=w.collectionId:t=t.child(w.collectionId)}let u=[];r.where&&(u=function(m){const p=Ib(m);return p instanceof or&&lb(p)?p.getFilters():[p]}(r.where));let h=[];r.orderBy&&(h=function(m){return m.map(p=>function(g){return new pc(Ea(g.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(p))}(r.orderBy));let f=null;r.limit&&(f=function(m){let p;return p=typeof m=="object"?m.value:m,xc(p)?null:p}(r.limit));let _=null;r.startAt&&(_=function(m){const p=!!m.before,b=m.values||[];return new mc(b,p)}(r.startAt));let v=null;return r.endAt&&(v=function(m){const p=!m.before,b=m.values||[];return new mc(b,p)}(r.endAt)),zA(t,l,h,u,f,"F",_,v)}function TS(s,t){const r=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:l})}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function Ib(s){return s.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const a=Ea(r.unaryFilter.field);return St.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ea(r.unaryFilter.field);return St.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ea(r.unaryFilter.field);return St.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Ea(r.unaryFilter.field);return St.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}}(s):s.fieldFilter!==void 0?function(r){return St.create(Ea(r.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(r){return or.create(r.compositeFilter.filters.map(a=>Ib(a)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return we(1026)}}(r.compositeFilter.op))}(s):we(30097,{filter:s})}function wS(s){return cS[s]}function AS(s){return fS[s]}function SS(s){return hS[s]}function ba(s){return{fieldPath:s.canonicalString()}}function Ea(s){return zt.fromServerFormat(s.fieldPath)}function Nb(s){return s instanceof St?function(r){if(r.op==="=="){if(Sv(r.value))return{unaryFilter:{field:ba(r.field),op:"IS_NAN"}};if(Av(r.value))return{unaryFilter:{field:ba(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(Sv(r.value))return{unaryFilter:{field:ba(r.field),op:"IS_NOT_NAN"}};if(Av(r.value))return{unaryFilter:{field:ba(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ba(r.field),op:AS(r.op),value:r.value}}}(s):s instanceof or?function(r){const a=r.getFilters().map(l=>Nb(l));return a.length===1?a[0]:{compositeFilter:{op:SS(r.op),filters:a}}}(s):we(54877,{filter:s})}function RS(s){const t=[];return s.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function Vb(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(t,r,a,l,u=Re.min(),h=Re.min(),f=$t.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=r,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=_}withSequenceNumber(t){return new _i(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(t){this.wt=t}}function CS(s){const t=ES({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Ad(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(){this.Cn=new OS}addToCollectionParentIndex(t,r){return this.Cn.add(r),ie.resolve()}getCollectionParents(t,r){return ie.resolve(this.Cn.getEntries(r))}addFieldIndex(t,r){return ie.resolve()}deleteFieldIndex(t,r){return ie.resolve()}deleteAllFieldIndexes(t){return ie.resolve()}createTargetIndexes(t,r){return ie.resolve()}getDocumentsMatchingTarget(t,r){return ie.resolve(null)}getIndexType(t,r){return ie.resolve(0)}getFieldIndexes(t,r){return ie.resolve([])}getNextCollectionGroupToUpdate(t){return ie.resolve(null)}getMinOffset(t,r){return ie.resolve(Ai.min())}getMinOffsetFromCollectionGroup(t,r){return ie.resolve(Ai.min())}updateCollectionGroup(t,r,a){return ie.resolve()}updateIndexEntries(t,r){return ie.resolve()}}class OS{constructor(){this.index={}}add(t){const r=t.lastSegment(),a=t.popLast(),l=this.index[r]||new xt(it.comparator),u=!l.has(a);return this.index[r]=l.add(a),u}has(t){const r=t.lastSegment(),a=t.popLast(),l=this.index[r];return l&&l.has(a)}getEntries(t){return(this.index[t]||new xt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Mb=41943040;class rn{static withCacheSize(t){return new rn(t,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(Mb,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Ca(0)}static lr(){return new Ca(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="LruGarbageCollector",IS=1048576;function $v([s,t],[r,a]){const l=Ie(s,r);return l===0?Ie(t,a):l}class NS{constructor(t){this.Er=t,this.buffer=new xt($v),this.dr=0}Ar(){return++this.dr}Rr(t){const r=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(r);else{const a=this.buffer.last();$v(r,a)<0&&(this.buffer=this.buffer.delete(a).add(r))}}get maxValue(){return this.buffer.last()[0]}}class VS{constructor(t,r,a){this.garbageCollector=t,this.asyncQueue=r,this.localStore=a,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){me(zv,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){ka(r)?me(zv,"Ignoring IndexedDB error during garbage collection: ",r):await Ma(r)}await this.mr(3e5)})}}class MS{constructor(t,r){this.gr=t,this.params=r}calculateTargetCount(t,r){return this.gr.pr(t).next(a=>Math.floor(r/100*a))}nthSequenceNumber(t,r){if(r===0)return ie.resolve(Rc.le);const a=new NS(r);return this.gr.forEachTarget(t,l=>a.Rr(l.sequenceNumber)).next(()=>this.gr.yr(t,l=>a.Rr(l))).next(()=>a.maxValue)}removeTargets(t,r,a){return this.gr.removeTargets(t,r,a)}removeOrphanedDocuments(t,r){return this.gr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(Uv)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Uv):this.wr(t,r))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,r){let a,l,u,h,f,_,v;const w=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),l=this.params.maximumSequenceNumbersToCollect):l=m,h=Date.now(),this.nthSequenceNumber(t,l))).next(m=>(a=m,f=Date.now(),this.removeTargets(t,a,r))).next(m=>(u=m,_=Date.now(),this.removeOrphanedDocuments(t,a))).next(m=>(v=Date.now(),va()<=ze.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${l} in `+(f-h)+`ms
	Removed ${u} targets in `+(_-f)+`ms
	Removed ${m} documents in `+(v-_)+`ms
Total Duration: ${v-w}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:m})))}}function kS(s,t){return new MS(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(){this.changes=new ws(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,Qt.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const a=this.changes.get(r);return a!==void 0?ie.resolve(a):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(t,r,a,l){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,r){let a=null;return this.documentOverlayCache.getOverlay(t,r).next(l=>(a=l,this.remoteDocumentCache.getEntry(t,r))).next(l=>(a!==null&&il(a.mutation,l,yn.empty(),Rt.now()),l))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(a=>this.getLocalViewOfDocuments(t,a,ke()).next(()=>a))}getLocalViewOfDocuments(t,r,a=ke()){const l=ys();return this.populateOverlays(t,l,r).next(()=>this.computeViews(t,r,l,a).next(u=>{let h=Zo();return u.forEach((f,_)=>{h=h.insert(f,_.overlayedDocument)}),h}))}getOverlayedDocuments(t,r){const a=ys();return this.populateOverlays(t,a,r).next(()=>this.computeViews(t,r,a,ke()))}populateOverlays(t,r,a){const l=[];return a.forEach(u=>{r.has(u)||l.push(u)}),this.documentOverlayCache.getOverlays(t,l).next(u=>{u.forEach((h,f)=>{r.set(h,f)})})}computeViews(t,r,a,l){let u=$r();const h=rl(),f=function(){return rl()}();return r.forEach((_,v)=>{const w=a.get(v.key);l.has(v.key)&&(w===void 0||w.mutation instanceof Ni)?u=u.insert(v.key,v):w!==void 0?(h.set(v.key,w.mutation.getFieldMask()),il(w.mutation,v,w.mutation.getFieldMask(),Rt.now())):h.set(v.key,yn.empty())}),this.recalculateAndSaveOverlays(t,u).next(_=>(_.forEach((v,w)=>h.set(v,w)),r.forEach((v,w)=>{var m;return f.set(v,new jS(w,(m=h.get(v))!==null&&m!==void 0?m:null))}),f))}recalculateAndSaveOverlays(t,r){const a=rl();let l=new ot((h,f)=>h-f),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(h=>{for(const f of h)f.keys().forEach(_=>{const v=r.get(_);if(v===null)return;let w=a.get(_)||yn.empty();w=f.applyToLocalView(v,w),a.set(_,w);const m=(l.get(f.batchId)||ke()).add(_);l=l.insert(f.batchId,m)})}).next(()=>{const h=[],f=l.getReverseIterator();for(;f.hasNext();){const _=f.getNext(),v=_.key,w=_.value,m=gb();w.forEach(p=>{if(!u.has(p)){const b=Tb(r.get(p),a.get(p));b!==null&&m.set(p,b),u=u.add(p)}}),h.push(this.documentOverlayCache.saveOverlays(t,v,m))}return ie.waitFor(h)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,r,a,l){return function(h){return _e.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):$A(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,a,l):this.getDocumentsMatchingCollectionQuery(t,r,a,l)}getNextDocuments(t,r,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,a,l).next(u=>{const h=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,a.largestBatchId,l-u.size):ie.resolve(ys());let f=ll,_=u;return h.next(v=>ie.forEach(v,(w,m)=>(f<m.largestBatchId&&(f=m.largestBatchId),u.get(w)?ie.resolve():this.remoteDocumentCache.getEntry(t,w).next(p=>{_=_.insert(w,p)}))).next(()=>this.populateOverlays(t,v,u)).next(()=>this.computeViews(t,_,v,ke())).next(w=>({batchId:f,changes:pb(w)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new _e(r)).next(a=>{let l=Zo();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l})}getDocumentsMatchingCollectionGroupQuery(t,r,a,l){const u=r.collectionGroup;let h=Zo();return this.indexManager.getCollectionParents(t,u).next(f=>ie.forEach(f,_=>{const v=function(m,p){return new Dc(p,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(r,_.child(u));return this.getDocumentsMatchingCollectionQuery(t,v,a,l).next(w=>{w.forEach((m,p)=>{h=h.insert(m,p)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(t,r,a,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,a.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,a,u,l))).next(h=>{u.forEach((_,v)=>{const w=v.getKey();h.get(w)===null&&(h=h.insert(w,Qt.newInvalidDocument(w)))});let f=Zo();return h.forEach((_,v)=>{const w=u.get(_);w!==void 0&&il(w.mutation,v,yn.empty(),Rt.now()),Nc(r,v)&&(f=f.insert(_,v))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,r){return ie.resolve(this.kr.get(r))}saveBundleMetadata(t,r){return this.kr.set(r.id,function(l){return{id:l.id,version:l.version,createTime:ir(l.createTime)}}(r)),ie.resolve()}getNamedQuery(t,r){return ie.resolve(this.qr.get(r))}saveNamedQuery(t,r){return this.qr.set(r.name,function(l){return{name:l.name,query:CS(l.bundledQuery),readTime:ir(l.readTime)}}(r)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(){this.overlays=new ot(_e.comparator),this.Qr=new Map}getOverlay(t,r){return ie.resolve(this.overlays.get(r))}getOverlays(t,r){const a=ys();return ie.forEach(r,l=>this.getOverlay(t,l).next(u=>{u!==null&&a.set(l,u)})).next(()=>a)}saveOverlays(t,r,a){return a.forEach((l,u)=>{this.bt(t,r,u)}),ie.resolve()}removeOverlaysForBatchId(t,r,a){const l=this.Qr.get(a);return l!==void 0&&(l.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(a)),ie.resolve()}getOverlaysForCollection(t,r,a){const l=ys(),u=r.length+1,h=new _e(r.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const _=f.getNext().value,v=_.getKey();if(!r.isPrefixOf(v.path))break;v.path.length===u&&_.largestBatchId>a&&l.set(_.getKey(),_)}return ie.resolve(l)}getOverlaysForCollectionGroup(t,r,a,l){let u=new ot((v,w)=>v-w);const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===r&&v.largestBatchId>a){let w=u.get(v.largestBatchId);w===null&&(w=ys(),u=u.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const f=ys(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,w)=>f.set(v,w)),!(f.size()>=l)););return ie.resolve(f)}bt(t,r,a){const l=this.overlays.get(a.key);if(l!==null){const h=this.Qr.get(l.largestBatchId).delete(a.key);this.Qr.set(l.largestBatchId,h)}this.overlays=this.overlays.insert(a.key,new sS(r,a));let u=this.Qr.get(r);u===void 0&&(u=ke(),this.Qr.set(r,u)),this.Qr.set(r,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(t){return ie.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(){this.$r=new xt(Vt.Ur),this.Kr=new xt(Vt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,r){const a=new Vt(t,r);this.$r=this.$r.add(a),this.Kr=this.Kr.add(a)}Gr(t,r){t.forEach(a=>this.addReference(a,r))}removeReference(t,r){this.zr(new Vt(t,r))}jr(t,r){t.forEach(a=>this.removeReference(a,r))}Hr(t){const r=new _e(new it([])),a=new Vt(r,t),l=new Vt(r,t+1),u=[];return this.Kr.forEachInRange([a,l],h=>{this.zr(h),u.push(h.key)}),u}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const r=new _e(new it([])),a=new Vt(r,t),l=new Vt(r,t+1);let u=ke();return this.Kr.forEachInRange([a,l],h=>{u=u.add(h.key)}),u}containsKey(t){const r=new Vt(t,0),a=this.$r.firstAfterOrEqual(r);return a!==null&&t.isEqual(a.key)}}class Vt{constructor(t,r){this.key=t,this.Zr=r}static Ur(t,r){return _e.comparator(t.key,r.key)||Ie(t.Zr,r.Zr)}static Wr(t,r){return Ie(t.Zr,r.Zr)||_e.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.nr=1,this.Xr=new xt(Vt.Ur)}checkEmpty(t){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,a,l){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new iS(u,r,a,l);this.mutationQueue.push(h);for(const f of l)this.Xr=this.Xr.add(new Vt(f.key,u)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return ie.resolve(h)}lookupMutationBatch(t,r){return ie.resolve(this.ei(r))}getNextMutationBatchAfterBatchId(t,r){const a=r+1,l=this.ti(a),u=l<0?0:l;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Gd:this.nr-1)}getAllMutationBatches(t){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const a=new Vt(r,0),l=new Vt(r,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([a,l],h=>{const f=this.ei(h.Zr);u.push(f)}),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,r){let a=new xt(Ie);return r.forEach(l=>{const u=new Vt(l,0),h=new Vt(l,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,h],f=>{a=a.add(f.Zr)})}),ie.resolve(this.ni(a))}getAllMutationBatchesAffectingQuery(t,r){const a=r.path,l=a.length+1;let u=a;_e.isDocumentKey(u)||(u=u.child(""));const h=new Vt(new _e(u),0);let f=new xt(Ie);return this.Xr.forEachWhile(_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===l&&(f=f.add(_.Zr)),!0)},h),ie.resolve(this.ni(f))}ni(t){const r=[];return t.forEach(a=>{const l=this.ei(a);l!==null&&r.push(l)}),r}removeMutationBatch(t,r){He(this.ri(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Xr;return ie.forEach(r.mutations,l=>{const u=new Vt(l.key,r.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Xr=a})}sr(t){}containsKey(t,r){const a=new Vt(r,0),l=this.Xr.firstAfterOrEqual(a);return ie.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,ie.resolve()}ri(t,r){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const r=this.ti(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(t){this.ii=t,this.docs=function(){return new ot(_e.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const a=r.key,l=this.docs.get(a),u=l?l.size:0,h=this.ii(r);return this.docs=this.docs.insert(a,{document:r.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const a=this.docs.get(r);return ie.resolve(a?a.document.mutableCopy():Qt.newInvalidDocument(r))}getEntries(t,r){let a=$r();return r.forEach(l=>{const u=this.docs.get(l);a=a.insert(l,u?u.document.mutableCopy():Qt.newInvalidDocument(l))}),ie.resolve(a)}getDocumentsMatchingQuery(t,r,a,l){let u=$r();const h=r.path,f=new _e(h.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(f);for(;_.hasNext();){const{key:v,value:{document:w}}=_.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||vA(yA(w),a)<=0||(l.has(w.key)||Nc(r,w))&&(u=u.insert(w.key,w.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(t,r,a,l){we(9500)}si(t,r){return ie.forEach(this.docs,a=>r(a))}newChangeBuffer(t){return new HS(this)}getSize(t){return ie.resolve(this.size)}}class HS extends LS{constructor(t){super(),this.Br=t}applyChanges(t){const r=[];return this.changes.forEach((a,l)=>{l.isValidDocument()?r.push(this.Br.addEntry(t,l)):this.Br.removeEntry(a)}),ie.waitFor(r)}getFromCache(t,r){return this.Br.getEntry(t,r)}getAllFromCache(t,r){return this.Br.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(t){this.persistence=t,this.oi=new ws(r=>Kd(r),Xd),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this._i=0,this.ai=new nm,this.targetCount=0,this.ui=Ca.cr()}forEachTarget(t,r){return this.oi.forEach((a,l)=>r(l)),ie.resolve()}getLastRemoteSnapshotVersion(t){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ie.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(t,r,a){return a&&(this.lastRemoteSnapshotVersion=a),r>this._i&&(this._i=r),ie.resolve()}Tr(t){this.oi.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ui=new Ca(r),this.highestTargetId=r),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,r){return this.Tr(r),this.targetCount+=1,ie.resolve()}updateTargetData(t,r){return this.Tr(r),ie.resolve()}removeTargetData(t,r){return this.oi.delete(r.target),this.ai.Hr(r.targetId),this.targetCount-=1,ie.resolve()}removeTargets(t,r,a){let l=0;const u=[];return this.oi.forEach((h,f)=>{f.sequenceNumber<=r&&a.get(f.targetId)===null&&(this.oi.delete(h),u.push(this.removeMatchingKeysForTargetId(t,f.targetId)),l++)}),ie.waitFor(u).next(()=>l)}getTargetCount(t){return ie.resolve(this.targetCount)}getTargetData(t,r){const a=this.oi.get(r)||null;return ie.resolve(a)}addMatchingKeys(t,r,a){return this.ai.Gr(r,a),ie.resolve()}removeMatchingKeys(t,r,a){this.ai.jr(r,a);const l=this.persistence.referenceDelegate,u=[];return l&&r.forEach(h=>{u.push(l.markPotentiallyOrphaned(t,h))}),ie.waitFor(u)}removeMatchingKeysForTargetId(t,r){return this.ai.Hr(r),ie.resolve()}getMatchingKeysForTargetId(t,r){const a=this.ai.Yr(r);return ie.resolve(a)}containsKey(t,r){return ie.resolve(this.ai.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(t,r){this.ci={},this.overlays={},this.li=new Rc(0),this.hi=!1,this.hi=!0,this.Pi=new $S,this.referenceDelegate=t(this),this.Ti=new FS(this),this.indexManager=new DS,this.remoteDocumentCache=function(l){return new qS(l)}(a=>this.referenceDelegate.Ii(a)),this.serializer=new xS(r),this.Ei=new US(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new zS,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let a=this.ci[t.toKey()];return a||(a=new BS(r,this.referenceDelegate),this.ci[t.toKey()]=a),a}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,r,a){me("MemoryPersistence","Starting transaction:",t);const l=new GS(this.li.next());return this.referenceDelegate.di(),a(l).next(u=>this.referenceDelegate.Ai(l).next(()=>u)).toPromise().then(u=>(l.raiseOnCommittedEvent(),u))}Ri(t,r){return ie.or(Object.values(this.ci).map(a=>()=>a.containsKey(t,r)))}}class GS extends bA{constructor(t){super(),this.currentSequenceNumber=t}}class rm{constructor(t){this.persistence=t,this.Vi=new nm,this.mi=null}static fi(t){return new rm(t)}get gi(){if(this.mi)return this.mi;throw we(60996)}addReference(t,r,a){return this.Vi.addReference(a,r),this.gi.delete(a.toString()),ie.resolve()}removeReference(t,r,a){return this.Vi.removeReference(a,r),this.gi.add(a.toString()),ie.resolve()}markPotentiallyOrphaned(t,r){return this.gi.add(r.toString()),ie.resolve()}removeTarget(t,r){this.Vi.Hr(r.targetId).forEach(l=>this.gi.add(l.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,r.targetId).next(l=>{l.forEach(u=>this.gi.add(u.toString()))}).next(()=>a.removeTargetData(t,r))}di(){this.mi=new Set}Ai(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.gi,a=>{const l=_e.fromPath(a);return this.pi(t,l).next(u=>{u||r.removeEntry(l,Re.min())})}).next(()=>(this.mi=null,r.apply(t)))}updateLimboDocument(t,r){return this.pi(t,r).next(a=>{a?this.gi.delete(r.toString()):this.gi.add(r.toString())})}Ii(t){return 0}pi(t,r){return ie.or([()=>ie.resolve(this.Vi.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Ri(t,r)])}}class _c{constructor(t,r){this.persistence=t,this.yi=new ws(a=>wA(a.path),(a,l)=>a.isEqual(l)),this.garbageCollector=kS(this,r)}static fi(t,r){return new _c(t,r)}di(){}Ai(t){return ie.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}pr(t){const r=this.Sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(a=>r.next(l=>a+l))}Sr(t){let r=0;return this.yr(t,a=>{r++}).next(()=>r)}yr(t,r){return ie.forEach(this.yi,(a,l)=>this.Dr(t,a,l).next(u=>u?ie.resolve():r(l)))}removeTargets(t,r,a){return this.persistence.getTargetCache().removeTargets(t,r,a)}removeOrphanedDocuments(t,r){let a=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.si(t,h=>this.Dr(t,h,r).next(f=>{f||(a++,u.removeEntry(h,Re.min()))})).next(()=>u.apply(t)).next(()=>a)}markPotentiallyOrphaned(t,r){return this.yi.set(r,t.currentSequenceNumber),ie.resolve()}removeTarget(t,r){const a=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,r,a){return this.yi.set(a,t.currentSequenceNumber),ie.resolve()}removeReference(t,r,a){return this.yi.set(a,t.currentSequenceNumber),ie.resolve()}updateLimboDocument(t,r){return this.yi.set(r,t.currentSequenceNumber),ie.resolve()}Ii(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=tc(t.data.value)),r}Dr(t,r,a){return ie.or([()=>this.persistence.Ri(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const l=this.yi.get(r);return ie.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(t,r,a,l){this.targetId=t,this.fromCache=r,this.ds=a,this.As=l}static Rs(t,r){let a=ke(),l=ke();for(const u of r.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new im(t,r.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return q1()?8:EA($1())>0?6:4}()}initialize(t,r){this.ys=t,this.indexManager=r,this.Vs=!0}getDocumentsMatchingQuery(t,r,a,l){const u={result:null};return this.ws(t,r).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.Ss(t,r,l,a).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new QS;return this.bs(t,r,h).next(f=>{if(u.result=f,this.fs)return this.Ds(t,r,h,f.size)})}).next(()=>u.result)}Ds(t,r,a,l){return a.documentReadCount<this.gs?(va()<=ze.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",_a(r),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ie.resolve()):(va()<=ze.DEBUG&&me("QueryEngine","Query:",_a(r),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ps*l?(va()<=ze.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",_a(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,rr(r))):ie.resolve())}ws(t,r){if(Dv(r))return ie.resolve(null);let a=rr(r);return this.indexManager.getIndexType(t,a).next(l=>l===0?null:(r.limit!==null&&l===1&&(r=Ad(r,null,"F"),a=rr(r)),this.indexManager.getDocumentsMatchingTarget(t,a).next(u=>{const h=ke(...u);return this.ys.getDocuments(t,h).next(f=>this.indexManager.getMinOffset(t,a).next(_=>{const v=this.vs(r,f);return this.Cs(r,v,h,_.readTime)?this.ws(t,Ad(r,null,"F")):this.Fs(t,v,r,_)}))})))}Ss(t,r,a,l){return Dv(r)||l.isEqual(Re.min())?ie.resolve(null):this.ys.getDocuments(t,a).next(u=>{const h=this.vs(r,u);return this.Cs(r,h,a,l)?ie.resolve(null):(va()<=ze.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),_a(r)),this.Fs(t,h,r,gA(l,ll)).next(f=>f))})}vs(t,r){let a=new xt(db(t));return r.forEach((l,u)=>{Nc(t,u)&&(a=a.add(u))}),a}Cs(t,r,a,l){if(t.limit===null)return!1;if(a.size!==r.size)return!0;const u=t.limitType==="F"?r.last():r.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}bs(t,r,a){return va()<=ze.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",_a(r)),this.ys.getDocumentsMatchingQuery(t,r,Ai.min(),a)}Fs(t,r,a,l){return this.ys.getDocumentsMatchingQuery(t,a,l).next(u=>(r.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm="LocalStore",KS=3e8;class XS{constructor(t,r,a,l){this.persistence=t,this.Ms=r,this.serializer=l,this.xs=new ot(Ie),this.Os=new ws(u=>Kd(u),Xd),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(a)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new PS(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.xs))}}function ZS(s,t,r,a){return new XS(s,t,r,a)}async function Lb(s,t){const r=Ce(s);return await r.persistence.runTransaction("Handle user change","readonly",a=>{let l;return r.mutationQueue.getAllMutationBatches(a).next(u=>(l=u,r.Ls(t),r.mutationQueue.getAllMutationBatches(a))).next(u=>{const h=[],f=[];let _=ke();for(const v of l){h.push(v.batchId);for(const w of v.mutations)_=_.add(w.key)}for(const v of u){f.push(v.batchId);for(const w of v.mutations)_=_.add(w.key)}return r.localDocuments.getDocuments(a,_).next(v=>({ks:v,removedBatchIds:h,addedBatchIds:f}))})})}function JS(s,t){const r=Ce(s);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const l=t.batch.keys(),u=r.Bs.newChangeBuffer({trackRemovals:!0});return function(f,_,v,w){const m=v.batch,p=m.keys();let b=ie.resolve();return p.forEach(g=>{b=b.next(()=>w.getEntry(_,g)).next(y=>{const R=v.docVersions.get(g);He(R!==null,48541),y.version.compareTo(R)<0&&(m.applyToRemoteDocument(y,v),y.isValidDocument()&&(y.setReadTime(v.commitVersion),w.addEntry(y)))})}),b.next(()=>f.mutationQueue.removeMutationBatch(_,m))}(r,a,t,u).next(()=>u.apply(a)).next(()=>r.mutationQueue.performConsistencyCheck(a)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(f){let _=ke();for(let v=0;v<f.mutationResults.length;++v)f.mutationResults[v].transformResults.length>0&&(_=_.add(f.batch.mutations[v].key));return _}(t))).next(()=>r.localDocuments.getDocuments(a,l))})}function jb(s){const t=Ce(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Ti.getLastRemoteSnapshotVersion(r))}function WS(s,t){const r=Ce(s),a=t.snapshotVersion;let l=r.xs;return r.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=r.Bs.newChangeBuffer({trackRemovals:!0});l=r.xs;const f=[];t.targetChanges.forEach((w,m)=>{const p=l.get(m);if(!p)return;f.push(r.Ti.removeMatchingKeys(u,w.removedDocuments,m).next(()=>r.Ti.addMatchingKeys(u,w.addedDocuments,m)));let b=p.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(m)!==null?b=b.withResumeToken($t.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):w.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(w.resumeToken,a)),l=l.insert(m,b),function(y,R,E){return y.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=KS?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(p,b,w)&&f.push(r.Ti.updateTargetData(u,b))});let _=$r(),v=ke();if(t.documentUpdates.forEach(w=>{t.resolvedLimboDocuments.has(w)&&f.push(r.persistence.referenceDelegate.updateLimboDocument(u,w))}),f.push(eR(u,h,t.documentUpdates).next(w=>{_=w.qs,v=w.Qs})),!a.isEqual(Re.min())){const w=r.Ti.getLastRemoteSnapshotVersion(u).next(m=>r.Ti.setTargetsMetadata(u,u.currentSequenceNumber,a));f.push(w)}return ie.waitFor(f).next(()=>h.apply(u)).next(()=>r.localDocuments.getLocalViewOfDocuments(u,_,v)).next(()=>_)}).then(u=>(r.xs=l,u))}function eR(s,t,r){let a=ke(),l=ke();return r.forEach(u=>a=a.add(u)),t.getEntries(s,a).next(u=>{let h=$r();return r.forEach((f,_)=>{const v=u.get(f);_.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(f)),_.isNoDocument()&&_.version.isEqual(Re.min())?(t.removeEntry(f,_.readTime),h=h.insert(f,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(_),h=h.insert(f,_)):me(sm,"Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",_.version)}),{qs:h,Qs:l}})}function tR(s,t){const r=Ce(s);return r.persistence.runTransaction("Get next mutation batch","readonly",a=>(t===void 0&&(t=Gd),r.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function nR(s,t){const r=Ce(s);return r.persistence.runTransaction("Allocate target","readwrite",a=>{let l;return r.Ti.getTargetData(a,t).next(u=>u?(l=u,ie.resolve(l)):r.Ti.allocateTargetId(a).next(h=>(l=new _i(t,h,"TargetPurposeListen",a.currentSequenceNumber),r.Ti.addTargetData(a,l).next(()=>l))))}).then(a=>{const l=r.xs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.xs=r.xs.insert(a.targetId,a),r.Os.set(t,a.targetId)),a})}async function Dd(s,t,r){const a=Ce(s),l=a.xs.get(t),u=r?"readwrite":"readwrite-primary";try{r||await a.persistence.runTransaction("Release target",u,h=>a.persistence.referenceDelegate.removeTarget(h,l))}catch(h){if(!ka(h))throw h;me(sm,`Failed to update sequence numbers for target ${t}: ${h}`)}a.xs=a.xs.remove(t),a.Os.delete(l.target)}function Bv(s,t,r){const a=Ce(s);let l=Re.min(),u=ke();return a.persistence.runTransaction("Execute query","readwrite",h=>function(_,v,w){const m=Ce(_),p=m.Os.get(w);return p!==void 0?ie.resolve(m.xs.get(p)):m.Ti.getTargetData(v,w)}(a,h,rr(t)).next(f=>{if(f)return l=f.lastLimboFreeSnapshotVersion,a.Ti.getMatchingKeysForTargetId(h,f.targetId).next(_=>{u=_})}).next(()=>a.Ms.getDocumentsMatchingQuery(h,t,r?l:Re.min(),r?u:ke())).next(f=>(rR(a,qA(t),f),{documents:f,$s:u})))}function rR(s,t,r){let a=s.Ns.get(t)||Re.min();r.forEach((l,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),s.Ns.set(t,a)}class qv{constructor(){this.activeTargetIds=KA()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class iR{constructor(){this.xo=new qv,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,a){}addLocalQueryTarget(t,r=!0){return r&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,r,a){this.Oo[t]=r}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new qv,Promise.resolve()}handleUserChange(t,r,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="ConnectivityMonitor";class Fv{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){me(Hv,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){me(Hv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zu=null;function Od(){return Zu===null?Zu=function(){return 268435456+Math.round(2147483648*Math.random())}():Zu++,"0x"+Zu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad="RestConnection",aR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class oR{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Ko=r+"://"+t.host,this.Wo=`projects/${a}/databases/${l}`,this.Go=this.databaseId.database===hc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}zo(t,r,a,l,u){const h=Od(),f=this.jo(t,r.toUriEncodedString());me(ad,`Sending RPC '${t}' ${h}:`,f,a);const _={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(_,l,u);const{host:v}=new URL(f),w=qd(v);return this.Jo(t,f,_,a,w).then(m=>(me(ad,`Received RPC '${t}' ${h}: `,m),m),m=>{throw Aa(ad,`RPC '${t}' ${h} failed with error: `,m,"url: ",f,"request:",a),m})}Yo(t,r,a,l,u,h){return this.zo(t,r,a,l,u)}Ho(t,r,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Va}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((l,u)=>t[u]=l),a&&a.headers.forEach((l,u)=>t[u]=l)}jo(t,r){const a=aR[t];return`${this.Ko}/v1/${r}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class uR extends oR{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,r,a,l,u){const h=Od();return new Promise((f,_)=>{const v=new $_;v.setWithCredentials(!0),v.listenOnce(B_.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case ec.NO_ERROR:const m=v.getResponseJson();me(Ft,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(m)),f(m);break;case ec.TIMEOUT:me(Ft,`RPC '${t}' ${h} timed out`),_(new ve(ae.DEADLINE_EXCEEDED,"Request time out"));break;case ec.HTTP_ERROR:const p=v.getStatus();if(me(Ft,`RPC '${t}' ${h} failed with status:`,p,"response text:",v.getResponseText()),p>0){let b=v.getResponseJson();Array.isArray(b)&&(b=b[0]);const g=b==null?void 0:b.error;if(g&&g.status&&g.message){const y=function(E){const S=E.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(S)>=0?S:ae.UNKNOWN}(g.status);_(new ve(y,g.message))}else _(new ve(ae.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new ve(ae.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:t,streamId:h,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{me(Ft,`RPC '${t}' ${h} completed.`)}});const w=JSON.stringify(l);me(Ft,`RPC '${t}' ${h} sending request:`,l),v.send(r,"POST",w,a,15)})}T_(t,r,a){const l=Od(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=F_(),f=H_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Ho(_.initMessageHeaders,r,a),_.encodeInitMessageHeaders=!0;const w=u.join("");me(Ft,`Creating RPC '${t}' stream ${l}: ${w}`,_);const m=h.createWebChannel(w,_);let p=!1,b=!1;const g=new lR({Zo:R=>{b?me(Ft,`Not sending because RPC '${t}' stream ${l} is closed:`,R):(p||(me(Ft,`Opening RPC '${t}' stream ${l} transport.`),m.open(),p=!0),me(Ft,`RPC '${t}' stream ${l} sending:`,R),m.send(R))},Xo:()=>m.close()}),y=(R,E,S)=>{R.listen(E,D=>{try{S(D)}catch(M){setTimeout(()=>{throw M},0)}})};return y(m,Xo.EventType.OPEN,()=>{b||(me(Ft,`RPC '${t}' stream ${l} transport opened.`),g.__())}),y(m,Xo.EventType.CLOSE,()=>{b||(b=!0,me(Ft,`RPC '${t}' stream ${l} transport closed`),g.u_())}),y(m,Xo.EventType.ERROR,R=>{b||(b=!0,Aa(Ft,`RPC '${t}' stream ${l} transport errored. Name:`,R.name,"Message:",R.message),g.u_(new ve(ae.UNAVAILABLE,"The operation could not be completed")))}),y(m,Xo.EventType.MESSAGE,R=>{var E;if(!b){const S=R.data[0];He(!!S,16349);const D=S,M=(D==null?void 0:D.error)||((E=D[0])===null||E===void 0?void 0:E.error);if(M){me(Ft,`RPC '${t}' stream ${l} received error:`,M);const k=M.status;let z=function(C){const O=_t[C];if(O!==void 0)return Ab(O)}(k),N=M.message;z===void 0&&(z=ae.INTERNAL,N="Unknown error status: "+k+" with message "+M.message),b=!0,g.u_(new ve(z,N)),m.close()}else me(Ft,`RPC '${t}' stream ${l} received:`,S),g.c_(S)}}),y(f,q_.STAT_EVENT,R=>{R.stat===vd.PROXY?me(Ft,`RPC '${t}' stream ${l} detected buffering proxy`):R.stat===vd.NOPROXY&&me(Ft,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{g.a_()},0),g}}function od(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(s){return new dS(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(t,r,a=1e3,l=1.5,u=6e4){this.xi=t,this.timerId=r,this.I_=a,this.E_=l,this.d_=u,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(t){this.cancel();const r=Math.floor(this.A_+this.g_()),a=Math.max(0,Date.now()-this.V_),l=Math.max(0,r-a);l>0&&me("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.A_} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,l,()=>(this.V_=Date.now(),t())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="PersistentStream";class Ub{constructor(t,r,a,l,u,h,f,_){this.xi=t,this.y_=a,this.w_=l,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new Pb(t,r)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(t){this.k_(),this.stream.send(t)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(t,r){this.k_(),this.q_(),this.C_.cancel(),this.S_++,t!==4?this.C_.reset():r&&r.code===ae.RESOURCE_EXHAUSTED?(zr(r.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):r&&r.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(r)}Q_(){}auth(){this.state=1;const t=this.U_(this.S_),r=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,l])=>{this.S_===r&&this.K_(a,l)},a=>{t(()=>{const l=new ve(ae.UNKNOWN,"Fetching auth token failed: "+a.message);return this.W_(l)})})}K_(t,r){const a=this.U_(this.S_);this.stream=this.G_(t,r),this.stream.e_(()=>{a(()=>this.listener.e_())}),this.stream.n_(()=>{a(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(l=>{a(()=>this.W_(l))}),this.stream.onMessage(l=>{a(()=>++this.v_==1?this.z_(l):this.onNext(l))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(t){return me(Gv,`close with error: ${t}`),this.stream=null,this.close(4,t)}U_(t){return r=>{this.xi.enqueueAndForget(()=>this.S_===t?r():(me(Gv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cR extends Ub{constructor(t,r,a,l,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,a,l,h),this.serializer=u}G_(t,r){return this.connection.T_("Listen",t,r)}z_(t){return this.onNext(t)}onNext(t){this.C_.reset();const r=gS(this.serializer,t),a=function(u){if(!("targetChange"in u))return Re.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Re.min():h.readTime?ir(h.readTime):Re.min()}(t);return this.listener.j_(r,a)}H_(t){const r={};r.database=Cd(this.serializer),r.addTarget=function(u,h){let f;const _=h.target;if(f=wd(_)?{documents:_S(u,_)}:{query:bS(u,_).gt},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=xb(u,h.resumeToken);const v=Sd(u,h.expectedCount);v!==null&&(f.expectedCount=v)}else if(h.snapshotVersion.compareTo(Re.min())>0){f.readTime=vc(u,h.snapshotVersion.toTimestamp());const v=Sd(u,h.expectedCount);v!==null&&(f.expectedCount=v)}return f}(this.serializer,t);const a=TS(this.serializer,t);a&&(r.labels=a),this.L_(r)}J_(t){const r={};r.database=Cd(this.serializer),r.removeTarget=t,this.L_(r)}}class fR extends Ub{constructor(t,r,a,l,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,a,l,h),this.serializer=u}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(t,r){return this.connection.T_("Write",t,r)}z_(t){return He(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,He(!t.writeResults||t.writeResults.length===0,55816),this.listener.X_()}onNext(t){He(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.C_.reset();const r=vS(t.writeResults,t.commitTime),a=ir(t.commitTime);return this.listener.ea(a,r)}ta(){const t={};t.database=Cd(this.serializer),this.L_(t)}Z_(t){const r={streamToken:this.lastStreamToken,writes:t.map(a=>yS(this.serializer,a))};this.L_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{}class dR extends hR{constructor(t,r,a,l){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=a,this.serializer=l,this.na=!1}ra(){if(this.na)throw new ve(ae.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,r,a,l){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.zo(t,Rd(r,a),l,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ve(ae.UNKNOWN,u.toString())})}Yo(t,r,a,l,u){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,f])=>this.connection.Yo(t,Rd(r,a),l,h,f,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ve(ae.UNKNOWN,h.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class mR{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(t){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.aa("Offline")))}set(t){this.la(),this.ia=0,t==="Online"&&(this.oa=!1),this.aa(t)}aa(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ua(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(zr(r),this.oa=!1):me("OnlineStateTracker",r)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="RemoteStore";class pR{constructor(t,r,a,l,u){this.localStore=t,this.datastore=r,this.asyncQueue=a,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=u,this.Ea.No(h=>{a.enqueueAndForget(async()=>{As(this)&&(me(_s,"Restarting streams for network reachability change."),await async function(_){const v=Ce(_);v.Ta.add(4),await _l(v),v.da.set("Unknown"),v.Ta.delete(4),await jc(v)}(this))})}),this.da=new mR(a,l)}}async function jc(s){if(As(s))for(const t of s.Ia)await t(!0)}async function _l(s){for(const t of s.Ia)await t(!1)}function zb(s,t){const r=Ce(s);r.Pa.has(t.targetId)||(r.Pa.set(t.targetId,t),um(r)?lm(r):La(r).M_()&&om(r,t))}function am(s,t){const r=Ce(s),a=La(r);r.Pa.delete(t),a.M_()&&$b(r,t),r.Pa.size===0&&(a.M_()?a.N_():As(r)&&r.da.set("Unknown"))}function om(s,t){if(s.Aa.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Re.min())>0){const r=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}La(s).H_(t)}function $b(s,t){s.Aa.Ke(t),La(s).J_(t)}function lm(s){s.Aa=new uS({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>s.Pa.get(t)||null,Pt:()=>s.datastore.serializer.databaseId}),La(s).start(),s.da._a()}function um(s){return As(s)&&!La(s).F_()&&s.Pa.size>0}function As(s){return Ce(s).Ta.size===0}function Bb(s){s.Aa=void 0}async function gR(s){s.da.set("Online")}async function yR(s){s.Pa.forEach((t,r)=>{om(s,t)})}async function vR(s,t){Bb(s),um(s)?(s.da.ca(t),lm(s)):s.da.set("Unknown")}async function _R(s,t,r){if(s.da.set("Online"),t instanceof Rb&&t.state===2&&t.cause)try{await async function(l,u){const h=u.cause;for(const f of u.targetIds)l.Pa.has(f)&&(await l.remoteSyncer.rejectListen(f,h),l.Pa.delete(f),l.Aa.removeTarget(f))}(s,t)}catch(a){me(_s,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await bc(s,a)}else if(t instanceof ic?s.Aa.Xe(t):t instanceof Sb?s.Aa.ot(t):s.Aa.nt(t),!r.isEqual(Re.min()))try{const a=await jb(s.localStore);r.compareTo(a)>=0&&await function(u,h){const f=u.Aa.It(h);return f.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const w=u.Pa.get(v);w&&u.Pa.set(v,w.withResumeToken(_.resumeToken,h))}}),f.targetMismatches.forEach((_,v)=>{const w=u.Pa.get(_);if(!w)return;u.Pa.set(_,w.withResumeToken($t.EMPTY_BYTE_STRING,w.snapshotVersion)),$b(u,_);const m=new _i(w.target,_,v,w.sequenceNumber);om(u,m)}),u.remoteSyncer.applyRemoteEvent(f)}(s,r)}catch(a){me(_s,"Failed to raise snapshot:",a),await bc(s,a)}}async function bc(s,t,r){if(!ka(t))throw t;s.Ta.add(1),await _l(s),s.da.set("Offline"),r||(r=()=>jb(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{me(_s,"Retrying IndexedDB access"),await r(),s.Ta.delete(1),await jc(s)})}function qb(s,t){return t().catch(r=>bc(s,r,t))}async function Pc(s){const t=Ce(s),r=Ci(t);let a=t.ha.length>0?t.ha[t.ha.length-1].batchId:Gd;for(;bR(t);)try{const l=await tR(t.localStore,a);if(l===null){t.ha.length===0&&r.N_();break}a=l.batchId,ER(t,l)}catch(l){await bc(t,l)}Hb(t)&&Fb(t)}function bR(s){return As(s)&&s.ha.length<10}function ER(s,t){s.ha.push(t);const r=Ci(s);r.M_()&&r.Y_&&r.Z_(t.mutations)}function Hb(s){return As(s)&&!Ci(s).F_()&&s.ha.length>0}function Fb(s){Ci(s).start()}async function TR(s){Ci(s).ta()}async function wR(s){const t=Ci(s);for(const r of s.ha)t.Z_(r.mutations)}async function AR(s,t,r){const a=s.ha.shift(),l=Wd.from(a,t,r);await qb(s,()=>s.remoteSyncer.applySuccessfulWrite(l)),await Pc(s)}async function SR(s,t){t&&Ci(s).Y_&&await async function(a,l){if(function(h){return oS(h)&&h!==ae.ABORTED}(l.code)){const u=a.ha.shift();Ci(a).O_(),await qb(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,l)),await Pc(a)}}(s,t),Hb(s)&&Fb(s)}async function Qv(s,t){const r=Ce(s);r.asyncQueue.verifyOperationInProgress(),me(_s,"RemoteStore received new credentials");const a=As(r);r.Ta.add(3),await _l(r),a&&r.da.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.Ta.delete(3),await jc(r)}async function RR(s,t){const r=Ce(s);t?(r.Ta.delete(2),await jc(r)):t||(r.Ta.add(2),await _l(r),r.da.set("Unknown"))}function La(s){return s.Ra||(s.Ra=function(r,a,l){const u=Ce(r);return u.ra(),new cR(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(s.datastore,s.asyncQueue,{e_:gR.bind(null,s),n_:yR.bind(null,s),i_:vR.bind(null,s),j_:_R.bind(null,s)}),s.Ia.push(async t=>{t?(s.Ra.O_(),um(s)?lm(s):s.da.set("Unknown")):(await s.Ra.stop(),Bb(s))})),s.Ra}function Ci(s){return s.Va||(s.Va=function(r,a,l){const u=Ce(r);return u.ra(),new fR(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(s.datastore,s.asyncQueue,{e_:()=>Promise.resolve(),n_:TR.bind(null,s),i_:SR.bind(null,s),X_:wR.bind(null,s),ea:AR.bind(null,s)}),s.Ia.push(async t=>{t?(s.Va.O_(),await Pc(s)):(await s.Va.stop(),s.ha.length>0&&(me(_s,`Stopping write stream with ${s.ha.length} pending writes`),s.ha=[]))})),s.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(t,r,a,l,u){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=a,this.op=l,this.removalCallback=u,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,a,l,u){const h=Date.now()+a,f=new cm(t,r,h,l,u);return f.start(a),f}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ae.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fm(s,t){if(zr("AsyncQueue",`${t}: ${s}`),ka(s))return new ve(ae.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{static emptySet(t){return new wa(t.comparator)}constructor(t){this.comparator=t?(r,a)=>t(r,a)||_e.comparator(r.key,a.key):(r,a)=>_e.comparator(r.key,a.key),this.keyedMap=Zo(),this.sortedSet=new ot(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,a)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof wa)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,u=a.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const a=new wa;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=r,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(){this.ma=new ot(_e.comparator)}track(t){const r=t.doc.key,a=this.ma.get(r);a?t.type!==0&&a.type===3?this.ma=this.ma.insert(r,t):t.type===3&&a.type!==1?this.ma=this.ma.insert(r,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ma=this.ma.insert(r,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ma=this.ma.insert(r,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ma=this.ma.remove(r):t.type===1&&a.type===2?this.ma=this.ma.insert(r,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ma=this.ma.insert(r,{type:2,doc:t.doc}):we(63341,{Vt:t,fa:a}):this.ma=this.ma.insert(r,t)}ga(){const t=[];return this.ma.inorderTraversal((r,a)=>{t.push(a)}),t}}class Da{constructor(t,r,a,l,u,h,f,_,v){this.query=t,this.docs=r,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(t,r,a,l,u){const h=[];return r.forEach(f=>{h.push({type:0,doc:f})}),new Da(t,r,wa.emptySet(r),h,a,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ic(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,a=t.docChanges;if(r.length!==a.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==a[l].type||!r[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(t=>t.Sa())}}class CR{constructor(){this.queries=Kv(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(r,a){const l=Ce(r),u=l.queries;l.queries=Kv(),u.forEach((h,f)=>{for(const _ of f.ya)_.onError(a)})})(this,new ve(ae.ABORTED,"Firestore shutting down"))}}function Kv(){return new ws(s=>hb(s),Ic)}async function hm(s,t){const r=Ce(s);let a=3;const l=t.query;let u=r.queries.get(l);u?!u.wa()&&t.Sa()&&(a=2):(u=new xR,a=t.Sa()?0:1);try{switch(a){case 0:u.pa=await r.onListen(l,!0);break;case 1:u.pa=await r.onListen(l,!1);break;case 2:await r.onFirstRemoteStoreListen(l)}}catch(h){const f=fm(h,`Initialization of query '${_a(t.query)}' failed`);return void t.onError(f)}r.queries.set(l,u),u.ya.push(t),t.Da(r.onlineState),u.pa&&t.va(u.pa)&&mm(r)}async function dm(s,t){const r=Ce(s),a=t.query;let l=3;const u=r.queries.get(a);if(u){const h=u.ya.indexOf(t);h>=0&&(u.ya.splice(h,1),u.ya.length===0?l=t.Sa()?0:1:!u.wa()&&t.Sa()&&(l=2))}switch(l){case 0:return r.queries.delete(a),r.onUnlisten(a,!0);case 1:return r.queries.delete(a),r.onUnlisten(a,!1);case 2:return r.onLastRemoteStoreUnlisten(a);default:return}}function DR(s,t){const r=Ce(s);let a=!1;for(const l of t){const u=l.query,h=r.queries.get(u);if(h){for(const f of h.ya)f.va(l)&&(a=!0);h.pa=l}}a&&mm(r)}function OR(s,t,r){const a=Ce(s),l=a.queries.get(t);if(l)for(const u of l.ya)u.onError(r);a.queries.delete(t)}function mm(s){s.ba.forEach(t=>{t.next()})}var Id,Xv;(Xv=Id||(Id={})).Ca="default",Xv.Cache="cache";class pm{constructor(t,r,a){this.query=t,this.Fa=r,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=a||{}}va(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new Da(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.Ma?this.Oa(t)&&(this.Fa.next(t),r=!0):this.Na(t,this.onlineState)&&(this.Ba(t),r=!0),this.xa=t,r}onError(t){this.Fa.error(t)}Da(t){this.onlineState=t;let r=!1;return this.xa&&!this.Ma&&this.Na(this.xa,t)&&(this.Ba(this.xa),r=!0),r}Na(t,r){if(!t.fromCache||!this.Sa())return!0;const a=r!=="Offline";return(!this.options.La||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Oa(t){if(t.docChanges.length>0)return!0;const r=this.xa&&this.xa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Ba(t){t=Da.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Ma=!0,this.Fa.next(t)}Sa(){return this.options.source!==Id.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(t){this.key=t}}class Qb{constructor(t){this.key=t}}class IR{constructor(t,r){this.query=t,this.Ga=r,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=ke(),this.mutatedKeys=ke(),this.Ha=db(t),this.Ja=new wa(this.Ha)}get Ya(){return this.Ga}Za(t,r){const a=r?r.Xa:new Yv,l=r?r.Ja:this.Ja;let u=r?r.mutatedKeys:this.mutatedKeys,h=l,f=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((w,m)=>{const p=l.get(w),b=Nc(this.query,m)?m:null,g=!!p&&this.mutatedKeys.has(p.key),y=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let R=!1;p&&b?p.data.isEqual(b.data)?g!==y&&(a.track({type:3,doc:b}),R=!0):this.eu(p,b)||(a.track({type:2,doc:b}),R=!0,(_&&this.Ha(b,_)>0||v&&this.Ha(b,v)<0)&&(f=!0)):!p&&b?(a.track({type:0,doc:b}),R=!0):p&&!b&&(a.track({type:1,doc:p}),R=!0,(_||v)&&(f=!0)),R&&(b?(h=h.add(b),u=y?u.add(w):u.delete(w)):(h=h.delete(w),u=u.delete(w)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),u=u.delete(w.key),a.track({type:1,doc:w})}return{Ja:h,Xa:a,Cs:f,mutatedKeys:u}}eu(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,a,l){const u=this.Ja;this.Ja=t.Ja,this.mutatedKeys=t.mutatedKeys;const h=t.Xa.ga();h.sort((w,m)=>function(b,g){const y=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Vt:R})}};return y(b)-y(g)}(w.type,m.type)||this.Ha(w.doc,m.doc)),this.tu(a),l=l!=null&&l;const f=r&&!l?this.nu():[],_=this.ja.size===0&&this.current&&!l?1:0,v=_!==this.za;return this.za=_,h.length!==0||v?{snapshot:new Da(this.query,t.Ja,u,h,t.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),ru:f}:{ru:f}}Da(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new Yv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(t){return!this.Ga.has(t)&&!!this.Ja.has(t)&&!this.Ja.get(t).hasLocalMutations}tu(t){t&&(t.addedDocuments.forEach(r=>this.Ga=this.Ga.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.Ga=this.Ga.delete(r)),this.current=t.current)}nu(){if(!this.current)return[];const t=this.ja;this.ja=ke(),this.Ja.forEach(a=>{this.iu(a.key)&&(this.ja=this.ja.add(a.key))});const r=[];return t.forEach(a=>{this.ja.has(a)||r.push(new Qb(a))}),this.ja.forEach(a=>{t.has(a)||r.push(new Gb(a))}),r}su(t){this.Ga=t.$s,this.ja=ke();const r=this.Za(t.documents);return this.applyChanges(r,!0)}ou(){return Da.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const gm="SyncEngine";class NR{constructor(t,r,a){this.query=t,this.targetId=r,this.view=a}}class VR{constructor(t){this.key=t,this._u=!1}}class MR{constructor(t,r,a,l,u,h){this.localStore=t,this.remoteStore=r,this.eventManager=a,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.au={},this.uu=new ws(f=>hb(f),Ic),this.cu=new Map,this.lu=new Set,this.hu=new ot(_e.comparator),this.Pu=new Map,this.Tu=new nm,this.Iu={},this.Eu=new Map,this.du=Ca.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function kR(s,t,r=!0){const a=Wb(s);let l;const u=a.uu.get(t);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.ou()):l=await Yb(a,t,r,!0),l}async function LR(s,t){const r=Wb(s);await Yb(r,t,!0,!1)}async function Yb(s,t,r,a){const l=await nR(s.localStore,rr(t)),u=l.targetId,h=s.sharedClientState.addLocalQueryTarget(u,r);let f;return a&&(f=await jR(s,t,u,h==="current",l.resumeToken)),s.isPrimaryClient&&r&&zb(s.remoteStore,l),f}async function jR(s,t,r,a,l){s.Ru=(m,p,b)=>async function(y,R,E,S){let D=R.view.Za(E);D.Cs&&(D=await Bv(y.localStore,R.query,!1).then(({documents:N})=>R.view.Za(N,D)));const M=S&&S.targetChanges.get(R.targetId),k=S&&S.targetMismatches.get(R.targetId)!=null,z=R.view.applyChanges(D,y.isPrimaryClient,M,k);return Jv(y,R.targetId,z.ru),z.snapshot}(s,m,p,b);const u=await Bv(s.localStore,t,!0),h=new IR(t,u.$s),f=h.Za(u.documents),_=vl.createSynthesizedTargetChangeForCurrentChange(r,a&&s.onlineState!=="Offline",l),v=h.applyChanges(f,s.isPrimaryClient,_);Jv(s,r,v.ru);const w=new NR(t,r,h);return s.uu.set(t,w),s.cu.has(r)?s.cu.get(r).push(t):s.cu.set(r,[t]),v.snapshot}async function PR(s,t,r){const a=Ce(s),l=a.uu.get(t),u=a.cu.get(l.targetId);if(u.length>1)return a.cu.set(l.targetId,u.filter(h=>!Ic(h,t))),void a.uu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Dd(a.localStore,l.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(l.targetId),r&&am(a.remoteStore,l.targetId),Nd(a,l.targetId)}).catch(Ma)):(Nd(a,l.targetId),await Dd(a.localStore,l.targetId,!0))}async function UR(s,t){const r=Ce(s),a=r.uu.get(t),l=r.cu.get(a.targetId);r.isPrimaryClient&&l.length===1&&(r.sharedClientState.removeLocalQueryTarget(a.targetId),am(r.remoteStore,a.targetId))}async function zR(s,t,r){const a=QR(s);try{const l=await function(h,f){const _=Ce(h),v=Rt.now(),w=f.reduce((b,g)=>b.add(g.key),ke());let m,p;return _.persistence.runTransaction("Locally write mutations","readwrite",b=>{let g=$r(),y=ke();return _.Bs.getEntries(b,w).next(R=>{g=R,g.forEach((E,S)=>{S.isValidDocument()||(y=y.add(E))})}).next(()=>_.localDocuments.getOverlayedDocuments(b,g)).next(R=>{m=R;const E=[];for(const S of f){const D=nS(S,m.get(S.key).overlayedDocument);D!=null&&E.push(new Ni(S.key,D,sb(D.value.mapValue),In.exists(!0)))}return _.mutationQueue.addMutationBatch(b,v,E,f)}).next(R=>{p=R;const E=R.applyToLocalDocumentSet(m,y);return _.documentOverlayCache.saveOverlays(b,R.batchId,E)})}).then(()=>({batchId:p.batchId,changes:pb(m)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),function(h,f,_){let v=h.Iu[h.currentUser.toKey()];v||(v=new ot(Ie)),v=v.insert(f,_),h.Iu[h.currentUser.toKey()]=v}(a,l.batchId,r),await bl(a,l.changes),await Pc(a.remoteStore)}catch(l){const u=fm(l,"Failed to persist write");r.reject(u)}}async function Kb(s,t){const r=Ce(s);try{const a=await WS(r.localStore,t);t.targetChanges.forEach((l,u)=>{const h=r.Pu.get(u);h&&(He(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?h._u=!0:l.modifiedDocuments.size>0?He(h._u,14607):l.removedDocuments.size>0&&(He(h._u,42227),h._u=!1))}),await bl(r,a,t)}catch(a){await Ma(a)}}function Zv(s,t,r){const a=Ce(s);if(a.isPrimaryClient&&r===0||!a.isPrimaryClient&&r===1){const l=[];a.uu.forEach((u,h)=>{const f=h.view.Da(t);f.snapshot&&l.push(f.snapshot)}),function(h,f){const _=Ce(h);_.onlineState=f;let v=!1;_.queries.forEach((w,m)=>{for(const p of m.ya)p.Da(f)&&(v=!0)}),v&&mm(_)}(a.eventManager,t),l.length&&a.au.j_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function $R(s,t,r){const a=Ce(s);a.sharedClientState.updateQueryState(t,"rejected",r);const l=a.Pu.get(t),u=l&&l.key;if(u){let h=new ot(_e.comparator);h=h.insert(u,Qt.newNoDocument(u,Re.min()));const f=ke().add(u),_=new kc(Re.min(),new Map,new ot(Ie),h,f);await Kb(a,_),a.hu=a.hu.remove(u),a.Pu.delete(t),ym(a)}else await Dd(a.localStore,t,!1).then(()=>Nd(a,t,r)).catch(Ma)}async function BR(s,t){const r=Ce(s),a=t.batch.batchId;try{const l=await JS(r.localStore,t);Zb(r,a,null),Xb(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),await bl(r,l)}catch(l){await Ma(l)}}async function qR(s,t,r){const a=Ce(s);try{const l=await function(h,f){const _=Ce(h);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let w;return _.mutationQueue.lookupMutationBatch(v,f).next(m=>(He(m!==null,37113),w=m.keys(),_.mutationQueue.removeMutationBatch(v,m))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,w,f)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w)).next(()=>_.localDocuments.getDocuments(v,w))})}(a.localStore,t);Zb(a,t,r),Xb(a,t),a.sharedClientState.updateMutationState(t,"rejected",r),await bl(a,l)}catch(l){await Ma(l)}}function Xb(s,t){(s.Eu.get(t)||[]).forEach(r=>{r.resolve()}),s.Eu.delete(t)}function Zb(s,t,r){const a=Ce(s);let l=a.Iu[a.currentUser.toKey()];if(l){const u=l.get(t);u&&(r?u.reject(r):u.resolve(),l=l.remove(t)),a.Iu[a.currentUser.toKey()]=l}}function Nd(s,t,r=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.cu.get(t))s.uu.delete(a),r&&s.au.Vu(a,r);s.cu.delete(t),s.isPrimaryClient&&s.Tu.Hr(t).forEach(a=>{s.Tu.containsKey(a)||Jb(s,a)})}function Jb(s,t){s.lu.delete(t.path.canonicalString());const r=s.hu.get(t);r!==null&&(am(s.remoteStore,r),s.hu=s.hu.remove(t),s.Pu.delete(r),ym(s))}function Jv(s,t,r){for(const a of r)a instanceof Gb?(s.Tu.addReference(a.key,t),HR(s,a)):a instanceof Qb?(me(gm,"Document no longer in limbo: "+a.key),s.Tu.removeReference(a.key,t),s.Tu.containsKey(a.key)||Jb(s,a.key)):we(19791,{mu:a})}function HR(s,t){const r=t.key,a=r.path.canonicalString();s.hu.get(r)||s.lu.has(a)||(me(gm,"New document in limbo: "+r),s.lu.add(a),ym(s))}function ym(s){for(;s.lu.size>0&&s.hu.size<s.maxConcurrentLimboResolutions;){const t=s.lu.values().next().value;s.lu.delete(t);const r=new _e(it.fromString(t)),a=s.du.next();s.Pu.set(a,new VR(r)),s.hu=s.hu.insert(r,a),zb(s.remoteStore,new _i(rr(Oc(r.path)),a,"TargetPurposeLimboResolution",Rc.le))}}async function bl(s,t,r){const a=Ce(s),l=[],u=[],h=[];a.uu.isEmpty()||(a.uu.forEach((f,_)=>{h.push(a.Ru(_,t,r).then(v=>{var w;if((v||r)&&a.isPrimaryClient){const m=v?!v.fromCache:(w=r==null?void 0:r.targetChanges.get(_.targetId))===null||w===void 0?void 0:w.current;a.sharedClientState.updateQueryState(_.targetId,m?"current":"not-current")}if(v){l.push(v);const m=im.Rs(_.targetId,v);u.push(m)}}))}),await Promise.all(h),a.au.j_(l),await async function(_,v){const w=Ce(_);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>ie.forEach(v,p=>ie.forEach(p.ds,b=>w.persistence.referenceDelegate.addReference(m,p.targetId,b)).next(()=>ie.forEach(p.As,b=>w.persistence.referenceDelegate.removeReference(m,p.targetId,b)))))}catch(m){if(!ka(m))throw m;me(sm,"Failed to update sequence numbers: "+m)}for(const m of v){const p=m.targetId;if(!m.fromCache){const b=w.xs.get(p),g=b.snapshotVersion,y=b.withLastLimboFreeSnapshotVersion(g);w.xs=w.xs.insert(p,y)}}}(a.localStore,u))}async function FR(s,t){const r=Ce(s);if(!r.currentUser.isEqual(t)){me(gm,"User change. New user:",t.toKey());const a=await Lb(r.localStore,t);r.currentUser=t,function(u,h){u.Eu.forEach(f=>{f.forEach(_=>{_.reject(new ve(ae.CANCELLED,h))})}),u.Eu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await bl(r,a.ks)}}function GR(s,t){const r=Ce(s),a=r.Pu.get(t);if(a&&a._u)return ke().add(a.key);{let l=ke();const u=r.cu.get(t);if(!u)return l;for(const h of u){const f=r.uu.get(h);l=l.unionWith(f.view.Ya)}return l}}function Wb(s){const t=Ce(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=Kb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=GR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=$R.bind(null,t),t.au.j_=DR.bind(null,t.eventManager),t.au.Vu=OR.bind(null,t.eventManager),t}function QR(s){const t=Ce(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=BR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=qR.bind(null,t),t}class Ec{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Lc(t.databaseInfo.databaseId),this.sharedClientState=this.pu(t),this.persistence=this.yu(t),await this.persistence.start(),this.localStore=this.wu(t),this.gcScheduler=this.Su(t,this.localStore),this.indexBackfillerScheduler=this.bu(t,this.localStore)}Su(t,r){return null}bu(t,r){return null}wu(t){return ZS(this.persistence,new YS,t.initialUser,this.serializer)}yu(t){return new kb(rm.fi,this.serializer)}pu(t){return new iR}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ec.provider={build:()=>new Ec};class YR extends Ec{constructor(t){super(),this.cacheSizeBytes=t}Su(t,r){He(this.persistence.referenceDelegate instanceof _c,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new VS(a,t.asyncQueue,r)}yu(t){const r=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new kb(a=>_c.fi(a,r),this.serializer)}}class Vd{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Zv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=FR.bind(null,this.syncEngine),await RR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new CR}()}createDatastore(t){const r=Lc(t.databaseInfo.databaseId),a=function(u){return new uR(u)}(t.databaseInfo);return function(u,h,f,_){return new dR(u,h,f,_)}(t.authCredentials,t.appCheckCredentials,a,r)}createRemoteStore(t){return function(a,l,u,h,f){return new pR(a,l,u,h,f)}(this.localStore,this.datastore,t.asyncQueue,r=>Zv(this.syncEngine,r,0),function(){return Fv.C()?new Fv:new sR}())}createSyncEngine(t,r){return function(l,u,h,f,_,v,w){const m=new MR(l,u,h,f,_,v);return w&&(m.Au=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(l){const u=Ce(l);me(_s,"RemoteStore shutting down."),u.Ta.add(5),await _l(u),u.Ea.shutdown(),u.da.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Vd.provider={build:()=>new Vd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.vu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.vu(this.observer.error,t):zr("Uncaught Error in snapshot listener:",t.toString()))}Cu(){this.muted=!0}vu(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di="FirestoreClient";class KR{constructor(t,r,a,l,u){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=a,this.databaseInfo=l,this.user=Gt.UNAUTHENTICATED,this.clientId=K_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async h=>{me(Di,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(a,h=>(me(Di,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const a=fm(r,"Failed to shutdown persistence");t.reject(a)}}),t.promise}}async function ld(s,t){s.asyncQueue.verifyOperationInProgress(),me(Di,"Initializing OfflineComponentProvider");const r=s.configuration;await t.initialize(r);let a=r.initialUser;s.setCredentialChangeListener(async l=>{a.isEqual(l)||(await Lb(t.localStore,l),a=l)}),t.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=t}async function Wv(s,t){s.asyncQueue.verifyOperationInProgress();const r=await XR(s);me(Di,"Initializing OnlineComponentProvider"),await t.initialize(r,s.configuration),s.setCredentialChangeListener(a=>Qv(t.remoteStore,a)),s.setAppCheckTokenChangeListener((a,l)=>Qv(t.remoteStore,l)),s._onlineComponents=t}async function XR(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){me(Di,"Using user provided OfflineComponentProvider");try{await ld(s,s._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(l){return l.name==="FirebaseError"?l.code===ae.FAILED_PRECONDITION||l.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(r))throw r;Aa("Error using user provided cache. Falling back to memory cache: "+r),await ld(s,new Ec)}}else me(Di,"Using default OfflineComponentProvider"),await ld(s,new YR(void 0));return s._offlineComponents}async function e0(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(me(Di,"Using user provided OnlineComponentProvider"),await Wv(s,s._uninitializedComponentsProvider._online)):(me(Di,"Using default OnlineComponentProvider"),await Wv(s,new Vd))),s._onlineComponents}function ZR(s){return e0(s).then(t=>t.syncEngine)}async function Tc(s){const t=await e0(s),r=t.eventManager;return r.onListen=kR.bind(null,t.syncEngine),r.onUnlisten=PR.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=LR.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=UR.bind(null,t.syncEngine),r}function JR(s,t,r={}){const a=new Lr;return s.asyncQueue.enqueueAndForget(async()=>function(u,h,f,_,v){const w=new vm({next:p=>{w.Cu(),h.enqueueAndForget(()=>dm(u,m));const b=p.docs.has(f);!b&&p.fromCache?v.reject(new ve(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&p.fromCache&&_&&_.source==="server"?v.reject(new ve(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(p)},error:p=>v.reject(p)}),m=new pm(Oc(f.path),w,{includeMetadataChanges:!0,La:!0});return hm(u,m)}(await Tc(s),s.asyncQueue,t,r,a)),a.promise}function WR(s,t,r={}){const a=new Lr;return s.asyncQueue.enqueueAndForget(async()=>function(u,h,f,_,v){const w=new vm({next:p=>{w.Cu(),h.enqueueAndForget(()=>dm(u,m)),p.fromCache&&_.source==="server"?v.reject(new ve(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(p)},error:p=>v.reject(p)}),m=new pm(f,w,{includeMetadataChanges:!0,La:!0});return hm(u,m)}(await Tc(s),s.asyncQueue,t,r,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(s,t,r){if(!r)throw new ve(ae.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function e2(s,t,r,a){if(t===!0&&a===!0)throw new ve(ae.INVALID_ARGUMENT,`${s} and ${r} cannot be used together.`)}function t_(s){if(!_e.isDocumentKey(s))throw new ve(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function n_(s){if(_e.isDocumentKey(s))throw new ve(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function _m(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=function(a){return a.constructor?a.constructor.name:null}(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":we(12329,{type:typeof s})}function an(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ve(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=_m(s);throw new ve(ae.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="firestore.googleapis.com",r_=!0;class i_{constructor(t){var r,a;if(t.host===void 0){if(t.ssl!==void 0)throw new ve(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=r0,this.ssl=r_}else this.host=t.host,this.ssl=(r=t.ssl)!==null&&r!==void 0?r:r_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Mb;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<IS)throw new ve(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}e2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=t0((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ve(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ve(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ve(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(a,l){return a.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Uc{constructor(t,r,a,l){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new i_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ve(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new i_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new oA;switch(a.type){case"firstParty":return new fA(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ve(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const a=e_.get(r);a&&(me("ComponentProvider","Removing Datastore"),e_.delete(r),a.terminate())}(this),Promise.resolve()}}function t2(s,t,r,a={}){var l;s=an(s,Uc);const u=qd(t),h=s._getSettings(),f=Object.assign(Object.assign({},h),{emulatorOptions:s._getEmulatorOptions()}),_=`${t}:${r}`;u&&(L1(`https://${_}`),z1("Firestore",!0)),h.host!==r0&&h.host!==_&&Aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},h),{host:_,ssl:u,emulatorOptions:a});if(!lc(v,f)&&(s._setSettings(v),a.mockUserToken)){let w,m;if(typeof a.mockUserToken=="string")w=a.mockUserToken,m=Gt.MOCK_USER;else{w=j1(a.mockUserToken,(l=s._app)===null||l===void 0?void 0:l.options.projectId);const p=a.mockUserToken.sub||a.mockUserToken.user_id;if(!p)throw new ve(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Gt(p)}s._authCredentials=new lA(new Q_(w,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(t,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new El(this.firestore,t,this._query)}}class Wt{constructor(t,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Wt(this.firestore,t,this._key)}}class wi extends El{constructor(t,r,a){super(t,r,Oc(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Wt(this.firestore,null,new _e(t))}withConverter(t){return new wi(this.firestore,t,this._path)}}function sr(s,t,...r){if(s=Pr(s),n0("collection","path",t),s instanceof Uc){const a=it.fromString(t,...r);return n_(a),new wi(s,null,a)}{if(!(s instanceof Wt||s instanceof wi))throw new ve(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(it.fromString(t,...r));return n_(a),new wi(s.firestore,null,a)}}function bs(s,t,...r){if(s=Pr(s),arguments.length===1&&(t=K_.newId()),n0("doc","path",t),s instanceof Uc){const a=it.fromString(t,...r);return t_(a),new Wt(s,null,new _e(a))}{if(!(s instanceof Wt||s instanceof wi))throw new ve(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(it.fromString(t,...r));return t_(a),new Wt(s.firestore,s instanceof wi?s.converter:null,new _e(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="AsyncQueue";class a_{constructor(t=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new Pb(this,"async_queue_retry"),this.ec=()=>{const a=od();a&&me(s_,"Visibility state changed to "+a.visibilityState),this.C_.p_()},this.tc=t;const r=od();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.nc(),this.rc(t)}enterRestrictedMode(t){if(!this.ju){this.ju=!0,this.Zu=t||!1;const r=od();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ec)}}enqueue(t){if(this.nc(),this.ju)return new Promise(()=>{});const r=new Lr;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.zu.push(t),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(t){if(!ka(t))throw t;me(s_,"Operation failed with retryable error: "+t)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(t){const r=this.tc.then(()=>(this.Yu=!0,t().catch(a=>{throw this.Ju=a,this.Yu=!1,zr("INTERNAL UNHANDLED ERROR: ",o_(a)),a}).then(a=>(this.Yu=!1,a))));return this.tc=r,r}enqueueAfterDelay(t,r,a){this.nc(),this.Xu.indexOf(t)>-1&&(r=0);const l=cm.createAndSchedule(this,t,r,a,u=>this.oc(u));return this.Hu.push(l),l}nc(){this.Ju&&we(47125,{_c:o_(this.Ju)})}verifyOperationInProgress(){}async ac(){let t;do t=this.tc,await t;while(t!==this.tc)}uc(t){for(const r of this.Hu)if(r.timerId===t)return!0;return!1}cc(t){return this.ac().then(()=>{this.Hu.sort((r,a)=>r.targetTimeMs-a.targetTimeMs);for(const r of this.Hu)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.ac()})}lc(t){this.Xu.push(t)}oc(t){const r=this.Hu.indexOf(t);this.Hu.splice(r,1)}}function o_(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(s){return function(r,a){if(typeof r!="object"||r===null)return!1;const l=r;for(const u of a)if(u in l&&typeof l[u]=="function")return!0;return!1}(s,["next","error","complete"])}class Br extends Uc{constructor(t,r,a,l){super(t,r,a,l),this.type="firestore",this._queue=new a_,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new a_(t),this._firestoreClient=void 0,await t}}}function n2(s,t){const r=typeof s=="object"?s:Xw(),a=typeof s=="string"?s:hc,l=Fw(r,"firestore").getImmediate({identifier:a});if(!l._initialized){const u=M1("firestore");u&&t2(l,...u)}return l}function zc(s){if(s._terminated)throw new ve(ae.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||r2(s),s._firestoreClient}function r2(s){var t,r,a;const l=s._freezeSettings(),u=function(f,_,v,w){return new RA(f,_,v,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,t0(w.experimentalLongPollingOptions),w.useFetchStreams,w.isUsingEmulator)}(s._databaseId,((t=s._app)===null||t===void 0?void 0:t.options.appId)||"",s._persistenceKey,l);s._componentsProvider||!((r=l.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((a=l.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),s._firestoreClient=new KR(s._authCredentials,s._appCheckCredentials,s._queue,u,s._componentsProvider&&function(f){const _=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(_),_online:_}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Oa($t.fromBase64String(t))}catch(r){throw new ve(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new Oa($t.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new ve(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new ve(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new ve(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ie(this._lat,t._lat)||Ie(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(a,l){if(a.length!==l.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==l[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=/^__.*__$/;class s2{constructor(t,r,a){this.data=t,this.fieldMask=r,this.fieldTransforms=a}toMutation(t,r){return this.fieldMask!==null?new Ni(t,this.data,this.fieldMask,r,this.fieldTransforms):new yl(t,this.data,r,this.fieldTransforms)}}class i0{constructor(t,r,a){this.data=t,this.fieldMask=r,this.fieldTransforms=a}toMutation(t,r){return new Ni(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function s0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{hc:s})}}class wm{constructor(t,r,a,l,u,h){this.settings=t,this.databaseId=r,this.serializer=a,this.ignoreUndefinedProperties=l,u===void 0&&this.Pc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(t){return new wm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(t){var r;const a=(r=this.path)===null||r===void 0?void 0:r.child(t),l=this.Tc({path:a,Ec:!1});return l.dc(t),l}Ac(t){var r;const a=(r=this.path)===null||r===void 0?void 0:r.child(t),l=this.Tc({path:a,Ec:!1});return l.Pc(),l}Rc(t){return this.Tc({path:void 0,Ec:!0})}Vc(t){return wc(t,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}Pc(){if(this.path)for(let t=0;t<this.path.length;t++)this.dc(this.path.get(t))}dc(t){if(t.length===0)throw this.Vc("Document fields must not be empty");if(s0(this.hc)&&i2.test(t))throw this.Vc('Document fields cannot begin and end with "__"')}}class a2{constructor(t,r,a){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=a||Lc(t)}gc(t,r,a,l=!1){return new wm({hc:t,methodName:r,fc:a,path:zt.emptyPath(),Ec:!1,mc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Am(s){const t=s._freezeSettings(),r=Lc(s._databaseId);return new a2(s._databaseId,!!t.ignoreUndefinedProperties,r)}function a0(s,t,r,a,l,u={}){const h=s.gc(u.merge||u.mergeFields?2:0,t,r,l);Sm("Data must be an object, but it was:",h,a);const f=o0(a,h);let _,v;if(u.merge)_=new yn(h.fieldMask),v=h.fieldTransforms;else if(u.mergeFields){const w=[];for(const m of u.mergeFields){const p=Md(t,m,r);if(!h.contains(p))throw new ve(ae.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);u0(w,p)||w.push(p)}_=new yn(w),v=h.fieldTransforms.filter(m=>_.covers(m.field))}else _=null,v=h.fieldTransforms;return new s2(new sn(f),_,v)}class Bc extends bm{_toFieldTransform(t){if(t.hc!==2)throw t.hc===1?t.Vc(`${this._methodName}() can only appear at the top level of your update data`):t.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Bc}}function o2(s,t,r,a){const l=s.gc(1,t,r);Sm("Data must be an object, but it was:",l,a);const u=[],h=sn.empty();Ii(a,(_,v)=>{const w=Rm(t,_,r);v=Pr(v);const m=l.Ac(w);if(v instanceof Bc)u.push(w);else{const p=qc(v,m);p!=null&&(u.push(w),h.set(w,p))}});const f=new yn(u);return new i0(h,f,l.fieldTransforms)}function l2(s,t,r,a,l,u){const h=s.gc(1,t,r),f=[Md(t,a,r)],_=[l];if(u.length%2!=0)throw new ve(ae.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<u.length;p+=2)f.push(Md(t,u[p])),_.push(u[p+1]);const v=[],w=sn.empty();for(let p=f.length-1;p>=0;--p)if(!u0(v,f[p])){const b=f[p];let g=_[p];g=Pr(g);const y=h.Ac(b);if(g instanceof Bc)v.push(b);else{const R=qc(g,y);R!=null&&(v.push(b),w.set(b,R))}}const m=new yn(v);return new i0(w,m,h.fieldTransforms)}function qc(s,t){if(l0(s=Pr(s)))return Sm("Unsupported field value:",t,s),o0(s,t);if(s instanceof bm)return function(a,l){if(!s0(l.hc))throw l.Vc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Vc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(l);u&&l.fieldTransforms.push(u)}(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.Ec&&t.hc!==4)throw t.Vc("Nested arrays are not supported");return function(a,l){const u=[];let h=0;for(const f of a){let _=qc(f,l.Rc(h));_==null&&(_={nullValue:"NULL_VALUE"}),u.push(_),h++}return{arrayValue:{values:u}}}(s,t)}return function(a,l){if((a=Pr(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return XA(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Rt.fromDate(a);return{timestampValue:vc(l.serializer,u)}}if(a instanceof Rt){const u=new Rt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:vc(l.serializer,u)}}if(a instanceof Em)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Oa)return{bytesValue:xb(l.serializer,a._byteString)};if(a instanceof Wt){const u=l.databaseId,h=a.firestore._databaseId;if(!h.isEqual(u))throw l.Vc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:tm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Tm)return function(h,f){return{mapValue:{fields:{[rb]:{stringValue:ib},[dc]:{arrayValue:{values:h.toArray().map(v=>{if(typeof v!="number")throw f.Vc("VectorValues must only contain numeric values.");return Zd(f.serializer,v)})}}}}}}(a,l);throw l.Vc(`Unsupported field value: ${_m(a)}`)}(s,t)}function o0(s,t){const r={};return Z_(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ii(s,(a,l)=>{const u=qc(l,t.Ic(a));u!=null&&(r[a]=u)}),{mapValue:{fields:r}}}function l0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Rt||s instanceof Em||s instanceof Oa||s instanceof Wt||s instanceof bm||s instanceof Tm)}function Sm(s,t,r){if(!l0(r)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(r)){const a=_m(r);throw a==="an object"?t.Vc(s+" a custom object"):t.Vc(s+" "+a)}}function Md(s,t,r){if((t=Pr(t))instanceof $c)return t._internalPath;if(typeof t=="string")return Rm(s,t);throw wc("Field path arguments must be of type string or ",s,!1,void 0,r)}const u2=new RegExp("[~\\*/\\[\\]]");function Rm(s,t,r){if(t.search(u2)>=0)throw wc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,r);try{return new $c(...t.split("."))._internalPath}catch{throw wc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,r)}}function wc(s,t,r,a,l){const u=a&&!a.isEmpty(),h=l!==void 0;let f=`Function ${t}() called with invalid data`;r&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(u||h)&&(_+=" (found",u&&(_+=` in field ${a}`),h&&(_+=` in document ${l}`),_+=")"),new ve(ae.INVALID_ARGUMENT,f+s+_)}function u0(s,t){return s.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(t,r,a,l,u){this._firestore=t,this._userDataWriter=r,this._key=a,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new c2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(f0("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class c2 extends c0{data(){return super.data()}}function f0(s,t){return typeof t=="string"?Rm(s,t):t instanceof $c?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ve(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class f2{convertValue(t,r="none"){switch(xi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return mt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(Ri(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw we(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const a={};return Ii(t,(l,u)=>{a[l]=this.convertValue(u,r)}),a}convertVectorValue(t){var r,a,l;const u=(l=(a=(r=t.fields)===null||r===void 0?void 0:r[dc].arrayValue)===null||a===void 0?void 0:a.values)===null||l===void 0?void 0:l.map(h=>mt(h.doubleValue));return new Tm(u)}convertGeoPoint(t){return new Em(mt(t.latitude),mt(t.longitude))}convertArray(t,r){return(t.values||[]).map(a=>this.convertValue(a,r))}convertServerTimestamp(t,r){switch(r){case"previous":const a=Cc(t);return a==null?null:this.convertValue(a,r);case"estimate":return this.convertTimestamp(ul(t));default:return null}}convertTimestamp(t){const r=Si(t);return new Rt(r.seconds,r.nanos)}convertDocumentKey(t,r){const a=it.fromString(t);He(Vb(a),9688,{name:t});const l=new cl(a.get(1),a.get(3)),u=new _e(a.popFirst(5));return l.isEqual(r)||zr(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(s,t,r){let a;return a=s?s.toFirestore(t):t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class m0 extends c0{constructor(t,r,a,l,u,h){super(t,r,a,l,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const a=this._document.data.field(f0("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}}class sc extends m0{data(t={}){return super.data(t)}}class p0{constructor(t,r,a,l){this._firestore=t,this._userDataWriter=r,this._snapshot=l,this.metadata=new Wo(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(a=>{t.call(r,new sc(this._firestore,this._userDataWriter,a.key,a,new Wo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ve(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(l,u){if(l._snapshot.oldDocs.isEmpty()){let h=0;return l._snapshot.docChanges.map(f=>{const _=new sc(l._firestore,l._userDataWriter,f.doc.key,f.doc,new Wo(l._snapshot.mutatedKeys.has(f.doc.key),l._snapshot.fromCache),l.query.converter);return f.doc,{type:"added",doc:_,oldIndex:-1,newIndex:h++}})}{let h=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(f=>u||f.type!==3).map(f=>{const _=new sc(l._firestore,l._userDataWriter,f.doc.key,f.doc,new Wo(l._snapshot.mutatedKeys.has(f.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,w=-1;return f.type!==0&&(v=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),w=h.indexOf(f.doc.key)),{type:h2(f.type),doc:_,oldIndex:v,newIndex:w}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function h2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(s){s=an(s,Wt);const t=an(s.firestore,Br);return JR(zc(t),s._key).then(r=>y0(t,s,r))}class xm extends f2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Oa(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Wt(this.firestore,null,r)}}function Oi(s){s=an(s,El);const t=an(s.firestore,Br),r=zc(t),a=new xm(t);return h0(s._query),WR(r,s._query).then(l=>new p0(t,a,s,l))}function ud(s,t,r){s=an(s,Wt);const a=an(s.firestore,Br),l=d0(s.converter,t);return Fc(a,[a0(Am(a),"setDoc",s._key,l,s.converter!==null,r).toMutation(s._key,In.none())])}function d2(s,t,r,...a){s=an(s,Wt);const l=an(s.firestore,Br),u=Am(l);let h;return h=typeof(t=Pr(t))=="string"||t instanceof $c?l2(u,"updateDoc",s._key,t,r,a):o2(u,"updateDoc",s._key,t),Fc(l,[h.toMutation(s._key,In.exists(!0))])}function Hc(s){return Fc(an(s.firestore,Br),[new Jd(s._key,In.none())])}function g0(s,t){const r=an(s.firestore,Br),a=bs(s),l=d0(s.converter,t);return Fc(r,[a0(Am(s.firestore),"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,In.exists(!1))]).then(()=>a)}function m2(s,...t){var r,a,l;s=Pr(s);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof t[h]!="object"||l_(t[h])||(u=t[h],h++);const f={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(l_(t[h])){const m=t[h];t[h]=(r=m.next)===null||r===void 0?void 0:r.bind(m),t[h+1]=(a=m.error)===null||a===void 0?void 0:a.bind(m),t[h+2]=(l=m.complete)===null||l===void 0?void 0:l.bind(m)}let _,v,w;if(s instanceof Wt)v=an(s.firestore,Br),w=Oc(s._key.path),_={next:m=>{t[h]&&t[h](y0(v,s,m))},error:t[h+1],complete:t[h+2]};else{const m=an(s,El);v=an(m.firestore,Br),w=m._query;const p=new xm(v);_={next:b=>{t[h]&&t[h](new p0(v,p,m,b))},error:t[h+1],complete:t[h+2]},h0(s._query)}return function(p,b,g,y){const R=new vm(y),E=new pm(b,R,g);return p.asyncQueue.enqueueAndForget(async()=>hm(await Tc(p),E)),()=>{R.Cu(),p.asyncQueue.enqueueAndForget(async()=>dm(await Tc(p),E))}}(zc(v),w,f,_)}function Fc(s,t){return function(a,l){const u=new Lr;return a.asyncQueue.enqueueAndForget(async()=>zR(await ZR(a),l,u)),u.promise}(zc(s),t)}function y0(s,t,r){const a=r.docs.get(t._key),l=new xm(s);return new m0(s,l,t._key,a,new Wo(r.hasPendingWrites,r.fromCache),t.converter)}(function(t,r=!0){(function(l){Va=l})(Kw),cc(new al("firestore",(a,{instanceIdentifier:l,options:u})=>{const h=a.getProvider("app").getImmediate(),f=new Br(new uA(a.getProvider("auth-internal")),new hA(h,a.getProvider("app-check-internal")),function(v,w){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ve(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cl(v.options.projectId,w)}(h,l),h);return u=Object.assign({useFetchStreams:r},u),f._setSettings(u),f},"PUBLIC").setMultipleInstances(!0)),Ta(hv,dv,t),Ta(hv,dv,"esm2017")})();var p2="firebase",g2="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ta(p2,g2,"app");const y2={apiKey:"AIzaSyCMtFe0M69-puSlL2UMbPsbleTnxS7uBsU",authDomain:"test-6059a.firebaseapp.com",projectId:"test-6059a",storageBucket:"test-6059a.firebasestorage.app",messagingSenderId:"260946442221",appId:"1:260946442221:web:66c83a539fd263550859e4",measurementId:"G-M3HT40EJP5"},v2=j_(y2),Yt=n2(v2);var cd={exports:{}},c_;function _2(){return c_||(c_=1,function(s,t){(function(r,a){s.exports=a()})(self,()=>{return r={7629:(l,u,h)=>{const f=h(375),_=h(8571),v=h(9474),w=h(1687),m=h(8652),p=h(8160),b=h(3292),g=h(6354),y=h(8901),R=h(9708),E=h(6914),S=h(2294),D=h(6133),M=h(1152),k=h(8863),z=h(2036),N={Base:class{constructor(A){this.type=A,this.$_root=null,this._definition={},this._reset()}_reset(){this._ids=new S.Ids,this._preferences=null,this._refs=new D.Manager,this._cache=null,this._valids=null,this._invalids=null,this._flags={},this._rules=[],this._singleRules=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}}describe(){return f(typeof R.describe=="function","Manifest functionality disabled"),R.describe(this)}allow(...A){return p.verifyFlat(A,"allow"),this._values(A,"_valids")}alter(A){f(A&&typeof A=="object"&&!Array.isArray(A),"Invalid targets argument"),f(!this._inRuleset(),"Cannot set alterations inside a ruleset");const C=this.clone();C.$_terms.alterations=C.$_terms.alterations||[];for(const O in A){const L=A[O];f(typeof L=="function","Alteration adjuster for",O,"must be a function"),C.$_terms.alterations.push({target:O,adjuster:L})}return C.$_temp.ruleset=!1,C}artifact(A){return f(A!==void 0,"Artifact cannot be undefined"),f(!this._cache,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",A)}cast(A){return f(A===!1||typeof A=="string","Invalid to value"),f(A===!1||this._definition.cast[A],"Type",this.type,"does not support casting to",A),this.$_setFlag("cast",A===!1?void 0:A)}default(A,C){return this._default("default",A,C)}description(A){return f(A&&typeof A=="string","Description must be a non-empty string"),this.$_setFlag("description",A)}empty(A){const C=this.clone();return A!==void 0&&(A=C.$_compile(A,{override:!1})),C.$_setFlag("empty",A,{clone:!1})}error(A){return f(A,"Missing error"),f(A instanceof Error||typeof A=="function","Must provide a valid Error object or a function"),this.$_setFlag("error",A)}example(A,C={}){return f(A!==void 0,"Missing example"),p.assertOptions(C,["override"]),this._inner("examples",A,{single:!0,override:C.override})}external(A,C){return typeof A=="object"&&(f(!C,"Cannot combine options with description"),C=A.description,A=A.method),f(typeof A=="function","Method must be a function"),f(C===void 0||C&&typeof C=="string","Description must be a non-empty string"),this._inner("externals",{method:A,description:C},{single:!0})}failover(A,C){return this._default("failover",A,C)}forbidden(){return this.presence("forbidden")}id(A){return A?(f(typeof A=="string","id must be a non-empty string"),f(/^[^\.]+$/.test(A),"id cannot contain period character"),this.$_setFlag("id",A)):this.$_setFlag("id",void 0)}invalid(...A){return this._values(A,"_invalids")}label(A){return f(A&&typeof A=="string","Label name must be a non-empty string"),this.$_setFlag("label",A)}meta(A){return f(A!==void 0,"Meta cannot be undefined"),this._inner("metas",A,{single:!0})}note(...A){f(A.length,"Missing notes");for(const C of A)f(C&&typeof C=="string","Notes must be non-empty strings");return this._inner("notes",A)}only(A=!0){return f(typeof A=="boolean","Invalid mode:",A),this.$_setFlag("only",A)}optional(){return this.presence("optional")}prefs(A){f(A,"Missing preferences"),f(A.context===void 0,"Cannot override context"),f(A.externals===void 0,"Cannot override externals"),f(A.warnings===void 0,"Cannot override warnings"),f(A.debug===void 0,"Cannot override debug"),p.checkPreferences(A);const C=this.clone();return C._preferences=p.preferences(C._preferences,A),C}presence(A){return f(["optional","required","forbidden"].includes(A),"Unknown presence mode",A),this.$_setFlag("presence",A)}raw(A=!0){return this.$_setFlag("result",A?"raw":void 0)}result(A){return f(["raw","strip"].includes(A),"Unknown result mode",A),this.$_setFlag("result",A)}required(){return this.presence("required")}strict(A){const C=this.clone(),O=A!==void 0&&!A;return C._preferences=p.preferences(C._preferences,{convert:O}),C}strip(A=!0){return this.$_setFlag("result",A?"strip":void 0)}tag(...A){f(A.length,"Missing tags");for(const C of A)f(C&&typeof C=="string","Tags must be non-empty strings");return this._inner("tags",A)}unit(A){return f(A&&typeof A=="string","Unit name must be a non-empty string"),this.$_setFlag("unit",A)}valid(...A){p.verifyFlat(A,"valid");const C=this.allow(...A);return C.$_setFlag("only",!!C._valids,{clone:!1}),C}when(A,C){const O=this.clone();O.$_terms.whens||(O.$_terms.whens=[]);const L=b.when(O,A,C);if(!["any","link"].includes(O.type)){const $=L.is?[L]:L.switch;for(const P of $)f(!P.then||P.then.type==="any"||P.then.type===O.type,"Cannot combine",O.type,"with",P.then&&P.then.type),f(!P.otherwise||P.otherwise.type==="any"||P.otherwise.type===O.type,"Cannot combine",O.type,"with",P.otherwise&&P.otherwise.type)}return O.$_terms.whens.push(L),O.$_mutateRebuild()}cache(A){f(!this._inRuleset(),"Cannot set caching inside a ruleset"),f(!this._cache,"Cannot override schema cache"),f(this._flags.artifact===void 0,"Cannot cache a rule with an artifact");const C=this.clone();return C._cache=A||m.provider.provision(),C.$_temp.ruleset=!1,C}clone(){const A=Object.create(Object.getPrototypeOf(this));return this._assign(A)}concat(A){f(p.isSchema(A),"Invalid schema object"),f(this.type==="any"||A.type==="any"||A.type===this.type,"Cannot merge type",this.type,"with another type:",A.type),f(!this._inRuleset(),"Cannot concatenate onto a schema with open ruleset"),f(!A._inRuleset(),"Cannot concatenate a schema with open ruleset");let C=this.clone();if(this.type==="any"&&A.type!=="any"){const O=A.clone();for(const L of Object.keys(C))L!=="type"&&(O[L]=C[L]);C=O}C._ids.concat(A._ids),C._refs.register(A,D.toSibling),C._preferences=C._preferences?p.preferences(C._preferences,A._preferences):A._preferences,C._valids=z.merge(C._valids,A._valids,A._invalids),C._invalids=z.merge(C._invalids,A._invalids,A._valids);for(const O of A._singleRules.keys())C._singleRules.has(O)&&(C._rules=C._rules.filter(L=>L.keep||L.name!==O),C._singleRules.delete(O));for(const O of A._rules)A._definition.rules[O.method].multi||C._singleRules.set(O.name,O),C._rules.push(O);if(C._flags.empty&&A._flags.empty){C._flags.empty=C._flags.empty.concat(A._flags.empty);const O=Object.assign({},A._flags);delete O.empty,w(C._flags,O)}else if(A._flags.empty){C._flags.empty=A._flags.empty;const O=Object.assign({},A._flags);delete O.empty,w(C._flags,O)}else w(C._flags,A._flags);for(const O in A.$_terms){const L=A.$_terms[O];L?C.$_terms[O]?C.$_terms[O]=C.$_terms[O].concat(L):C.$_terms[O]=L.slice():C.$_terms[O]||(C.$_terms[O]=L)}return this.$_root._tracer&&this.$_root._tracer._combine(C,[this,A]),C.$_mutateRebuild()}extend(A){return f(!A.base,"Cannot extend type with another base"),y.type(this,A)}extract(A){return A=Array.isArray(A)?A:A.split("."),this._ids.reach(A)}fork(A,C){f(!this._inRuleset(),"Cannot fork inside a ruleset");let O=this;for(let L of[].concat(A))L=Array.isArray(L)?L:L.split("."),O=O._ids.fork(L,C,O);return O.$_temp.ruleset=!1,O}rule(A){const C=this._definition;p.assertOptions(A,Object.keys(C.modifiers)),f(this.$_temp.ruleset!==!1,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");const O=this.$_temp.ruleset===null?this._rules.length-1:this.$_temp.ruleset;f(O>=0&&O<this._rules.length,"Cannot apply rules to empty ruleset");const L=this.clone();for(let $=O;$<L._rules.length;++$){const P=L._rules[$],fe=_(P);for(const he in A)C.modifiers[he](fe,A[he]),f(fe.name===P.name,"Cannot change rule name");L._rules[$]=fe,L._singleRules.get(fe.name)===P&&L._singleRules.set(fe.name,fe)}return L.$_temp.ruleset=!1,L.$_mutateRebuild()}get ruleset(){f(!this._inRuleset(),"Cannot start a new ruleset without closing the previous one");const A=this.clone();return A.$_temp.ruleset=A._rules.length,A}get $(){return this.ruleset}tailor(A){A=[].concat(A),f(!this._inRuleset(),"Cannot tailor inside a ruleset");let C=this;if(this.$_terms.alterations)for(const{target:O,adjuster:L}of this.$_terms.alterations)A.includes(O)&&(C=L(C),f(p.isSchema(C),"Alteration adjuster for",O,"failed to return a schema object"));return C=C.$_modify({each:O=>O.tailor(A),ref:!1}),C.$_temp.ruleset=!1,C.$_mutateRebuild()}tracer(){return M.location?M.location(this):this}validate(A,C){return k.entry(A,this,C)}validateAsync(A,C){return k.entryAsync(A,this,C)}$_addRule(A){typeof A=="string"&&(A={name:A}),f(A&&typeof A=="object","Invalid options"),f(A.name&&typeof A.name=="string","Invalid rule name");for(const P in A)f(P[0]!=="_","Cannot set private rule properties");const C=Object.assign({},A);C._resolve=[],C.method=C.method||C.name;const O=this._definition.rules[C.method],L=C.args;f(O,"Unknown rule",C.method);const $=this.clone();if(L){f(Object.keys(L).length===1||Object.keys(L).length===this._definition.rules[C.name].args.length,"Invalid rule definition for",this.type,C.name);for(const P in L){let fe=L[P];if(O.argsByName){const he=O.argsByName.get(P);if(he.ref&&p.isResolvable(fe))C._resolve.push(P),$.$_mutateRegister(fe);else if(he.normalize&&(fe=he.normalize(fe),L[P]=fe),he.assert){const K=p.validateArg(fe,P,he);f(!K,K,"or reference")}}fe!==void 0?L[P]=fe:delete L[P]}}return O.multi||($._ruleRemove(C.name,{clone:!1}),$._singleRules.set(C.name,C)),$.$_temp.ruleset===!1&&($.$_temp.ruleset=null),O.priority?$._rules.unshift(C):$._rules.push(C),$}$_compile(A,C){return b.schema(this.$_root,A,C)}$_createError(A,C,O,L,$,P={}){const fe=P.flags!==!1?this._flags:{},he=P.messages?E.merge(this._definition.messages,P.messages):this._definition.messages;return new g.Report(A,C,O,fe,he,L,$)}$_getFlag(A){return this._flags[A]}$_getRule(A){return this._singleRules.get(A)}$_mapLabels(A){return A=Array.isArray(A)?A:A.split("."),this._ids.labels(A)}$_match(A,C,O,L){(O=Object.assign({},O)).abortEarly=!0,O._externals=!1,C.snapshot();const $=!k.validate(A,this,C,O,L).errors;return C.restore(),$}$_modify(A){return p.assertOptions(A,["each","once","ref","schema"]),S.schema(this,A)||this}$_mutateRebuild(){return f(!this._inRuleset(),"Cannot add this rule inside a ruleset"),this._refs.reset(),this._ids.reset(),this.$_modify({each:(A,{source:C,name:O,path:L,key:$})=>{const P=this._definition[C][O]&&this._definition[C][O].register;P!==!1&&this.$_mutateRegister(A,{family:P,key:$})}}),this._definition.rebuild&&this._definition.rebuild(this),this.$_temp.ruleset=!1,this}$_mutateRegister(A,{family:C,key:O}={}){this._refs.register(A,C),this._ids.register(A,{key:O})}$_property(A){return this._definition.properties[A]}$_reach(A){return this._ids.reach(A)}$_rootReferences(){return this._refs.roots()}$_setFlag(A,C,O={}){f(A[0]==="_"||!this._inRuleset(),"Cannot set flag inside a ruleset");const L=this._definition.flags[A]||{};if(v(C,L.default)&&(C=void 0),v(C,this._flags[A]))return this;const $=O.clone!==!1?this.clone():this;return C!==void 0?($._flags[A]=C,$.$_mutateRegister(C)):delete $._flags[A],A[0]!=="_"&&($.$_temp.ruleset=!1),$}$_parent(A,...C){return this[A][p.symbols.parent].call(this,...C)}$_validate(A,C,O){return k.validate(A,this,C,O)}_assign(A){A.type=this.type,A.$_root=this.$_root,A.$_temp=Object.assign({},this.$_temp),A.$_temp.whens={},A._ids=this._ids.clone(),A._preferences=this._preferences,A._valids=this._valids&&this._valids.clone(),A._invalids=this._invalids&&this._invalids.clone(),A._rules=this._rules.slice(),A._singleRules=_(this._singleRules,{shallow:!0}),A._refs=this._refs.clone(),A._flags=Object.assign({},this._flags),A._cache=null,A.$_terms={};for(const C in this.$_terms)A.$_terms[C]=this.$_terms[C]?this.$_terms[C].slice():null;A.$_super={};for(const C in this.$_super)A.$_super[C]=this._super[C].bind(A);return A}_bare(){const A=this.clone();A._reset();const C=A._definition.terms;for(const O in C){const L=C[O];A.$_terms[O]=L.init}return A.$_mutateRebuild()}_default(A,C,O={}){return p.assertOptions(O,"literal"),f(C!==void 0,"Missing",A,"value"),f(typeof C=="function"||!O.literal,"Only function value supports literal option"),typeof C=="function"&&O.literal&&(C={[p.symbols.literal]:!0,literal:C}),this.$_setFlag(A,C)}_generate(A,C,O){if(!this.$_terms.whens)return{schema:this};const L=[],$=[];for(let he=0;he<this.$_terms.whens.length;++he){const K=this.$_terms.whens[he];if(K.concat){L.push(K.concat),$.push(`${he}.concat`);continue}const se=K.ref?K.ref.resolve(A,C,O):A,de=K.is?[K]:K.switch,Se=$.length;for(let q=0;q<de.length;++q){const{is:W,then:le,otherwise:oe}=de[q],ge=`${he}${K.switch?"."+q:""}`;if(W.$_match(se,C.nest(W,`${ge}.is`),O)){if(le){const xe=C.localize([...C.path,`${ge}.then`],C.ancestors,C.schemas),{schema:Ee,id:tt}=le._generate(A,xe,O);L.push(Ee),$.push(`${ge}.then${tt?`(${tt})`:""}`);break}}else if(oe){const xe=C.localize([...C.path,`${ge}.otherwise`],C.ancestors,C.schemas),{schema:Ee,id:tt}=oe._generate(A,xe,O);L.push(Ee),$.push(`${ge}.otherwise${tt?`(${tt})`:""}`);break}}if(K.break&&$.length>Se)break}const P=$.join(", ");if(C.mainstay.tracer.debug(C,"rule","when",P),!P)return{schema:this};if(!C.mainstay.tracer.active&&this.$_temp.whens[P])return{schema:this.$_temp.whens[P],id:P};let fe=this;this._definition.generate&&(fe=this._definition.generate(this,A,C,O));for(const he of L)fe=fe.concat(he);return this.$_root._tracer&&this.$_root._tracer._combine(fe,[this,...L]),this.$_temp.whens[P]=fe,{schema:fe,id:P}}_inner(A,C,O={}){f(!this._inRuleset(),`Cannot set ${A} inside a ruleset`);const L=this.clone();return L.$_terms[A]&&!O.override||(L.$_terms[A]=[]),O.single?L.$_terms[A].push(C):L.$_terms[A].push(...C),L.$_temp.ruleset=!1,L}_inRuleset(){return this.$_temp.ruleset!==null&&this.$_temp.ruleset!==!1}_ruleRemove(A,C={}){if(!this._singleRules.has(A))return this;const O=C.clone!==!1?this.clone():this;O._singleRules.delete(A);const L=[];for(let $=0;$<O._rules.length;++$){const P=O._rules[$];P.name!==A||P.keep?L.push(P):O._inRuleset()&&$<O.$_temp.ruleset&&--O.$_temp.ruleset}return O._rules=L,O}_values(A,C){p.verifyFlat(A,C.slice(1,-1));const O=this.clone(),L=A[0]===p.symbols.override;if(L&&(A=A.slice(1)),!O[C]&&A.length?O[C]=new z:L&&(O[C]=A.length?new z:null,O.$_mutateRebuild()),!O[C])return O;L&&O[C].override();for(const $ of A){f($!==void 0,"Cannot call allow/valid/invalid with undefined"),f($!==p.symbols.override,"Override must be the first value");const P=C==="_invalids"?"_valids":"_invalids";O[P]&&(O[P].remove($),O[P].length||(f(C==="_valids"||!O._flags.only,"Setting invalid value",$,"leaves schema rejecting all values due to previous valid rule"),O[P]=null)),O[C].add($,O._refs)}return O}}};N.Base.prototype[p.symbols.any]={version:p.version,compile:b.compile,root:"$_root"},N.Base.prototype.isImmutable=!0,N.Base.prototype.deny=N.Base.prototype.invalid,N.Base.prototype.disallow=N.Base.prototype.invalid,N.Base.prototype.equal=N.Base.prototype.valid,N.Base.prototype.exist=N.Base.prototype.required,N.Base.prototype.not=N.Base.prototype.invalid,N.Base.prototype.options=N.Base.prototype.prefs,N.Base.prototype.preferences=N.Base.prototype.prefs,l.exports=new N.Base},8652:(l,u,h)=>{const f=h(375),_=h(8571),v=h(8160),w={max:1e3,supported:new Set(["undefined","boolean","number","string"])};u.provider={provision:m=>new w.Cache(m)},w.Cache=class{constructor(m={}){v.assertOptions(m,["max"]),f(m.max===void 0||m.max&&m.max>0&&isFinite(m.max),"Invalid max cache size"),this._max=m.max||w.max,this._map=new Map,this._list=new w.List}get length(){return this._map.size}set(m,p){if(m!==null&&!w.supported.has(typeof m))return;let b=this._map.get(m);if(b)return b.value=p,void this._list.first(b);b=this._list.unshift({key:m,value:p}),this._map.set(m,b),this._compact()}get(m){const p=this._map.get(m);if(p)return this._list.first(p),_(p.value)}_compact(){if(this._map.size>this._max){const m=this._list.pop();this._map.delete(m.key)}}},w.List=class{constructor(){this.tail=null,this.head=null}unshift(m){return m.next=null,m.prev=this.head,this.head&&(this.head.next=m),this.head=m,this.tail||(this.tail=m),m}first(m){m!==this.head&&(this._remove(m),this.unshift(m))}pop(){return this._remove(this.tail)}_remove(m){const{next:p,prev:b}=m;return p.prev=b,b&&(b.next=p),m===this.tail&&(this.tail=p),m.prev=null,m.next=null,m}}},8160:(l,u,h)=>{const f=h(375),_=h(7916),v=h(5934);let w,m;const p={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};u.version=v.version,u.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},u.symbols={any:Symbol.for("@hapi/joi/schema"),arraySingle:Symbol("arraySingle"),deepDefault:Symbol("deepDefault"),errors:Symbol("errors"),literal:Symbol("literal"),override:Symbol("override"),parent:Symbol("parent"),prefs:Symbol("prefs"),ref:Symbol("ref"),template:Symbol("template"),values:Symbol("values")},u.assertOptions=function(b,g,y="Options"){f(b&&typeof b=="object"&&!Array.isArray(b),"Options must be of type object");const R=Object.keys(b).filter(E=>!g.includes(E));f(R.length===0,`${y} contain unknown keys: ${R}`)},u.checkPreferences=function(b){m=m||h(3378);const g=m.preferences.validate(b);if(g.error)throw new _([g.error.details[0].message])},u.compare=function(b,g,y){switch(y){case"=":return b===g;case">":return b>g;case"<":return b<g;case">=":return b>=g;case"<=":return b<=g}},u.default=function(b,g){return b===void 0?g:b},u.isIsoDate=function(b){return p.isoDate.test(b)},u.isNumber=function(b){return typeof b=="number"&&!isNaN(b)},u.isResolvable=function(b){return!!b&&(b[u.symbols.ref]||b[u.symbols.template])},u.isSchema=function(b,g={}){const y=b&&b[u.symbols.any];return!!y&&(f(g.legacy||y.version===u.version,"Cannot mix different versions of joi schemas"),!0)},u.isValues=function(b){return b[u.symbols.values]},u.limit=function(b){return Number.isSafeInteger(b)&&b>=0},u.preferences=function(b,g){w=w||h(6914),b=b||{},g=g||{};const y=Object.assign({},b,g);return g.errors&&b.errors&&(y.errors=Object.assign({},b.errors,g.errors),y.errors.wrap=Object.assign({},b.errors.wrap,g.errors.wrap)),g.messages&&(y.messages=w.compile(g.messages,b.messages)),delete y[u.symbols.prefs],y},u.tryWithPath=function(b,g,y={}){try{return b()}catch(R){throw R.path!==void 0?R.path=g+"."+R.path:R.path=g,y.append&&(R.message=`${R.message} (${R.path})`),R}},u.validateArg=function(b,g,{assert:y,message:R}){if(u.isSchema(y)){const E=y.validate(b);return E.error?E.error.message:void 0}if(!y(b))return g?`${g} ${R}`:R},u.verifyFlat=function(b,g){for(const y of b)f(!Array.isArray(y),"Method no longer accepts array arguments:",g)}},3292:(l,u,h)=>{const f=h(375),_=h(8160),v=h(6133),w={};u.schema=function(m,p,b={}){_.assertOptions(b,["appendPath","override"]);try{return w.schema(m,p,b)}catch(g){throw b.appendPath&&g.path!==void 0&&(g.message=`${g.message} (${g.path})`),g}},w.schema=function(m,p,b){f(p!==void 0,"Invalid undefined schema"),Array.isArray(p)&&(f(p.length,"Invalid empty array schema"),p.length===1&&(p=p[0]));const g=(y,...R)=>b.override!==!1?y.valid(m.override,...R):y.valid(...R);if(w.simple(p))return g(m,p);if(typeof p=="function")return m.custom(p);if(f(typeof p=="object","Invalid schema content:",typeof p),_.isResolvable(p))return g(m,p);if(_.isSchema(p))return p;if(Array.isArray(p)){for(const y of p)if(!w.simple(y))return m.alternatives().try(...p);return g(m,...p)}return p instanceof RegExp?m.string().regex(p):p instanceof Date?g(m.date(),p):(f(Object.getPrototypeOf(p)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),m.object().keys(p))},u.ref=function(m,p){return v.isRef(m)?m:v.create(m,p)},u.compile=function(m,p,b={}){_.assertOptions(b,["legacy"]);const g=p&&p[_.symbols.any];if(g)return f(b.legacy||g.version===_.version,"Cannot mix different versions of joi schemas:",g.version,_.version),p;if(typeof p!="object"||!b.legacy)return u.schema(m,p,{appendPath:!0});const y=w.walk(p);return y?y.compile(y.root,p):u.schema(m,p,{appendPath:!0})},w.walk=function(m){if(typeof m!="object")return null;if(Array.isArray(m)){for(const b of m){const g=w.walk(b);if(g)return g}return null}const p=m[_.symbols.any];if(p)return{root:m[p.root],compile:p.compile};f(Object.getPrototypeOf(m)===Object.getPrototypeOf({}),"Schema can only contain plain objects");for(const b in m){const g=w.walk(m[b]);if(g)return g}return null},w.simple=function(m){return m===null||["boolean","string","number"].includes(typeof m)},u.when=function(m,p,b){if(b===void 0&&(f(p&&typeof p=="object","Missing options"),b=p,p=v.create(".")),Array.isArray(b)&&(b={switch:b}),_.assertOptions(b,["is","not","then","otherwise","switch","break"]),_.isSchema(p))return f(b.is===void 0,'"is" can not be used with a schema condition'),f(b.not===void 0,'"not" can not be used with a schema condition'),f(b.switch===void 0,'"switch" can not be used with a schema condition'),w.condition(m,{is:p,then:b.then,otherwise:b.otherwise,break:b.break});if(f(v.isRef(p)||typeof p=="string","Invalid condition:",p),f(b.not===void 0||b.is===void 0,'Cannot combine "is" with "not"'),b.switch===void 0){let y=b;b.not!==void 0&&(y={is:b.not,then:b.otherwise,otherwise:b.then,break:b.break});let R=y.is!==void 0?m.$_compile(y.is):m.$_root.invalid(null,!1,0,"").required();return f(y.then!==void 0||y.otherwise!==void 0,'options must have at least one of "then", "otherwise", or "switch"'),f(y.break===void 0||y.then===void 0||y.otherwise===void 0,"Cannot specify then, otherwise, and break all together"),b.is===void 0||v.isRef(b.is)||_.isSchema(b.is)||(R=R.required()),w.condition(m,{ref:u.ref(p),is:R,then:y.then,otherwise:y.otherwise,break:y.break})}f(Array.isArray(b.switch),'"switch" must be an array'),f(b.is===void 0,'Cannot combine "switch" with "is"'),f(b.not===void 0,'Cannot combine "switch" with "not"'),f(b.then===void 0,'Cannot combine "switch" with "then"');const g={ref:u.ref(p),switch:[],break:b.break};for(let y=0;y<b.switch.length;++y){const R=b.switch[y],E=y===b.switch.length-1;_.assertOptions(R,E?["is","then","otherwise"]:["is","then"]),f(R.is!==void 0,'Switch statement missing "is"'),f(R.then!==void 0,'Switch statement missing "then"');const S={is:m.$_compile(R.is),then:m.$_compile(R.then)};if(v.isRef(R.is)||_.isSchema(R.is)||(S.is=S.is.required()),E){f(b.otherwise===void 0||R.otherwise===void 0,'Cannot specify "otherwise" inside and outside a "switch"');const D=b.otherwise!==void 0?b.otherwise:R.otherwise;D!==void 0&&(f(g.break===void 0,"Cannot specify both otherwise and break"),S.otherwise=m.$_compile(D))}g.switch.push(S)}return g},w.condition=function(m,p){for(const b of["then","otherwise"])p[b]===void 0?delete p[b]:p[b]=m.$_compile(p[b]);return p}},6354:(l,u,h)=>{const f=h(5688),_=h(8160),v=h(3328);u.Report=class{constructor(w,m,p,b,g,y,R){if(this.code=w,this.flags=b,this.messages=g,this.path=y.path,this.prefs=R,this.state=y,this.value=m,this.message=null,this.template=null,this.local=p||{},this.local.label=u.label(this.flags,this.state,this.prefs,this.messages),this.value===void 0||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){const E=this.path[this.path.length-1];typeof E!="object"&&(this.local.key=E)}}_setTemplate(w){if(this.template=w,!this.flags.label&&this.path.length===0){const m=this._template(this.template,"root");m&&(this.local.label=m)}}toString(){if(this.message)return this.message;const w=this.code;if(!this.prefs.errors.render)return this.code;const m=this._template(this.template)||this._template(this.prefs.messages)||this._template(this.messages);return m===void 0?`Error code "${w}" is not defined, your custom type is missing the correct messages definition`:(this.message=m.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)}_template(w,m){return u.template(this.value,w,m||this.code,this.state,this.prefs)}},u.path=function(w){let m="";for(const p of w)typeof p!="object"&&(typeof p=="string"?(m&&(m+="."),m+=p):m+=`[${p}]`);return m},u.template=function(w,m,p,b,g){if(!m)return;if(v.isTemplate(m))return p!=="root"?m:null;let y=g.errors.language;if(_.isResolvable(y)&&(y=y.resolve(w,b,g)),y&&m[y]){if(m[y][p]!==void 0)return m[y][p];if(m[y]["*"]!==void 0)return m[y]["*"]}return m[p]?m[p]:m["*"]},u.label=function(w,m,p,b){if(!p.errors.label)return"";if(w.label)return w.label;let g=m.path;return p.errors.label==="key"&&m.path.length>1&&(g=m.path.slice(-1)),u.path(g)||u.template(null,p.messages,"root",m,p)||b&&u.template(null,b,"root",m,p)||"value"},u.process=function(w,m,p){if(!w)return null;const{override:b,message:g,details:y}=u.details(w);if(b)return b;if(p.errors.stack)return new u.ValidationError(g,y,m);const R=Error.stackTraceLimit;Error.stackTraceLimit=0;const E=new u.ValidationError(g,y,m);return Error.stackTraceLimit=R,E},u.details=function(w,m={}){let p=[];const b=[];for(const g of w){if(g instanceof Error){if(m.override!==!1)return{override:g};const R=g.toString();p.push(R),b.push({message:R,type:"override",context:{error:g}});continue}const y=g.toString();p.push(y),b.push({message:y,path:g.path.filter(R=>typeof R!="object"),type:g.code,context:g.local})}return p.length>1&&(p=[...new Set(p)]),{message:p.join(". "),details:b}},u.ValidationError=class extends Error{constructor(w,m,p){super(w),this._original=p,this.details=m}static isError(w){return w instanceof u.ValidationError}},u.ValidationError.prototype.isJoi=!0,u.ValidationError.prototype.name="ValidationError",u.ValidationError.prototype.annotate=f.error},8901:(l,u,h)=>{const f=h(375),_=h(8571),v=h(8160),w=h(6914),m={};u.type=function(p,b){const g=Object.getPrototypeOf(p),y=_(g),R=p._assign(Object.create(y)),E=Object.assign({},b);delete E.base,y._definition=E;const S=g._definition||{};E.messages=w.merge(S.messages,E.messages),E.properties=Object.assign({},S.properties,E.properties),R.type=E.type,E.flags=Object.assign({},S.flags,E.flags);const D=Object.assign({},S.terms);if(E.terms)for(const N in E.terms){const A=E.terms[N];f(R.$_terms[N]===void 0,"Invalid term override for",E.type,N),R.$_terms[N]=A.init,D[N]=A}E.terms=D,E.args||(E.args=S.args),E.prepare=m.prepare(E.prepare,S.prepare),E.coerce&&(typeof E.coerce=="function"&&(E.coerce={method:E.coerce}),E.coerce.from&&!Array.isArray(E.coerce.from)&&(E.coerce={method:E.coerce.method,from:[].concat(E.coerce.from)})),E.coerce=m.coerce(E.coerce,S.coerce),E.validate=m.validate(E.validate,S.validate);const M=Object.assign({},S.rules);if(E.rules)for(const N in E.rules){const A=E.rules[N];f(typeof A=="object","Invalid rule definition for",E.type,N);let C=A.method;if(C===void 0&&(C=function(){return this.$_addRule(N)}),C&&(f(!y[N],"Rule conflict in",E.type,N),y[N]=C),f(!M[N],"Rule conflict in",E.type,N),M[N]=A,A.alias){const O=[].concat(A.alias);for(const L of O)y[L]=A.method}A.args&&(A.argsByName=new Map,A.args=A.args.map(O=>(typeof O=="string"&&(O={name:O}),f(!A.argsByName.has(O.name),"Duplicated argument name",O.name),v.isSchema(O.assert)&&(O.assert=O.assert.strict().label(O.name)),A.argsByName.set(O.name,O),O)))}E.rules=M;const k=Object.assign({},S.modifiers);if(E.modifiers)for(const N in E.modifiers){f(!y[N],"Rule conflict in",E.type,N);const A=E.modifiers[N];f(typeof A=="function","Invalid modifier definition for",E.type,N);const C=function(O){return this.rule({[N]:O})};y[N]=C,k[N]=A}if(E.modifiers=k,E.overrides){y._super=g,R.$_super={};for(const N in E.overrides)f(g[N],"Cannot override missing",N),E.overrides[N][v.symbols.parent]=g[N],R.$_super[N]=g[N].bind(R);Object.assign(y,E.overrides)}E.cast=Object.assign({},S.cast,E.cast);const z=Object.assign({},S.manifest,E.manifest);return z.build=m.build(E.manifest&&E.manifest.build,S.manifest&&S.manifest.build),E.manifest=z,E.rebuild=m.rebuild(E.rebuild,S.rebuild),R},m.build=function(p,b){return p&&b?function(g,y){return b(p(g,y),y)}:p||b},m.coerce=function(p,b){return p&&b?{from:p.from&&b.from?[...new Set([...p.from,...b.from])]:null,method(g,y){let R;if((!b.from||b.from.includes(typeof g))&&(R=b.method(g,y),R)){if(R.errors||R.value===void 0)return R;g=R.value}if(!p.from||p.from.includes(typeof g)){const E=p.method(g,y);if(E)return E}return R}}:p||b},m.prepare=function(p,b){return p&&b?function(g,y){const R=p(g,y);if(R){if(R.errors||R.value===void 0)return R;g=R.value}return b(g,y)||R}:p||b},m.rebuild=function(p,b){return p&&b?function(g){b(g),p(g)}:p||b},m.validate=function(p,b){return p&&b?function(g,y){const R=b(g,y);if(R){if(R.errors&&(!Array.isArray(R.errors)||R.errors.length))return R;g=R.value}return p(g,y)||R}:p||b}},5107:(l,u,h)=>{const f=h(375),_=h(8571),v=h(8652),w=h(8160),m=h(3292),p=h(6354),b=h(8901),g=h(9708),y=h(6133),R=h(3328),E=h(1152);let S;const D={types:{alternatives:h(4946),any:h(8068),array:h(546),boolean:h(4937),date:h(7500),function:h(390),link:h(8785),number:h(3832),object:h(8966),string:h(7417),symbol:h(8826)},aliases:{alt:"alternatives",bool:"boolean",func:"function"},root:function(){const M={_types:new Set(Object.keys(D.types))};for(const k of M._types)M[k]=function(...z){return f(!z.length||["alternatives","link","object"].includes(k),"The",k,"type does not allow arguments"),D.generate(this,D.types[k],z)};for(const k of["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"])M[k]=function(...z){return this.any()[k](...z)};Object.assign(M,D.methods);for(const k in D.aliases){const z=D.aliases[k];M[k]=M[z]}return M.x=M.expression,E.setup&&E.setup(M),M}};D.methods={ValidationError:p.ValidationError,version:w.version,cache:v.provider,assert(M,k,...z){D.assert(M,k,!0,z)},attempt:(M,k,...z)=>D.assert(M,k,!1,z),build(M){return f(typeof g.build=="function","Manifest functionality disabled"),g.build(this,M)},checkPreferences(M){w.checkPreferences(M)},compile(M,k){return m.compile(this,M,k)},defaults(M){f(typeof M=="function","modifier must be a function");const k=Object.assign({},this);for(const z of k._types){const N=M(k[z]());f(w.isSchema(N),"modifier must return a valid schema object"),k[z]=function(...A){return D.generate(this,N,A)}}return k},expression:(...M)=>new R(...M),extend(...M){w.verifyFlat(M,"extend"),S=S||h(3378),f(M.length,"You need to provide at least one extension"),this.assert(M,S.extensions);const k=Object.assign({},this);k._types=new Set(k._types);for(let z of M){typeof z=="function"&&(z=z(k)),this.assert(z,S.extension);const N=D.expandExtension(z,k);for(const A of N){f(k[A.type]===void 0||k._types.has(A.type),"Cannot override name",A.type);const C=A.base||this.any(),O=b.type(C,A);k._types.add(A.type),k[A.type]=function(...L){return D.generate(this,O,L)}}}return k},isError:p.ValidationError.isError,isExpression:R.isTemplate,isRef:y.isRef,isSchema:w.isSchema,in:(...M)=>y.in(...M),override:w.symbols.override,ref:(...M)=>y.create(...M),types(){const M={};for(const k of this._types)M[k]=this[k]();for(const k in D.aliases)M[k]=this[k]();return M}},D.assert=function(M,k,z,N){const A=N[0]instanceof Error||typeof N[0]=="string"?N[0]:null,C=A!==null?N[1]:N[0],O=k.validate(M,w.preferences({errors:{stack:!0}},C||{}));let L=O.error;if(!L)return O.value;if(A instanceof Error)throw A;const $=z&&typeof L.annotate=="function"?L.annotate():L.message;throw L instanceof p.ValidationError==0&&(L=_(L)),L.message=A?`${A} ${$}`:$,L},D.generate=function(M,k,z){return f(M,"Must be invoked on a Joi instance."),k.$_root=M,k._definition.args&&z.length?k._definition.args(k,...z):k},D.expandExtension=function(M,k){if(typeof M.type=="string")return[M];const z=[];for(const N of k._types)if(M.type.test(N)){const A=Object.assign({},M);A.type=N,A.base=k[N](),z.push(A)}return z},l.exports=D.root()},6914:(l,u,h)=>{const f=h(375),_=h(8571),v=h(3328);u.compile=function(w,m){if(typeof w=="string")return f(!m,"Cannot set single message string"),new v(w);if(v.isTemplate(w))return f(!m,"Cannot set single message template"),w;f(typeof w=="object"&&!Array.isArray(w),"Invalid message options"),m=m?_(m):{};for(let p in w){const b=w[p];if(p==="root"||v.isTemplate(b)){m[p]=b;continue}if(typeof b=="string"){m[p]=new v(b);continue}f(typeof b=="object"&&!Array.isArray(b),"Invalid message for",p);const g=p;for(p in m[g]=m[g]||{},b){const y=b[p];p==="root"||v.isTemplate(y)?m[g][p]=y:(f(typeof y=="string","Invalid message for",p,"in",g),m[g][p]=new v(y))}}return m},u.decompile=function(w){const m={};for(let p in w){const b=w[p];if(p==="root"){m.root=b;continue}if(v.isTemplate(b)){m[p]=b.describe({compact:!0});continue}const g=p;for(p in m[g]={},b){const y=b[p];p!=="root"?m[g][p]=y.describe({compact:!0}):m[g].root=y}}return m},u.merge=function(w,m){if(!w)return u.compile(m);if(!m)return w;if(typeof m=="string")return new v(m);if(v.isTemplate(m))return m;const p=_(w);for(let b in m){const g=m[b];if(b==="root"||v.isTemplate(g)){p[b]=g;continue}if(typeof g=="string"){p[b]=new v(g);continue}f(typeof g=="object"&&!Array.isArray(g),"Invalid message for",b);const y=b;for(b in p[y]=p[y]||{},g){const R=g[b];b==="root"||v.isTemplate(R)?p[y][b]=R:(f(typeof R=="string","Invalid message for",b,"in",y),p[y][b]=new v(R))}}return p}},2294:(l,u,h)=>{const f=h(375),_=h(8160),v=h(6133),w={};u.Ids=w.Ids=class{constructor(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}clone(){const m=new w.Ids;return m._byId=new Map(this._byId),m._byKey=new Map(this._byKey),m._schemaChain=this._schemaChain,m}concat(m){m._schemaChain&&(this._schemaChain=!0);for(const[p,b]of m._byId.entries())f(!this._byKey.has(p),"Schema id conflicts with existing key:",p),this._byId.set(p,b);for(const[p,b]of m._byKey.entries())f(!this._byId.has(p),"Schema key conflicts with existing id:",p),this._byKey.set(p,b)}fork(m,p,b){const g=this._collect(m);g.push({schema:b});const y=g.shift();let R={id:y.id,schema:p(y.schema)};f(_.isSchema(R.schema),"adjuster function failed to return a joi schema type");for(const E of g)R={id:E.id,schema:w.fork(E.schema,R.id,R.schema)};return R.schema}labels(m,p=[]){const b=m[0],g=this._get(b);if(!g)return[...p,...m].join(".");const y=m.slice(1);return p=[...p,g.schema._flags.label||b],y.length?g.schema._ids.labels(y,p):p.join(".")}reach(m,p=[]){const b=m[0],g=this._get(b);f(g,"Schema does not contain path",[...p,...m].join("."));const y=m.slice(1);return y.length?g.schema._ids.reach(y,[...p,b]):g.schema}register(m,{key:p}={}){if(!m||!_.isSchema(m))return;(m.$_property("schemaChain")||m._ids._schemaChain)&&(this._schemaChain=!0);const b=m._flags.id;if(b){const g=this._byId.get(b);f(!g||g.schema===m,"Cannot add different schemas with the same id:",b),f(!this._byKey.has(b),"Schema id conflicts with existing key:",b),this._byId.set(b,{schema:m,id:b})}p&&(f(!this._byKey.has(p),"Schema already contains key:",p),f(!this._byId.has(p),"Schema key conflicts with existing id:",p),this._byKey.set(p,{schema:m,id:p}))}reset(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}_collect(m,p=[],b=[]){const g=m[0],y=this._get(g);f(y,"Schema does not contain path",[...p,...m].join(".")),b=[y,...b];const R=m.slice(1);return R.length?y.schema._ids._collect(R,[...p,g],b):b}_get(m){return this._byId.get(m)||this._byKey.get(m)}},w.fork=function(m,p,b){const g=u.schema(m,{each:(y,{key:R})=>{if(p===(y._flags.id||R))return b},ref:!1});return g?g.$_mutateRebuild():m},u.schema=function(m,p){let b;for(const g in m._flags){if(g[0]==="_")continue;const y=w.scan(m._flags[g],{source:"flags",name:g},p);y!==void 0&&(b=b||m.clone(),b._flags[g]=y)}for(let g=0;g<m._rules.length;++g){const y=m._rules[g],R=w.scan(y.args,{source:"rules",name:y.name},p);if(R!==void 0){b=b||m.clone();const E=Object.assign({},y);E.args=R,b._rules[g]=E,b._singleRules.get(y.name)===y&&b._singleRules.set(y.name,E)}}for(const g in m.$_terms){if(g[0]==="_")continue;const y=w.scan(m.$_terms[g],{source:"terms",name:g},p);y!==void 0&&(b=b||m.clone(),b.$_terms[g]=y)}return b},w.scan=function(m,p,b,g,y){const R=g||[];if(m===null||typeof m!="object")return;let E;if(Array.isArray(m)){for(let S=0;S<m.length;++S){const D=p.source==="terms"&&p.name==="keys"&&m[S].key,M=w.scan(m[S],p,b,[S,...R],D);M!==void 0&&(E=E||m.slice(),E[S]=M)}return E}if(b.schema!==!1&&_.isSchema(m)||b.ref!==!1&&v.isRef(m)){const S=b.each(m,{...p,path:R,key:y});return S===m?void 0:S}for(const S in m){if(S[0]==="_")continue;const D=w.scan(m[S],p,b,[S,...R],y);D!==void 0&&(E=E||Object.assign({},m),E[S]=D)}return E}},6133:(l,u,h)=>{const f=h(375),_=h(8571),v=h(9621),w=h(8160);let m;const p={symbol:Symbol("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};u.create=function(b,g={}){f(typeof b=="string","Invalid reference key:",b),w.assertOptions(g,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),f(!g.prefix||typeof g.prefix=="object","options.prefix must be of type object");const y=Object.assign({},p.defaults,g);delete y.prefix;const R=y.separator,E=p.context(b,R,g.prefix);if(y.type=E.type,b=E.key,y.type==="value")if(E.root&&(f(!R||b[0]!==R,"Cannot specify relative path with root prefix"),y.ancestor="root",b||(b=null)),R&&R===b)b=null,y.ancestor=0;else if(y.ancestor!==void 0)f(!R||!b||b[0]!==R,"Cannot combine prefix with ancestor option");else{const[S,D]=p.ancestor(b,R);D&&(b=b.slice(D))===""&&(b=null),y.ancestor=S}return y.path=R?b===null?[]:b.split(R):[b],new p.Ref(y)},u.in=function(b,g={}){return u.create(b,{...g,in:!0})},u.isRef=function(b){return!!b&&!!b[w.symbols.ref]},p.Ref=class{constructor(b){f(typeof b=="object","Invalid reference construction"),w.assertOptions(b,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),f([!1,void 0].includes(b.separator)||typeof b.separator=="string"&&b.separator.length===1,"Invalid separator"),f(!b.adjust||typeof b.adjust=="function","options.adjust must be a function"),f(!b.map||Array.isArray(b.map),"options.map must be an array"),f(!b.map||!b.adjust,"Cannot set both map and adjust options"),Object.assign(this,p.defaults,b),f(this.type==="value"||this.ancestor===void 0,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}resolve(b,g,y,R,E={}){return f(!this.in||E.in,"Invalid in() reference usage"),this.type==="global"?this._resolve(y.context,g,E):this.type==="local"?this._resolve(R,g,E):this.ancestor?this.ancestor==="root"?this._resolve(g.ancestors[g.ancestors.length-1],g,E):(f(this.ancestor<=g.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this._resolve(g.ancestors[this.ancestor-1],g,E)):this._resolve(b,g,E)}_resolve(b,g,y){let R;if(this.type==="value"&&g.mainstay.shadow&&y.shadow!==!1&&(R=g.mainstay.shadow.get(this.absolute(g))),R===void 0&&(R=v(b,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(R=this.adjust(R)),this.map){const E=this.map.get(R);E!==void 0&&(R=E)}return g.mainstay&&g.mainstay.tracer.resolve(g,this,R),R}toString(){return this.display}absolute(b){return[...b.path.slice(0,-this.ancestor),...this.path]}clone(){return new p.Ref(this)}describe(){const b={path:this.path};this.type!=="value"&&(b.type=this.type),this.separator!=="."&&(b.separator=this.separator),this.type==="value"&&this.ancestor!==1&&(b.ancestor=this.ancestor),this.map&&(b.map=[...this.map]);for(const g of["adjust","iterables","render"])this[g]!==null&&this[g]!==void 0&&(b[g]=this[g]);return this.in!==!1&&(b.in=!0),{ref:b}}updateDisplay(){const b=this.key!==null?this.key:"";if(this.type!=="value")return void(this.display=`ref:${this.type}:${b}`);if(!this.separator)return void(this.display=`ref:${b}`);if(!this.ancestor)return void(this.display=`ref:${this.separator}${b}`);if(this.ancestor==="root")return void(this.display=`ref:root:${b}`);if(this.ancestor===1)return void(this.display=`ref:${b||".."}`);const g=new Array(this.ancestor+1).fill(this.separator).join("");this.display=`ref:${g}${b||""}`}},p.Ref.prototype[w.symbols.ref]=!0,u.build=function(b){return(b=Object.assign({},p.defaults,b)).type==="value"&&b.ancestor===void 0&&(b.ancestor=1),new p.Ref(b)},p.context=function(b,g,y={}){if(b=b.trim(),y){const R=y.global===void 0?"$":y.global;if(R!==g&&b.startsWith(R))return{key:b.slice(R.length),type:"global"};const E=y.local===void 0?"#":y.local;if(E!==g&&b.startsWith(E))return{key:b.slice(E.length),type:"local"};const S=y.root===void 0?"/":y.root;if(S!==g&&b.startsWith(S))return{key:b.slice(S.length),type:"value",root:!0}}return{key:b,type:"value"}},p.ancestor=function(b,g){if(!g)return[1,0];if(b[0]!==g)return[1,0];if(b[1]!==g)return[0,1];let y=2;for(;b[y]===g;)++y;return[y-1,y]},u.toSibling=0,u.toParent=1,u.Manager=class{constructor(){this.refs=[]}register(b,g){if(b)if(g=g===void 0?u.toParent:g,Array.isArray(b))for(const y of b)this.register(y,g);else if(w.isSchema(b))for(const y of b._refs.refs)y.ancestor-g>=0&&this.refs.push({ancestor:y.ancestor-g,root:y.root});else u.isRef(b)&&b.type==="value"&&b.ancestor-g>=0&&this.refs.push({ancestor:b.ancestor-g,root:b.root}),m=m||h(3328),m.isTemplate(b)&&this.register(b.refs(),g)}get length(){return this.refs.length}clone(){const b=new u.Manager;return b.refs=_(this.refs),b}reset(){this.refs=[]}roots(){return this.refs.filter(b=>!b.ancestor).map(b=>b.root)}}},3378:(l,u,h)=>{const f=h(5107),_={};_.wrap=f.string().min(1).max(2).allow(!1),u.preferences=f.object({allowUnknown:f.boolean(),abortEarly:f.boolean(),artifacts:f.boolean(),cache:f.boolean(),context:f.object(),convert:f.boolean(),dateFormat:f.valid("date","iso","string","time","utc"),debug:f.boolean(),errors:{escapeHtml:f.boolean(),label:f.valid("path","key",!1),language:[f.string(),f.object().ref()],render:f.boolean(),stack:f.boolean(),wrap:{label:_.wrap,array:_.wrap,string:_.wrap}},externals:f.boolean(),messages:f.object(),noDefaults:f.boolean(),nonEnumerables:f.boolean(),presence:f.valid("required","optional","forbidden"),skipFunctions:f.boolean(),stripUnknown:f.object({arrays:f.boolean(),objects:f.boolean()}).or("arrays","objects").allow(!0,!1),warnings:f.boolean()}).strict(),_.nameRx=/^[a-zA-Z0-9]\w*$/,_.rule=f.object({alias:f.array().items(f.string().pattern(_.nameRx)).single(),args:f.array().items(f.string(),f.object({name:f.string().pattern(_.nameRx).required(),ref:f.boolean(),assert:f.alternatives([f.function(),f.object().schema()]).conditional("ref",{is:!0,then:f.required()}),normalize:f.function(),message:f.string().when("assert",{is:f.function(),then:f.required()})})),convert:f.boolean(),manifest:f.boolean(),method:f.function().allow(!1),multi:f.boolean(),validate:f.function()}),u.extension=f.object({type:f.alternatives([f.string(),f.object().regex()]).required(),args:f.function(),cast:f.object().pattern(_.nameRx,f.object({from:f.function().maxArity(1).required(),to:f.function().minArity(1).maxArity(2).required()})),base:f.object().schema().when("type",{is:f.object().regex(),then:f.forbidden()}),coerce:[f.function().maxArity(3),f.object({method:f.function().maxArity(3).required(),from:f.array().items(f.string()).single()})],flags:f.object().pattern(_.nameRx,f.object({setter:f.string(),default:f.any()})),manifest:{build:f.function().arity(2)},messages:[f.object(),f.string()],modifiers:f.object().pattern(_.nameRx,f.function().minArity(1).maxArity(2)),overrides:f.object().pattern(_.nameRx,f.function()),prepare:f.function().maxArity(3),rebuild:f.function().arity(1),rules:f.object().pattern(_.nameRx,_.rule),terms:f.object().pattern(_.nameRx,f.object({init:f.array().allow(null).required(),manifest:f.object().pattern(/.+/,[f.valid("schema","single"),f.object({mapped:f.object({from:f.string().required(),to:f.string().required()}).required()})])})),validate:f.function().maxArity(3)}).strict(),u.extensions=f.array().items(f.object(),f.function().arity(1)).strict(),_.desc={buffer:f.object({buffer:f.string()}),func:f.object({function:f.function().required(),options:{literal:!0}}),override:f.object({override:!0}),ref:f.object({ref:f.object({type:f.valid("value","global","local"),path:f.array().required(),separator:f.string().length(1).allow(!1),ancestor:f.number().min(0).integer().allow("root"),map:f.array().items(f.array().length(2)).min(1),adjust:f.function(),iterables:f.boolean(),in:f.boolean(),render:f.boolean()}).required()}),regex:f.object({regex:f.string().min(3)}),special:f.object({special:f.valid("deep").required()}),template:f.object({template:f.string().required(),options:f.object()}),value:f.object({value:f.alternatives([f.object(),f.array()]).required()})},_.desc.entity=f.alternatives([f.array().items(f.link("...")),f.boolean(),f.function(),f.number(),f.string(),_.desc.buffer,_.desc.func,_.desc.ref,_.desc.regex,_.desc.special,_.desc.template,_.desc.value,f.link("/")]),_.desc.values=f.array().items(null,f.boolean(),f.function(),f.number().allow(1/0,-1/0),f.string().allow(""),f.symbol(),_.desc.buffer,_.desc.func,_.desc.override,_.desc.ref,_.desc.regex,_.desc.template,_.desc.value),_.desc.messages=f.object().pattern(/.+/,[f.string(),_.desc.template,f.object().pattern(/.+/,[f.string(),_.desc.template])]),u.description=f.object({type:f.string().required(),flags:f.object({cast:f.string(),default:f.any(),description:f.string(),empty:f.link("/"),failover:_.desc.entity,id:f.string(),label:f.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:f.boolean(),unit:f.string()}).unknown(),preferences:{allowUnknown:f.boolean(),abortEarly:f.boolean(),artifacts:f.boolean(),cache:f.boolean(),convert:f.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:f.boolean(),label:["path","key"],language:[f.string(),_.desc.ref],wrap:{label:_.wrap,array:_.wrap}},externals:f.boolean(),messages:_.desc.messages,noDefaults:f.boolean(),nonEnumerables:f.boolean(),presence:["required","optional","forbidden"],skipFunctions:f.boolean(),stripUnknown:f.object({arrays:f.boolean(),objects:f.boolean()}).or("arrays","objects").allow(!0,!1),warnings:f.boolean()},allow:_.desc.values,invalid:_.desc.values,rules:f.array().min(1).items({name:f.string().required(),args:f.object().min(1),keep:f.boolean(),message:[f.string(),_.desc.messages],warn:f.boolean()}),keys:f.object().pattern(/.*/,f.link("/")),link:_.desc.ref}).pattern(/^[a-z]\w*$/,f.any())},493:(l,u,h)=>{const f=h(8571),_=h(9621),v=h(8160),w={value:Symbol("value")};l.exports=w.State=class{constructor(m,p,b){this.path=m,this.ancestors=p,this.mainstay=b.mainstay,this.schemas=b.schemas,this.debug=null}localize(m,p=null,b=null){const g=new w.State(m,p,this);return b&&g.schemas&&(g.schemas=[w.schemas(b),...g.schemas]),g}nest(m,p){const b=new w.State(this.path,this.ancestors,this);return b.schemas=b.schemas&&[w.schemas(m),...b.schemas],b.debug=p,b}shadow(m,p){this.mainstay.shadow=this.mainstay.shadow||new w.Shadow,this.mainstay.shadow.set(this.path,m,p)}snapshot(){this.mainstay.shadow&&(this._snapshot=f(this.mainstay.shadow.node(this.path))),this.mainstay.snapshot()}restore(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.restore()}commit(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.commit()}},w.schemas=function(m){return v.isSchema(m)?{schema:m}:m},w.Shadow=class{constructor(){this._values=null}set(m,p,b){if(!m.length||b==="strip"&&typeof m[m.length-1]=="number")return;this._values=this._values||new Map;let g=this._values;for(let y=0;y<m.length;++y){const R=m[y];let E=g.get(R);E||(E=new Map,g.set(R,E)),g=E}g[w.value]=p}get(m){const p=this.node(m);if(p)return p[w.value]}node(m){if(this._values)return _(this._values,m,{iterables:!0})}override(m,p){if(!this._values)return;const b=m.slice(0,-1),g=m[m.length-1],y=_(this._values,b,{iterables:!0});p?y.set(g,p):y&&y.delete(g)}}},3328:(l,u,h)=>{const f=h(375),_=h(8571),v=h(5277),w=h(1447),m=h(8160),p=h(6354),b=h(6133),g={symbol:Symbol("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join(""),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};l.exports=g.Template=class{constructor(y,R){if(f(typeof y=="string","Template source must be a string"),f(!y.includes("\0")&&!y.includes(""),"Template source cannot contain reserved control characters"),this.source=y,this.rendered=y,this._template=null,R){const{functions:E,...S}=R;this._settings=Object.keys(S).length?_(S):void 0,this._functions=E,this._functions&&(f(Object.keys(this._functions).every(D=>typeof D=="string"),"Functions keys must be strings"),f(Object.values(this._functions).every(D=>typeof D=="function"),"Functions values must be functions"))}else this._settings=void 0,this._functions=void 0;this._parse()}_parse(){if(!this.source.includes("{"))return;const y=g.encode(this.source),R=g.split(y);let E=!1;const S=[],D=R.shift();D&&S.push(D);for(const M of R){const k=M[0]!=="{",z=k?"}":"}}",N=M.indexOf(z);if(N===-1||M[1]==="{"){S.push(`{${g.decode(M)}`);continue}let A=M.slice(k?0:1,N);const C=A[0]===":";C&&(A=A.slice(1));const O=this._ref(g.decode(A),{raw:k,wrapped:C});S.push(O),typeof O!="string"&&(E=!0);const L=M.slice(N+z.length);L&&S.push(g.decode(L))}E?this._template=S:this.rendered=S.join("")}static date(y,R){return g.dateFormat[R.dateFormat].call(y)}describe(y={}){if(!this._settings&&y.compact)return this.source;const R={template:this.source};return this._settings&&(R.options=this._settings),this._functions&&(R.functions=this._functions),R}static build(y){return new g.Template(y.template,y.options||y.functions?{...y.options,functions:y.functions}:void 0)}isDynamic(){return!!this._template}static isTemplate(y){return!!y&&!!y[m.symbols.template]}refs(){if(!this._template)return;const y=[];for(const R of this._template)typeof R!="string"&&y.push(...R.refs);return y}resolve(y,R,E,S){return this._template&&this._template.length===1?this._part(this._template[0],y,R,E,S,{}):this.render(y,R,E,S)}_part(y,...R){return y.ref?y.ref.resolve(...R):y.formula.evaluate(R)}render(y,R,E,S,D={}){if(!this.isDynamic())return this.rendered;const M=[];for(const k of this._template)if(typeof k=="string")M.push(k);else{const z=this._part(k,y,R,E,S,D),N=g.stringify(z,y,R,E,S,D);if(N!==void 0){const A=k.raw||(D.errors&&D.errors.escapeHtml)===!1?N:v(N);M.push(g.wrap(A,k.wrapped&&E.errors.wrap.label))}}return M.join("")}_ref(y,{raw:R,wrapped:E}){const S=[],D=k=>{const z=b.create(k,this._settings);return S.push(z),N=>{const A=z.resolve(...N);return A!==void 0?A:null}};try{const k=this._functions?{...g.functions,...this._functions}:g.functions;var M=new w.Parser(y,{reference:D,functions:k,constants:g.constants})}catch(k){throw k.message=`Invalid template variable "${y}" fails due to: ${k.message}`,k}if(M.single){if(M.single.type==="reference"){const k=S[0];return{ref:k,raw:R,refs:S,wrapped:E||k.type==="local"&&k.key==="label"}}return g.stringify(M.single.value)}return{formula:M,raw:R,refs:S}}toString(){return this.source}},g.Template.prototype[m.symbols.template]=!0,g.Template.prototype.isImmutable=!0,g.encode=function(y){return y.replace(/\\(\{+)/g,(R,E)=>g.opens.slice(0,E.length)).replace(/\\(\}+)/g,(R,E)=>g.closes.slice(0,E.length))},g.decode=function(y){return y.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},g.split=function(y){const R=[];let E="";for(let S=0;S<y.length;++S){const D=y[S];if(D==="{"){let M="";for(;S+1<y.length&&y[S+1]==="{";)M+="{",++S;R.push(E),E=M}else E+=D}return R.push(E),R},g.wrap=function(y,R){return R?R.length===1?`${R}${y}${R}`:`${R[0]}${y}${R[1]}`:y},g.stringify=function(y,R,E,S,D,M={}){const k=typeof y,z=S&&S.errors&&S.errors.wrap||{};let N=!1;if(b.isRef(y)&&y.render&&(N=y.in,y=y.resolve(R,E,S,D,{in:y.in,...M})),y===null)return"null";if(k==="string")return g.wrap(y,M.arrayItems&&z.string);if(k==="number"||k==="function"||k==="symbol")return y.toString();if(k!=="object")return JSON.stringify(y);if(y instanceof Date)return g.Template.date(y,S);if(y instanceof Map){const C=[];for(const[O,L]of y.entries())C.push(`${O.toString()} -> ${L.toString()}`);y=C}if(!Array.isArray(y))return y.toString();const A=[];for(const C of y)A.push(g.stringify(C,R,E,S,D,{arrayItems:!0,...M}));return g.wrap(A.join(", "),!N&&z.array)},g.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},g.functions={if:(y,R,E)=>y?R:E,length:y=>typeof y=="string"?y.length:y&&typeof y=="object"?Array.isArray(y)?y.length:Object.keys(y).length:null,msg(y){const[R,E,S,D,M]=this,k=M.messages;if(!k)return"";const z=p.template(R,k[0],y,E,S)||p.template(R,k[1],y,E,S);return z?z.render(R,E,S,D,M):""},number:y=>typeof y=="number"?y:typeof y=="string"?parseFloat(y):typeof y=="boolean"?y?1:0:y instanceof Date?y.getTime():null}},4946:(l,u,h)=>{const f=h(375),_=h(1687),v=h(8068),w=h(8160),m=h(3292),p=h(6354),b=h(6133),g={};l.exports=v.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:b.toSibling}},args:(y,...R)=>R.length===1&&Array.isArray(R[0])?y.try(...R[0]):y.try(...R),validate(y,R){const{schema:E,error:S,state:D,prefs:M}=R;if(E._flags.match){const z=[],N=[];for(let C=0;C<E.$_terms.matches.length;++C){const O=E.$_terms.matches[C],L=D.nest(O.schema,`match.${C}`);L.snapshot();const $=O.schema.$_validate(y,L,M);$.errors?(N.push($.errors),L.restore()):(z.push($.value),L.commit())}if(z.length===0)return{errors:S("alternatives.any",{details:N.map(C=>p.details(C,{override:!1}))})};if(E._flags.match==="one")return z.length===1?{value:z[0]}:{errors:S("alternatives.one")};if(z.length!==E.$_terms.matches.length)return{errors:S("alternatives.all",{details:N.map(C=>p.details(C,{override:!1}))})};const A=C=>C.$_terms.matches.some(O=>O.schema.type==="object"||O.schema.type==="alternatives"&&A(O.schema));return A(E)?{value:z.reduce((C,O)=>_(C,O,{mergeArrays:!1}))}:{value:z[z.length-1]}}const k=[];for(let z=0;z<E.$_terms.matches.length;++z){const N=E.$_terms.matches[z];if(N.schema){const O=D.nest(N.schema,`match.${z}`);O.snapshot();const L=N.schema.$_validate(y,O,M);if(!L.errors)return O.commit(),L;O.restore(),k.push({schema:N.schema,reports:L.errors});continue}const A=N.ref?N.ref.resolve(y,D,M):y,C=N.is?[N]:N.switch;for(let O=0;O<C.length;++O){const L=C[O],{is:$,then:P,otherwise:fe}=L,he=`match.${z}${N.switch?"."+O:""}`;if($.$_match(A,D.nest($,`${he}.is`),M)){if(P)return P.$_validate(y,D.nest(P,`${he}.then`),M)}else if(fe)return fe.$_validate(y,D.nest(fe,`${he}.otherwise`),M)}}return g.errors(k,R)},rules:{conditional:{method(y,R){f(!this._flags._endedSwitch,"Unreachable condition"),f(!this._flags.match,"Cannot combine match mode",this._flags.match,"with conditional rule"),f(R.break===void 0,"Cannot use break option with alternatives conditional");const E=this.clone(),S=m.when(E,y,R),D=S.is?[S]:S.switch;for(const M of D)if(M.then&&M.otherwise){E.$_setFlag("_endedSwitch",!0,{clone:!1});break}return E.$_terms.matches.push(S),E.$_mutateRebuild()}},match:{method(y){if(f(["any","one","all"].includes(y),"Invalid alternatives match mode",y),y!=="any")for(const R of this.$_terms.matches)f(R.schema,"Cannot combine match mode",y,"with conditional rules");return this.$_setFlag("match",y)}},try:{method(...y){f(y.length,"Missing alternative schemas"),w.verifyFlat(y,"try"),f(!this._flags._endedSwitch,"Unreachable condition");const R=this.clone();for(const E of y)R.$_terms.matches.push({schema:R.$_compile(E)});return R.$_mutateRebuild()}}},overrides:{label(y){return this.$_parent("label",y).$_modify({each:(R,E)=>E.path[0]!=="is"&&typeof R._flags.label!="string"?R.label(y):void 0,ref:!1})}},rebuild(y){y.$_modify({each:R=>{w.isSchema(R)&&R.type==="array"&&y.$_setFlag("_arrayItems",!0,{clone:!1})}})},manifest:{build(y,R){if(R.matches)for(const E of R.matches){const{schema:S,ref:D,is:M,not:k,then:z,otherwise:N}=E;y=S?y.try(S):D?y.conditional(D,{is:M,then:z,not:k,otherwise:N,switch:E.switch}):y.conditional(M,{then:z,otherwise:N})}return y}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}}),g.errors=function(y,{error:R,state:E}){if(!y.length)return{errors:R("alternatives.any")};if(y.length===1)return{errors:y[0].reports};const S=new Set,D=[];for(const{reports:M,schema:k}of y){if(M.length>1)return g.unmatched(y,R);const z=M[0];if(z instanceof p.Report==0)return g.unmatched(y,R);if(z.state.path.length!==E.path.length){D.push({type:k.type,report:z});continue}if(z.code==="any.only"){for(const C of z.local.valids)S.add(C);continue}const[N,A]=z.code.split(".");A!=="base"?D.push({type:k.type,report:z}):z.code==="object.base"?S.add(z.local.type):S.add(N)}return D.length?D.length===1?{errors:D[0].report}:g.unmatched(y,R):{errors:R("alternatives.types",{types:[...S]})}},g.unmatched=function(y,R){const E=[];for(const S of y)E.push(...S.reports);return{errors:R("alternatives.match",p.details(E,{override:!1}))}}},8068:(l,u,h)=>{const f=h(375),_=h(7629),v=h(8160),w=h(6914);l.exports=_.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method(m,p){return f(typeof m=="function","Method must be a function"),f(p===void 0||p&&typeof p=="string","Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:m,description:p}})},validate(m,p,{method:b}){try{return b(m,p)}catch(g){return p.error("any.custom",{error:g})}},args:["method","description"],multi:!0},messages:{method(m){return this.prefs({messages:m})}},shared:{method(m){f(v.isSchema(m)&&m._flags.id,"Schema must be a schema with an id");const p=this.clone();return p.$_terms.shared=p.$_terms.shared||[],p.$_terms.shared.push(m),p.$_mutateRegister(m),p}},warning:{method(m,p){return f(m&&typeof m=="string","Invalid warning code"),this.$_addRule({name:"warning",args:{code:m,local:p},warn:!0})},validate:(m,p,{code:b,local:g})=>p.error(b,g),args:["code","local"],multi:!0}},modifiers:{keep(m,p=!0){m.keep=p},message(m,p){m.message=w.compile(p)},warn(m,p=!0){m.warn=p}},manifest:{build(m,p){for(const b in p){const g=p[b];if(["examples","externals","metas","notes","tags"].includes(b))for(const y of g)m=m[b.slice(0,-1)](y);else if(b!=="alterations")if(b!=="whens"){if(b==="shared")for(const y of g)m=m.shared(y)}else for(const y of g){const{ref:R,is:E,not:S,then:D,otherwise:M,concat:k}=y;m=k?m.concat(k):R?m.when(R,{is:E,not:S,then:D,otherwise:M,switch:y.switch,break:y.break}):m.when(E,{then:D,otherwise:M,break:y.break})}else{const y={};for(const{target:R,adjuster:E}of g)y[R]=E;m=m.alter(y)}}return m}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})},546:(l,u,h)=>{const f=h(375),_=h(9474),v=h(9621),w=h(8068),m=h(8160),p=h(3292),b={};l.exports=w.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},_exclusions:{init:[]},_inclusions:{init:[]},_requireds:{init:[]}},coerce:{from:"object",method(g,{schema:y,state:R,prefs:E}){if(!Array.isArray(g))return;const S=y.$_getRule("sort");return S?b.sort(y,g,S.args.options,R,E):void 0}},validate(g,{schema:y,error:R}){if(!Array.isArray(g)){if(y._flags.single){const E=[g];return E[m.symbols.arraySingle]=!0,{value:E}}return{errors:R("array.base")}}if(y.$_getRule("items")||y.$_terms.externals)return{value:g.slice()}},rules:{has:{method(g){g=this.$_compile(g,{appendPath:!0});const y=this.$_addRule({name:"has",args:{schema:g}});return y.$_mutateRegister(g),y},validate(g,{state:y,prefs:R,error:E},{schema:S}){const D=[g,...y.ancestors];for(let k=0;k<g.length;++k){const z=y.localize([...y.path,k],D,S);if(S.$_match(g[k],z,R))return g}const M=S._flags.label;return M?E("array.hasKnown",{patternLabel:M}):E("array.hasUnknown",null)},multi:!0},items:{method(...g){m.verifyFlat(g,"items");const y=this.$_addRule("items");for(let R=0;R<g.length;++R){const E=m.tryWithPath(()=>this.$_compile(g[R]),R,{append:!0});y.$_terms.items.push(E)}return y.$_mutateRebuild()},validate(g,{schema:y,error:R,state:E,prefs:S,errorsArray:D}){const M=y.$_terms._requireds.slice(),k=y.$_terms.ordered.slice(),z=[...y.$_terms._inclusions,...M],N=!g[m.symbols.arraySingle];delete g[m.symbols.arraySingle];const A=D();let C=g.length;for(let O=0;O<C;++O){const L=g[O];let $=!1,P=!1;const fe=N?O:new Number(O),he=[...E.path,fe];if(!y._flags.sparse&&L===void 0){if(A.push(R("array.sparse",{key:fe,path:he,pos:O,value:void 0},E.localize(he))),S.abortEarly)return A;k.shift();continue}const K=[g,...E.ancestors];for(const q of y.$_terms._exclusions)if(q.$_match(L,E.localize(he,K,q),S,{presence:"ignore"})){if(A.push(R("array.excludes",{pos:O,value:L},E.localize(he))),S.abortEarly)return A;$=!0,k.shift();break}if($)continue;if(y.$_terms.ordered.length){if(k.length){const q=k.shift(),W=q.$_validate(L,E.localize(he,K,q),S);if(W.errors){if(A.push(...W.errors),S.abortEarly)return A}else if(q._flags.result==="strip")b.fastSplice(g,O),--O,--C;else{if(!y._flags.sparse&&W.value===void 0){if(A.push(R("array.sparse",{key:fe,path:he,pos:O,value:void 0},E.localize(he))),S.abortEarly)return A;continue}g[O]=W.value}continue}if(!y.$_terms.items.length){if(A.push(R("array.orderedLength",{pos:O,limit:y.$_terms.ordered.length})),S.abortEarly)return A;break}}const se=[];let de=M.length;for(let q=0;q<de;++q){const W=E.localize(he,K,M[q]);W.snapshot();const le=M[q].$_validate(L,W,S);if(se[q]=le,!le.errors){if(W.commit(),g[O]=le.value,P=!0,b.fastSplice(M,q),--q,--de,!y._flags.sparse&&le.value===void 0&&(A.push(R("array.sparse",{key:fe,path:he,pos:O,value:void 0},E.localize(he))),S.abortEarly))return A;break}W.restore()}if(P)continue;const Se=S.stripUnknown&&!!S.stripUnknown.arrays||!1;de=z.length;for(const q of z){let W;const le=M.indexOf(q);if(le!==-1)W=se[le];else{const oe=E.localize(he,K,q);if(oe.snapshot(),W=q.$_validate(L,oe,S),!W.errors){oe.commit(),q._flags.result==="strip"?(b.fastSplice(g,O),--O,--C):y._flags.sparse||W.value!==void 0?g[O]=W.value:(A.push(R("array.sparse",{key:fe,path:he,pos:O,value:void 0},E.localize(he))),$=!0),P=!0;break}oe.restore()}if(de===1){if(Se){b.fastSplice(g,O),--O,--C,P=!0;break}if(A.push(...W.errors),S.abortEarly)return A;$=!0;break}}if(!$&&(y.$_terms._inclusions.length||y.$_terms._requireds.length)&&!P){if(Se){b.fastSplice(g,O),--O,--C;continue}if(A.push(R("array.includes",{pos:O,value:L},E.localize(he))),S.abortEarly)return A}}return M.length&&b.fillMissedErrors(y,A,M,g,E,S),k.length&&(b.fillOrderedErrors(y,A,k,g,E,S),A.length||b.fillDefault(k,g,E,S)),A.length?A:g},priority:!0,manifest:!1},length:{method(g){return this.$_addRule({name:"length",args:{limit:g},operator:"="})},validate:(g,y,{limit:R},{name:E,operator:S,args:D})=>m.compare(g.length,R,S)?g:y.error("array."+E,{limit:D.limit,value:g}),args:[{name:"limit",ref:!0,assert:m.limit,message:"must be a positive integer"}]},max:{method(g){return this.$_addRule({name:"max",method:"length",args:{limit:g},operator:"<="})}},min:{method(g){return this.$_addRule({name:"min",method:"length",args:{limit:g},operator:">="})}},ordered:{method(...g){m.verifyFlat(g,"ordered");const y=this.$_addRule("items");for(let R=0;R<g.length;++R){const E=m.tryWithPath(()=>this.$_compile(g[R]),R,{append:!0});b.validateSingle(E,y),y.$_mutateRegister(E),y.$_terms.ordered.push(E)}return y.$_mutateRebuild()}},single:{method(g){const y=g===void 0||!!g;return f(!y||!this._flags._arrayItems,"Cannot specify single rule when array has array items"),this.$_setFlag("single",y)}},sort:{method(g={}){m.assertOptions(g,["by","order"]);const y={order:g.order||"ascending"};return g.by&&(y.by=p.ref(g.by,{ancestor:0}),f(!y.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:y}})},validate(g,{error:y,state:R,prefs:E,schema:S},{options:D}){const{value:M,errors:k}=b.sort(S,g,D,R,E);if(k)return k;for(let z=0;z<g.length;++z)if(g[z]!==M[z])return y("array.sort",{order:D.order,by:D.by?D.by.key:"value"});return g},convert:!0},sparse:{method(g){const y=g===void 0||!!g;return this._flags.sparse===y?this:(y?this.clone():this.$_addRule("items")).$_setFlag("sparse",y,{clone:!1})}},unique:{method(g,y={}){f(!g||typeof g=="function"||typeof g=="string","comparator must be a function or a string"),m.assertOptions(y,["ignoreUndefined","separator"]);const R={name:"unique",args:{options:y,comparator:g}};if(g)if(typeof g=="string"){const E=m.default(y.separator,".");R.path=E?g.split(E):[g]}else R.comparator=g;return this.$_addRule(R)},validate(g,{state:y,error:R,schema:E},{comparator:S,options:D},{comparator:M,path:k}){const z={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),bigint:Object.create(null),object:new Map,function:new Map,custom:new Map},N=M||_,A=D.ignoreUndefined;for(let C=0;C<g.length;++C){const O=k?v(g[C],k):g[C],L=M?z.custom:z[typeof O];if(f(L,"Failed to find unique map container for type",typeof O),L instanceof Map){const $=L.entries();let P;for(;!(P=$.next()).done;)if(N(P.value[0],O)){const fe=y.localize([...y.path,C],[g,...y.ancestors]),he={pos:C,value:g[C],dupePos:P.value[1],dupeValue:g[P.value[1]]};return k&&(he.path=S),R("array.unique",he,fe)}L.set(O,C)}else{if((!A||O!==void 0)&&L[O]!==void 0){const $={pos:C,value:g[C],dupePos:L[O],dupeValue:g[L[O]]};return k&&($.path=S),R("array.unique",$,y.localize([...y.path,C],[g,...y.ancestors]))}L[O]=C}}return g},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to:(g,y)=>new Set(g)}},rebuild(g){g.$_terms._inclusions=[],g.$_terms._exclusions=[],g.$_terms._requireds=[];for(const y of g.$_terms.items)b.validateSingle(y,g),y._flags.presence==="required"?g.$_terms._requireds.push(y):y._flags.presence==="forbidden"?g.$_terms._exclusions.push(y):g.$_terms._inclusions.push(y);for(const y of g.$_terms.ordered)b.validateSingle(y,g)},manifest:{build:(g,y)=>(y.items&&(g=g.items(...y.items)),y.ordered&&(g=g.ordered(...y.ordered)),g)},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}}),b.fillMissedErrors=function(g,y,R,E,S,D){const M=[];let k=0;for(const z of R){const N=z._flags.label;N?M.push(N):++k}M.length?k?y.push(g.$_createError("array.includesRequiredBoth",E,{knownMisses:M,unknownMisses:k},S,D)):y.push(g.$_createError("array.includesRequiredKnowns",E,{knownMisses:M},S,D)):y.push(g.$_createError("array.includesRequiredUnknowns",E,{unknownMisses:k},S,D))},b.fillOrderedErrors=function(g,y,R,E,S,D){const M=[];for(const k of R)k._flags.presence==="required"&&M.push(k);M.length&&b.fillMissedErrors(g,y,M,E,S,D)},b.fillDefault=function(g,y,R,E){const S=[];let D=!0;for(let M=g.length-1;M>=0;--M){const k=g[M],z=[y,...R.ancestors],N=k.$_validate(void 0,R.localize(R.path,z,k),E).value;if(D){if(N===void 0)continue;D=!1}S.unshift(N)}S.length&&y.push(...S)},b.fastSplice=function(g,y){let R=y;for(;R<g.length;)g[R++]=g[R];--g.length},b.validateSingle=function(g,y){(g.type==="array"||g._flags._arrayItems)&&(f(!y._flags.single,"Cannot specify array item with single rule enabled"),y.$_setFlag("_arrayItems",!0,{clone:!1}))},b.sort=function(g,y,R,E,S){const D=R.order==="ascending"?1:-1,M=-1*D,k=D,z=(N,A)=>{let C=b.compare(N,A,M,k);if(C!==null||(R.by&&(N=R.by.resolve(N,E,S),A=R.by.resolve(A,E,S)),C=b.compare(N,A,M,k),C!==null))return C;const O=typeof N;if(O!==typeof A)throw g.$_createError("array.sort.mismatching",y,null,E,S);if(O!=="number"&&O!=="string")throw g.$_createError("array.sort.unsupported",y,{type:O},E,S);return O==="number"?(N-A)*D:N<A?M:k};try{return{value:y.slice().sort(z)}}catch(N){return{errors:N}}},b.compare=function(g,y,R,E){return g===y?0:g===void 0?1:y===void 0?-1:g===null?E:y===null?R:null}},4937:(l,u,h)=>{const f=h(375),_=h(8068),v=h(8160),w=h(2036),m={isBool:function(p){return typeof p=="boolean"}};l.exports=_.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce(p,{schema:b}){if(typeof p!="boolean"){if(typeof p=="string"){const g=b._flags.sensitive?p:p.toLowerCase();p=g==="true"||g!=="false"&&p}return typeof p!="boolean"&&(p=b.$_terms.truthy&&b.$_terms.truthy.has(p,null,null,!b._flags.sensitive)||(!b.$_terms.falsy||!b.$_terms.falsy.has(p,null,null,!b._flags.sensitive))&&p),{value:p}}},validate(p,{error:b}){if(typeof p!="boolean")return{value:p,errors:b("boolean.base")}},rules:{truthy:{method(...p){v.verifyFlat(p,"truthy");const b=this.clone();b.$_terms.truthy=b.$_terms.truthy||new w;for(let g=0;g<p.length;++g){const y=p[g];f(y!==void 0,"Cannot call truthy with undefined"),b.$_terms.truthy.add(y)}return b}},falsy:{method(...p){v.verifyFlat(p,"falsy");const b=this.clone();b.$_terms.falsy=b.$_terms.falsy||new w;for(let g=0;g<p.length;++g){const y=p[g];f(y!==void 0,"Cannot call falsy with undefined"),b.$_terms.falsy.add(y)}return b}},sensitive:{method(p=!0){return this.$_setFlag("sensitive",p)}}},cast:{number:{from:m.isBool,to:(p,b)=>p?1:0},string:{from:m.isBool,to:(p,b)=>p?"true":"false"}},manifest:{build:(p,b)=>(b.truthy&&(p=p.truthy(...b.truthy)),b.falsy&&(p=p.falsy(...b.falsy)),p)},messages:{"boolean.base":"{{#label}} must be a boolean"}})},7500:(l,u,h)=>{const f=h(375),_=h(8068),v=h(8160),w=h(3328),m={isDate:function(p){return p instanceof Date}};l.exports=_.extend({type:"date",coerce:{from:["number","string"],method:(p,{schema:b})=>({value:m.parse(p,b._flags.format)||p})},validate(p,{schema:b,error:g,prefs:y}){if(p instanceof Date&&!isNaN(p.getTime()))return;const R=b._flags.format;return y.convert&&R&&typeof p=="string"?{value:p,errors:g("date.format",{format:R})}:{value:p,errors:g("date.base")}},rules:{compare:{method:!1,validate(p,b,{date:g},{name:y,operator:R,args:E}){const S=g==="now"?Date.now():g.getTime();return v.compare(p.getTime(),S,R)?p:b.error("date."+y,{limit:E.date,value:p})},args:[{name:"date",ref:!0,normalize:p=>p==="now"?p:m.parse(p),assert:p=>p!==null,message:"must have a valid date format"}]},format:{method(p){return f(["iso","javascript","unix"].includes(p),"Unknown date format",p),this.$_setFlag("format",p)}},greater:{method(p){return this.$_addRule({name:"greater",method:"compare",args:{date:p},operator:">"})}},iso:{method(){return this.format("iso")}},less:{method(p){return this.$_addRule({name:"less",method:"compare",args:{date:p},operator:"<"})}},max:{method(p){return this.$_addRule({name:"max",method:"compare",args:{date:p},operator:"<="})}},min:{method(p){return this.$_addRule({name:"min",method:"compare",args:{date:p},operator:">="})}},timestamp:{method(p="javascript"){return f(["javascript","unix"].includes(p),'"type" must be one of "javascript, unix"'),this.format(p)}}},cast:{number:{from:m.isDate,to:(p,b)=>p.getTime()},string:{from:m.isDate,to:(p,{prefs:b})=>w.date(p,b)}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),m.parse=function(p,b){if(p instanceof Date)return p;if(typeof p!="string"&&(isNaN(p)||!isFinite(p))||/^\s*$/.test(p))return null;if(b==="iso")return v.isIsoDate(p)?m.date(p.toString()):null;const g=p;if(typeof p=="string"&&/^[+-]?\d+(\.\d+)?$/.test(p)&&(p=parseFloat(p)),b){if(b==="javascript")return m.date(1*p);if(b==="unix")return m.date(1e3*p);if(typeof g=="string")return null}return m.date(p)},m.date=function(p){const b=new Date(p);return isNaN(b.getTime())?null:b}},390:(l,u,h)=>{const f=h(375),_=h(7824);l.exports=_.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method(v){return f(Number.isSafeInteger(v)&&v>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:v}})},validate:(v,w,{n:m})=>v.length===m?v:w.error("function.arity",{n:m})},class:{method(){return this.$_addRule("class")},validate:(v,w)=>/^\s*class\s/.test(v.toString())?v:w.error("function.class",{value:v})},minArity:{method(v){return f(Number.isSafeInteger(v)&&v>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:v}})},validate:(v,w,{n:m})=>v.length>=m?v:w.error("function.minArity",{n:m})},maxArity:{method(v){return f(Number.isSafeInteger(v)&&v>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:v}})},validate:(v,w,{n:m})=>v.length<=m?v:w.error("function.maxArity",{n:m})}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})},7824:(l,u,h)=>{const f=h(978),_=h(375),v=h(8571),w=h(3652),m=h(8068),p=h(8160),b=h(3292),g=h(6354),y=h(6133),R=h(3328),E={renameDefaults:{alias:!1,multiple:!1,override:!1}};l.exports=m.extend({type:"_keys",properties:{typeof:"object"},flags:{unknown:{default:void 0}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:(S,D)=>S.keys(D),validate(S,{schema:D,error:M,state:k,prefs:z}){if(!S||typeof S!==D.$_property("typeof")||Array.isArray(S))return{value:S,errors:M("object.base",{type:D.$_property("typeof")})};if(!(D.$_terms.renames||D.$_terms.dependencies||D.$_terms.keys||D.$_terms.patterns||D.$_terms.externals))return;S=E.clone(S,z);const N=[];if(D.$_terms.renames&&!E.rename(D,S,k,z,N))return{value:S,errors:N};if(!D.$_terms.keys&&!D.$_terms.patterns&&!D.$_terms.dependencies)return{value:S,errors:N};const A=new Set(Object.keys(S));if(D.$_terms.keys){const C=[S,...k.ancestors];for(const O of D.$_terms.keys){const L=O.key,$=S[L];A.delete(L);const P=k.localize([...k.path,L],C,O),fe=O.schema.$_validate($,P,z);if(fe.errors){if(z.abortEarly)return{value:S,errors:fe.errors};fe.value!==void 0&&(S[L]=fe.value),N.push(...fe.errors)}else O.schema._flags.result==="strip"||fe.value===void 0&&$!==void 0?delete S[L]:fe.value!==void 0&&(S[L]=fe.value)}}if(A.size||D._flags._hasPatternMatch){const C=E.unknown(D,S,A,N,k,z);if(C)return C}if(D.$_terms.dependencies)for(const C of D.$_terms.dependencies){if(C.key!==null&&E.isPresent(C.options)(C.key.resolve(S,k,z,null,{shadow:!1}))===!1)continue;const O=E.dependencies[C.rel](D,C,S,k,z);if(O){const L=D.$_createError(O.code,S,O.context,k,z);if(z.abortEarly)return{value:S,errors:L};N.push(L)}}return{value:S,errors:N}},rules:{and:{method(...S){return p.verifyFlat(S,"and"),E.dependency(this,"and",null,S)}},append:{method(S){return S==null||Object.keys(S).length===0?this:this.keys(S)}},assert:{method(S,D,M){R.isTemplate(S)||(S=b.ref(S)),_(M===void 0||typeof M=="string","Message must be a string"),D=this.$_compile(D,{appendPath:!0});const k=this.$_addRule({name:"assert",args:{subject:S,schema:D,message:M}});return k.$_mutateRegister(S),k.$_mutateRegister(D),k},validate(S,{error:D,prefs:M,state:k},{subject:z,schema:N,message:A}){const C=z.resolve(S,k,M),O=y.isRef(z)?z.absolute(k):[];return N.$_match(C,k.localize(O,[S,...k.ancestors],N),M)?S:D("object.assert",{subject:z,message:A})},args:["subject","schema","message"],multi:!0},instance:{method(S,D){return _(typeof S=="function","constructor must be a function"),D=D||S.name,this.$_addRule({name:"instance",args:{constructor:S,name:D}})},validate:(S,D,{constructor:M,name:k})=>S instanceof M?S:D.error("object.instance",{type:k,value:S}),args:["constructor","name"]},keys:{method(S){_(S===void 0||typeof S=="object","Object schema must be a valid object"),_(!p.isSchema(S),"Object schema cannot be a joi schema");const D=this.clone();if(S)if(Object.keys(S).length){D.$_terms.keys=D.$_terms.keys?D.$_terms.keys.filter(M=>!S.hasOwnProperty(M.key)):new E.Keys;for(const M in S)p.tryWithPath(()=>D.$_terms.keys.push({key:M,schema:this.$_compile(S[M])}),M)}else D.$_terms.keys=new E.Keys;else D.$_terms.keys=null;return D.$_mutateRebuild()}},length:{method(S){return this.$_addRule({name:"length",args:{limit:S},operator:"="})},validate:(S,D,{limit:M},{name:k,operator:z,args:N})=>p.compare(Object.keys(S).length,M,z)?S:D.error("object."+k,{limit:N.limit,value:S}),args:[{name:"limit",ref:!0,assert:p.limit,message:"must be a positive integer"}]},max:{method(S){return this.$_addRule({name:"max",method:"length",args:{limit:S},operator:"<="})}},min:{method(S){return this.$_addRule({name:"min",method:"length",args:{limit:S},operator:">="})}},nand:{method(...S){return p.verifyFlat(S,"nand"),E.dependency(this,"nand",null,S)}},or:{method(...S){return p.verifyFlat(S,"or"),E.dependency(this,"or",null,S)}},oxor:{method(...S){return E.dependency(this,"oxor",null,S)}},pattern:{method(S,D,M={}){const k=S instanceof RegExp;k||(S=this.$_compile(S,{appendPath:!0})),_(D!==void 0,"Invalid rule"),p.assertOptions(M,["fallthrough","matches"]),k&&_(!S.flags.includes("g")&&!S.flags.includes("y"),"pattern should not use global or sticky mode"),D=this.$_compile(D,{appendPath:!0});const z=this.clone();z.$_terms.patterns=z.$_terms.patterns||[];const N={[k?"regex":"schema"]:S,rule:D};return M.matches&&(N.matches=this.$_compile(M.matches),N.matches.type!=="array"&&(N.matches=N.matches.$_root.array().items(N.matches)),z.$_mutateRegister(N.matches),z.$_setFlag("_hasPatternMatch",!0,{clone:!1})),M.fallthrough&&(N.fallthrough=!0),z.$_terms.patterns.push(N),z.$_mutateRegister(D),z}},ref:{method(){return this.$_addRule("ref")},validate:(S,D)=>y.isRef(S)?S:D.error("object.refType",{value:S})},regex:{method(){return this.$_addRule("regex")},validate:(S,D)=>S instanceof RegExp?S:D.error("object.regex",{value:S})},rename:{method(S,D,M={}){_(typeof S=="string"||S instanceof RegExp,"Rename missing the from argument"),_(typeof D=="string"||D instanceof R,"Invalid rename to argument"),_(D!==S,"Cannot rename key to same name:",S),p.assertOptions(M,["alias","ignoreUndefined","override","multiple"]);const k=this.clone();k.$_terms.renames=k.$_terms.renames||[];for(const z of k.$_terms.renames)_(z.from!==S,"Cannot rename the same key multiple times");return D instanceof R&&k.$_mutateRegister(D),k.$_terms.renames.push({from:S,to:D,options:f(E.renameDefaults,M)}),k}},schema:{method(S="any"){return this.$_addRule({name:"schema",args:{type:S}})},validate:(S,D,{type:M})=>!p.isSchema(S)||M!=="any"&&S.type!==M?D.error("object.schema",{type:M}):S},unknown:{method(S){return this.$_setFlag("unknown",S!==!1)}},with:{method(S,D,M={}){return E.dependency(this,"with",S,D,M)}},without:{method(S,D,M={}){return E.dependency(this,"without",S,D,M)}},xor:{method(...S){return p.verifyFlat(S,"xor"),E.dependency(this,"xor",null,S)}}},overrides:{default(S,D){return S===void 0&&(S=p.symbols.deepDefault),this.$_parent("default",S,D)}},rebuild(S){if(S.$_terms.keys){const D=new w.Sorter;for(const M of S.$_terms.keys)p.tryWithPath(()=>D.add(M,{after:M.schema.$_rootReferences(),group:M.key}),M.key);S.$_terms.keys=new E.Keys(...D.nodes)}},manifest:{build(S,D){if(D.keys&&(S=S.keys(D.keys)),D.dependencies)for(const{rel:M,key:k=null,peers:z,options:N}of D.dependencies)S=E.dependency(S,M,k,z,N);if(D.patterns)for(const{regex:M,schema:k,rule:z,fallthrough:N,matches:A}of D.patterns)S=S.pattern(M||k,z,{fallthrough:N,matches:A});if(D.renames)for(const{from:M,to:k,options:z}of D.renames)S=S.rename(M,k,z);return S}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}}),E.clone=function(S,D){if(typeof S=="object"){if(D.nonEnumerables)return v(S,{shallow:!0});const k=Object.create(Object.getPrototypeOf(S));return Object.assign(k,S),k}const M=function(...k){return S.apply(this,k)};return M.prototype=v(S.prototype),Object.defineProperty(M,"name",{value:S.name,writable:!1}),Object.defineProperty(M,"length",{value:S.length,writable:!1}),Object.assign(M,S),M},E.dependency=function(S,D,M,k,z){_(M===null||typeof M=="string",D,"key must be a strings"),z||(z=k.length>1&&typeof k[k.length-1]=="object"?k.pop():{}),p.assertOptions(z,["separator","isPresent"]),k=[].concat(k);const N=p.default(z.separator,"."),A=[];for(const O of k)_(typeof O=="string",D,"peers must be strings"),A.push(b.ref(O,{separator:N,ancestor:0,prefix:!1}));M!==null&&(M=b.ref(M,{separator:N,ancestor:0,prefix:!1}));const C=S.clone();return C.$_terms.dependencies=C.$_terms.dependencies||[],C.$_terms.dependencies.push(new E.Dependency(D,M,A,k,z)),C},E.dependencies={and(S,D,M,k,z){const N=[],A=[],C=D.peers.length,O=E.isPresent(D.options);for(const L of D.peers)O(L.resolve(M,k,z,null,{shadow:!1}))===!1?N.push(L.key):A.push(L.key);if(N.length!==C&&A.length!==C)return{code:"object.and",context:{present:A,presentWithLabels:E.keysToLabels(S,A),missing:N,missingWithLabels:E.keysToLabels(S,N)}}},nand(S,D,M,k,z){const N=[],A=E.isPresent(D.options);for(const L of D.peers)A(L.resolve(M,k,z,null,{shadow:!1}))&&N.push(L.key);if(N.length!==D.peers.length)return;const C=D.paths[0],O=D.paths.slice(1);return{code:"object.nand",context:{main:C,mainWithLabel:E.keysToLabels(S,C),peers:O,peersWithLabels:E.keysToLabels(S,O)}}},or(S,D,M,k,z){const N=E.isPresent(D.options);for(const A of D.peers)if(N(A.resolve(M,k,z,null,{shadow:!1})))return;return{code:"object.missing",context:{peers:D.paths,peersWithLabels:E.keysToLabels(S,D.paths)}}},oxor(S,D,M,k,z){const N=[],A=E.isPresent(D.options);for(const O of D.peers)A(O.resolve(M,k,z,null,{shadow:!1}))&&N.push(O.key);if(!N.length||N.length===1)return;const C={peers:D.paths,peersWithLabels:E.keysToLabels(S,D.paths)};return C.present=N,C.presentWithLabels=E.keysToLabels(S,N),{code:"object.oxor",context:C}},with(S,D,M,k,z){const N=E.isPresent(D.options);for(const A of D.peers)if(N(A.resolve(M,k,z,null,{shadow:!1}))===!1)return{code:"object.with",context:{main:D.key.key,mainWithLabel:E.keysToLabels(S,D.key.key),peer:A.key,peerWithLabel:E.keysToLabels(S,A.key)}}},without(S,D,M,k,z){const N=E.isPresent(D.options);for(const A of D.peers)if(N(A.resolve(M,k,z,null,{shadow:!1})))return{code:"object.without",context:{main:D.key.key,mainWithLabel:E.keysToLabels(S,D.key.key),peer:A.key,peerWithLabel:E.keysToLabels(S,A.key)}}},xor(S,D,M,k,z){const N=[],A=E.isPresent(D.options);for(const O of D.peers)A(O.resolve(M,k,z,null,{shadow:!1}))&&N.push(O.key);if(N.length===1)return;const C={peers:D.paths,peersWithLabels:E.keysToLabels(S,D.paths)};return N.length===0?{code:"object.missing",context:C}:(C.present=N,C.presentWithLabels=E.keysToLabels(S,N),{code:"object.xor",context:C})}},E.keysToLabels=function(S,D){return Array.isArray(D)?D.map(M=>S.$_mapLabels(M)):S.$_mapLabels(D)},E.isPresent=function(S){return typeof S.isPresent=="function"?S.isPresent:D=>D!==void 0},E.rename=function(S,D,M,k,z){const N={};for(const A of S.$_terms.renames){const C=[],O=typeof A.from!="string";if(O)for(const L in D){if(D[L]===void 0&&A.options.ignoreUndefined||L===A.to)continue;const $=A.from.exec(L);$&&C.push({from:L,to:A.to,match:$})}else!Object.prototype.hasOwnProperty.call(D,A.from)||D[A.from]===void 0&&A.options.ignoreUndefined||C.push(A);for(const L of C){const $=L.from;let P=L.to;if(P instanceof R&&(P=P.render(D,M,k,L.match)),$!==P){if(!A.options.multiple&&N[P]&&(z.push(S.$_createError("object.rename.multiple",D,{from:$,to:P,pattern:O},M,k)),k.abortEarly)||Object.prototype.hasOwnProperty.call(D,P)&&!A.options.override&&!N[P]&&(z.push(S.$_createError("object.rename.override",D,{from:$,to:P,pattern:O},M,k)),k.abortEarly))return!1;D[$]===void 0?delete D[P]:D[P]=D[$],N[P]=!0,A.options.alias||delete D[$]}}}return!0},E.unknown=function(S,D,M,k,z,N){if(S.$_terms.patterns){let A=!1;const C=S.$_terms.patterns.map(L=>{if(L.matches)return A=!0,[]}),O=[D,...z.ancestors];for(const L of M){const $=D[L],P=[...z.path,L];for(let fe=0;fe<S.$_terms.patterns.length;++fe){const he=S.$_terms.patterns[fe];if(he.regex){const de=he.regex.test(L);if(z.mainstay.tracer.debug(z,"rule",`pattern.${fe}`,de?"pass":"error"),!de)continue}else if(!he.schema.$_match(L,z.nest(he.schema,`pattern.${fe}`),N))continue;M.delete(L);const K=z.localize(P,O,{schema:he.rule,key:L}),se=he.rule.$_validate($,K,N);if(se.errors){if(N.abortEarly)return{value:D,errors:se.errors};k.push(...se.errors)}if(he.matches&&C[fe].push(L),D[L]=se.value,!he.fallthrough)break}}if(A)for(let L=0;L<C.length;++L){const $=C[L];if(!$)continue;const P=S.$_terms.patterns[L].matches,fe=z.localize(z.path,O,P),he=P.$_validate($,fe,N);if(he.errors){const K=g.details(he.errors,{override:!1});K.matches=$;const se=S.$_createError("object.pattern.match",D,K,z,N);if(N.abortEarly)return{value:D,errors:se};k.push(se)}}}if(M.size&&(S.$_terms.keys||S.$_terms.patterns)){if(N.stripUnknown&&S._flags.unknown===void 0||N.skipFunctions){const A=!(!N.stripUnknown||N.stripUnknown!==!0&&!N.stripUnknown.objects);for(const C of M)A?(delete D[C],M.delete(C)):typeof D[C]=="function"&&M.delete(C)}if(!p.default(S._flags.unknown,N.allowUnknown))for(const A of M){const C=z.localize([...z.path,A],[]),O=S.$_createError("object.unknown",D[A],{child:A},C,N,{flags:!1});if(N.abortEarly)return{value:D,errors:O};k.push(O)}}},E.Dependency=class{constructor(S,D,M,k,z){this.rel=S,this.key=D,this.peers=M,this.paths=k,this.options=z}describe(){const S={rel:this.rel,peers:this.paths};return this.key!==null&&(S.key=this.key.key),this.peers[0].separator!=="."&&(S.options={...S.options,separator:this.peers[0].separator}),this.options.isPresent&&(S.options={...S.options,isPresent:this.options.isPresent}),S}},E.Keys=class extends Array{concat(S){const D=this.slice(),M=new Map;for(let k=0;k<D.length;++k)M.set(D[k].key,k);for(const k of S){const z=k.key,N=M.get(z);N!==void 0?D[N]={key:z,schema:D[N].schema.concat(k.schema)}:D.push(k)}return D}}},8785:(l,u,h)=>{const f=h(375),_=h(8068),v=h(8160),w=h(3292),m=h(6354),p={};l.exports=_.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:(b,g)=>b.ref(g),validate(b,{schema:g,state:y,prefs:R}){f(g.$_terms.link,"Uninitialized link schema");const E=p.generate(g,b,y,R),S=g.$_terms.link[0].ref;return E.$_validate(b,y.nest(E,`link:${S.display}:${E.type}`),R)},generate:(b,g,y,R)=>p.generate(b,g,y,R),rules:{ref:{method(b){f(!this.$_terms.link,"Cannot reinitialize schema"),b=w.ref(b),f(b.type==="value"||b.type==="local","Invalid reference type:",b.type),f(b.type==="local"||b.ancestor==="root"||b.ancestor>0,"Link cannot reference itself");const g=this.clone();return g.$_terms.link=[{ref:b}],g}},relative:{method(b=!0){return this.$_setFlag("relative",b)}}},overrides:{concat(b){f(this.$_terms.link,"Uninitialized link schema"),f(v.isSchema(b),"Invalid schema object"),f(b.type!=="link","Cannot merge type link with another link");const g=this.clone();return g.$_terms.whens||(g.$_terms.whens=[]),g.$_terms.whens.push({concat:b}),g.$_mutateRebuild()}},manifest:{build:(b,g)=>(f(g.link,"Invalid link description missing link"),b.ref(g.link))}}),p.generate=function(b,g,y,R){let E=y.mainstay.links.get(b);if(E)return E._generate(g,y,R).schema;const S=b.$_terms.link[0].ref,{perspective:D,path:M}=p.perspective(S,y);p.assert(D,"which is outside of schema boundaries",S,b,y,R);try{E=M.length?D.$_reach(M):D}catch{p.assert(!1,"to non-existing schema",S,b,y,R)}return p.assert(E.type!=="link","which is another link",S,b,y,R),b._flags.relative||y.mainstay.links.set(b,E),E._generate(g,y,R).schema},p.perspective=function(b,g){if(b.type==="local"){for(const{schema:y,key:R}of g.schemas){if((y._flags.id||R)===b.path[0])return{perspective:y,path:b.path.slice(1)};if(y.$_terms.shared){for(const E of y.$_terms.shared)if(E._flags.id===b.path[0])return{perspective:E,path:b.path.slice(1)}}}return{perspective:null,path:null}}return b.ancestor==="root"?{perspective:g.schemas[g.schemas.length-1].schema,path:b.path}:{perspective:g.schemas[b.ancestor]&&g.schemas[b.ancestor].schema,path:b.path}},p.assert=function(b,g,y,R,E,S){b||f(!1,`"${m.label(R._flags,E,S)}" contains link reference "${y.display}" ${g}`)}},3832:(l,u,h)=>{const f=h(375),_=h(8068),v=h(8160),w={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,exponentialPartRegex:/[eE][+-]?\d+$/,leadingSignAndZerosRegex:/^[+-]?(0*)?/,dotRegex:/\./,trailingZerosRegex:/0+$/,decimalPlaces(m){const p=m.toString(),b=p.indexOf("."),g=p.indexOf("e");return(b<0?0:(g<0?p.length:g)-b-1)+(g<0?0:Math.max(0,-parseInt(p.slice(g+1))))}};l.exports=_.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method(m,{schema:p,error:b}){if(!m.match(w.numberRx))return;m=m.trim();const g={value:parseFloat(m)};if(g.value===0&&(g.value=0),!p._flags.unsafe)if(m.match(/e/i)){if(w.extractSignificantDigits(m)!==w.extractSignificantDigits(String(g.value)))return g.errors=b("number.unsafe"),g}else{const y=g.value.toString();if(y.match(/e/i))return g;if(y!==w.normalizeDecimal(m))return g.errors=b("number.unsafe"),g}return g}},validate(m,{schema:p,error:b,prefs:g}){if(m===1/0||m===-1/0)return{value:m,errors:b("number.infinity")};if(!v.isNumber(m))return{value:m,errors:b("number.base")};const y={value:m};if(g.convert){const R=p.$_getRule("precision");if(R){const E=Math.pow(10,R.args.limit);y.value=Math.round(y.value*E)/E}}return y.value===0&&(y.value=0),!p._flags.unsafe&&(m>Number.MAX_SAFE_INTEGER||m<Number.MIN_SAFE_INTEGER)&&(y.errors=b("number.unsafe")),y},rules:{compare:{method:!1,validate:(m,p,{limit:b},{name:g,operator:y,args:R})=>v.compare(m,b,y)?m:p.error("number."+g,{limit:R.limit,value:m}),args:[{name:"limit",ref:!0,assert:v.isNumber,message:"must be a number"}]},greater:{method(m){return this.$_addRule({name:"greater",method:"compare",args:{limit:m},operator:">"})}},integer:{method(){return this.$_addRule("integer")},validate:(m,p)=>Math.trunc(m)-m==0?m:p.error("number.integer")},less:{method(m){return this.$_addRule({name:"less",method:"compare",args:{limit:m},operator:"<"})}},max:{method(m){return this.$_addRule({name:"max",method:"compare",args:{limit:m},operator:"<="})}},min:{method(m){return this.$_addRule({name:"min",method:"compare",args:{limit:m},operator:">="})}},multiple:{method(m){const p=typeof m=="number"?w.decimalPlaces(m):null,b=Math.pow(10,p);return this.$_addRule({name:"multiple",args:{base:m,baseDecimalPlace:p,pfactor:b}})},validate:(m,p,{base:b,baseDecimalPlace:g,pfactor:y},R)=>w.decimalPlaces(m)>g?p.error("number.multiple",{multiple:R.args.base,value:m}):Math.round(y*m)%Math.round(y*b)==0?m:p.error("number.multiple",{multiple:R.args.base,value:m}),args:[{name:"base",ref:!0,assert:m=>typeof m=="number"&&isFinite(m)&&m>0,message:"must be a positive number"},"baseDecimalPlace","pfactor"],multi:!0},negative:{method(){return this.sign("negative")}},port:{method(){return this.$_addRule("port")},validate:(m,p)=>Number.isSafeInteger(m)&&m>=0&&m<=65535?m:p.error("number.port")},positive:{method(){return this.sign("positive")}},precision:{method(m){return f(Number.isSafeInteger(m),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:m}})},validate(m,p,{limit:b}){const g=m.toString().match(w.precisionRx);return Math.max((g[1]?g[1].length:0)-(g[2]?parseInt(g[2],10):0),0)<=b?m:p.error("number.precision",{limit:b,value:m})},convert:!0},sign:{method(m){return f(["negative","positive"].includes(m),"Invalid sign",m),this.$_addRule({name:"sign",args:{sign:m}})},validate:(m,p,{sign:b})=>b==="negative"&&m<0||b==="positive"&&m>0?m:p.error(`number.${b}`)},unsafe:{method(m=!0){return f(typeof m=="boolean","enabled must be a boolean"),this.$_setFlag("unsafe",m)}}},cast:{string:{from:m=>typeof m=="number",to:(m,p)=>m.toString()}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}}),w.extractSignificantDigits=function(m){return m.replace(w.exponentialPartRegex,"").replace(w.dotRegex,"").replace(w.trailingZerosRegex,"").replace(w.leadingSignAndZerosRegex,"")},w.normalizeDecimal=function(m){return(m=m.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2")).includes(".")&&m.endsWith("0")&&(m=m.replace(/0+$/,"")),m==="-0"?"0":m}},8966:(l,u,h)=>{const f=h(7824);l.exports=f.extend({type:"object",cast:{map:{from:_=>_&&typeof _=="object",to:(_,v)=>new Map(Object.entries(_))}}})},7417:(l,u,h)=>{const f=h(375),_=h(5380),v=h(1745),w=h(9959),m=h(6064),p=h(9926),b=h(5752),g=h(8068),y=h(8160),R={tlds:p instanceof Set&&{tlds:{allow:p,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:{withPrefix:/^0x[0-9a-f]+$/i,withOptionalPrefix:/^(?:0x)?[0-9a-f]+$/i,withoutPrefix:/^[0-9a-f]+$/i},ipRegex:w.regex({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5",uuidv6:"6",uuidv7:"7",uuidv8:"8"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};l.exports=g.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method(E,{schema:S,state:D,prefs:M}){const k=S.$_getRule("normalize");k&&(E=E.normalize(k.args.form));const z=S.$_getRule("case");z&&(E=z.args.direction==="upper"?E.toLocaleUpperCase():E.toLocaleLowerCase());const N=S.$_getRule("trim");if(N&&N.args.enabled&&(E=E.trim()),S.$_terms.replacements)for(const C of S.$_terms.replacements)E=E.replace(C.pattern,C.replacement);const A=S.$_getRule("hex");if(A&&A.args.options.byteAligned&&E.length%2!=0&&(E=`0${E}`),S.$_getRule("isoDate")){const C=R.isoDate(E);C&&(E=C)}if(S._flags.truncate){const C=S.$_getRule("max");if(C){let O=C.args.limit;if(y.isResolvable(O)&&(O=O.resolve(E,D,M),!y.limit(O)))return{value:E,errors:S.$_createError("any.ref",O,{ref:C.args.limit,arg:"limit",reason:"must be a positive integer"},D,M)};E=E.slice(0,O)}}return{value:E}}},validate(E,{schema:S,error:D}){if(typeof E!="string")return{value:E,errors:D("string.base")};if(E===""){const M=S.$_getRule("min");return M&&M.args.limit===0?void 0:{value:E,errors:D("string.empty")}}},rules:{alphanum:{method(){return this.$_addRule("alphanum")},validate:(E,S)=>/^[a-zA-Z0-9]+$/.test(E)?E:S.error("string.alphanum")},base64:{method(E={}){return y.assertOptions(E,["paddingRequired","urlSafe"]),E={urlSafe:!1,paddingRequired:!0,...E},f(typeof E.paddingRequired=="boolean","paddingRequired must be boolean"),f(typeof E.urlSafe=="boolean","urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:E}})},validate:(E,S,{options:D})=>R.base64Regex[D.paddingRequired][D.urlSafe].test(E)?E:S.error("string.base64")},case:{method(E){return f(["lower","upper"].includes(E),"Invalid case:",E),this.$_addRule({name:"case",args:{direction:E}})},validate:(E,S,{direction:D})=>D==="lower"&&E===E.toLocaleLowerCase()||D==="upper"&&E===E.toLocaleUpperCase()?E:S.error(`string.${D}case`),convert:!0},creditCard:{method(){return this.$_addRule("creditCard")},validate(E,S){let D=E.length,M=0,k=1;for(;D--;){const z=E.charAt(D)*k;M+=z-9*(z>9),k^=3}return M>0&&M%10==0?E:S.error("string.creditCard")}},dataUri:{method(E={}){return y.assertOptions(E,["paddingRequired"]),E={paddingRequired:!0,...E},f(typeof E.paddingRequired=="boolean","paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:E}})},validate(E,S,{options:D}){const M=E.match(R.dataUriRegex);return M&&(!M[2]||M[2]!=="base64"||R.base64Regex[D.paddingRequired].false.test(M[3]))?E:S.error("string.dataUri")}},domain:{method(E){E&&y.assertOptions(E,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const S=R.addressOptions(E);return this.$_addRule({name:"domain",args:{options:E},address:S})},validate:(E,S,D,{address:M})=>_.isValid(E,M)?E:S.error("string.domain")},email:{method(E={}){y.assertOptions(E,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),f(E.multiple===void 0||typeof E.multiple=="boolean","multiple option must be an boolean");const S=R.addressOptions(E),D=new RegExp(`\\s*[${E.separator?m(E.separator):","}]\\s*`);return this.$_addRule({name:"email",args:{options:E},regex:D,address:S})},validate(E,S,{options:D},{regex:M,address:k}){const z=D.multiple?E.split(M):[E],N=[];for(const A of z)v.isValid(A,k)||N.push(A);return N.length?S.error("string.email",{value:E,invalids:N}):E}},guid:{alias:"uuid",method(E={}){y.assertOptions(E,["version","separator"]);let S="";if(E.version){const k=[].concat(E.version);f(k.length>=1,"version must have at least 1 valid version specified");const z=new Set;for(let N=0;N<k.length;++N){const A=k[N];f(typeof A=="string","version at position "+N+" must be a string");const C=R.guidVersions[A.toLowerCase()];f(C,"version at position "+N+" must be one of "+Object.keys(R.guidVersions).join(", ")),f(!z.has(C),"version at position "+N+" must not be a duplicate"),S+=C,z.add(C)}}f(R.guidSeparators.has(E.separator),'separator must be one of true, false, "-", or ":"');const D=E.separator===void 0?"[:-]?":E.separator===!0?"[:-]":E.separator===!1?"[]?":`\\${E.separator}`,M=new RegExp(`^([\\[{\\(]?)[0-9A-F]{8}(${D})[0-9A-F]{4}\\2?[${S||"0-9A-F"}][0-9A-F]{3}\\2?[${S?"89AB":"0-9A-F"}][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$`,"i");return this.$_addRule({name:"guid",args:{options:E},regex:M})},validate(E,S,D,{regex:M}){const k=M.exec(E);return k?R.guidBrackets[k[1]]!==k[k.length-1]?S.error("string.guid"):E:S.error("string.guid")}},hex:{method(E={}){return y.assertOptions(E,["byteAligned","prefix"]),E={byteAligned:!1,prefix:!1,...E},f(typeof E.byteAligned=="boolean","byteAligned must be boolean"),f(typeof E.prefix=="boolean"||E.prefix==="optional",'prefix must be boolean or "optional"'),this.$_addRule({name:"hex",args:{options:E}})},validate:(E,S,{options:D})=>(D.prefix==="optional"?R.hexRegex.withOptionalPrefix:D.prefix===!0?R.hexRegex.withPrefix:R.hexRegex.withoutPrefix).test(E)?D.byteAligned&&E.length%2!=0?S.error("string.hexAlign"):E:S.error("string.hex")},hostname:{method(){return this.$_addRule("hostname")},validate:(E,S)=>_.isValid(E,{minDomainSegments:1})||R.ipRegex.test(E)?E:S.error("string.hostname")},insensitive:{method(){return this.$_setFlag("insensitive",!0)}},ip:{method(E={}){y.assertOptions(E,["cidr","version"]);const{cidr:S,versions:D,regex:M}=w.regex(E),k=E.version?D:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:S,version:k}},regex:M})},validate:(E,S,{options:D},{regex:M})=>M.test(E)?E:D.version?S.error("string.ipVersion",{value:E,cidr:D.cidr,version:D.version}):S.error("string.ip",{value:E,cidr:D.cidr})},isoDate:{method(){return this.$_addRule("isoDate")},validate:(E,{error:S})=>R.isoDate(E)?E:S("string.isoDate")},isoDuration:{method(){return this.$_addRule("isoDuration")},validate:(E,S)=>R.isoDurationRegex.test(E)?E:S.error("string.isoDuration")},length:{method(E,S){return R.length(this,"length",E,"=",S)},validate(E,S,{limit:D,encoding:M},{name:k,operator:z,args:N}){const A=!M&&E.length;return y.compare(A,D,z)?E:S.error("string."+k,{limit:N.limit,value:E,encoding:M})},args:[{name:"limit",ref:!0,assert:y.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method(){return this.case("lower")}},max:{method(E,S){return R.length(this,"max",E,"<=",S)},args:["limit","encoding"]},min:{method(E,S){return R.length(this,"min",E,">=",S)},args:["limit","encoding"]},normalize:{method(E="NFC"){return f(R.normalizationForms.includes(E),"normalization form must be one of "+R.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:E}})},validate:(E,{error:S},{form:D})=>E===E.normalize(D)?E:S("string.normalize",{value:E,form:D}),convert:!0},pattern:{alias:"regex",method(E,S={}){f(E instanceof RegExp,"regex must be a RegExp"),f(!E.flags.includes("g")&&!E.flags.includes("y"),"regex should not use global or sticky mode"),typeof S=="string"&&(S={name:S}),y.assertOptions(S,["invert","name"]);const D=["string.pattern",S.invert?".invert":"",S.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:E,options:S},errorCode:D})},validate:(E,S,{regex:D,options:M},{errorCode:k})=>D.test(E)^M.invert?E:S.error(k,{name:M.name,regex:D,value:E}),args:["regex","options"],multi:!0},replace:{method(E,S){typeof E=="string"&&(E=new RegExp(m(E),"g")),f(E instanceof RegExp,"pattern must be a RegExp"),f(typeof S=="string","replacement must be a String");const D=this.clone();return D.$_terms.replacements||(D.$_terms.replacements=[]),D.$_terms.replacements.push({pattern:E,replacement:S}),D}},token:{method(){return this.$_addRule("token")},validate:(E,S)=>/^\w+$/.test(E)?E:S.error("string.token")},trim:{method(E=!0){return f(typeof E=="boolean","enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:E}})},validate:(E,S,{enabled:D})=>D&&E!==E.trim()?S.error("string.trim"):E,convert:!0},truncate:{method(E=!0){return f(typeof E=="boolean","enabled must be a boolean"),this.$_setFlag("truncate",E)}},uppercase:{method(){return this.case("upper")}},uri:{method(E={}){y.assertOptions(E,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme","encodeUri"]),E.domain&&y.assertOptions(E.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const{regex:S,scheme:D}=b.regex(E),M=E.domain?R.addressOptions(E.domain):null;return this.$_addRule({name:"uri",args:{options:E},regex:S,domain:M,scheme:D})},validate(E,S,{options:D},{regex:M,domain:k,scheme:z}){if(["http:/","https:/"].includes(E))return S.error("string.uri");let N=M.exec(E);if(!N&&S.prefs.convert&&D.encodeUri){const A=encodeURI(E);N=M.exec(A),N&&(E=A)}if(N){const A=N[1]||N[2];return!k||D.allowRelative&&!A||_.isValid(A,k)?E:S.error("string.domain",{value:A})}return D.relativeOnly?S.error("string.uriRelativeOnly"):D.scheme?S.error("string.uriCustomScheme",{scheme:z,value:E}):S.error("string.uri")}}},manifest:{build(E,S){if(S.replacements)for(const{pattern:D,replacement:M}of S.replacements)E=E.replace(D,M);return E}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}}),R.addressOptions=function(E){if(!E)return R.tlds||E;if(f(E.minDomainSegments===void 0||Number.isSafeInteger(E.minDomainSegments)&&E.minDomainSegments>0,"minDomainSegments must be a positive integer"),f(E.maxDomainSegments===void 0||Number.isSafeInteger(E.maxDomainSegments)&&E.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),E.tlds===!1)return E;if(E.tlds===!0||E.tlds===void 0)return f(R.tlds,"Built-in TLD list disabled"),Object.assign({},E,R.tlds);f(typeof E.tlds=="object","tlds must be true, false, or an object");const S=E.tlds.deny;if(S)return Array.isArray(S)&&(E=Object.assign({},E,{tlds:{deny:new Set(S)}})),f(E.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),f(!E.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),R.validateTlds(E.tlds.deny,"tlds.deny"),E;const D=E.tlds.allow;return D?D===!0?(f(R.tlds,"Built-in TLD list disabled"),Object.assign({},E,R.tlds)):(Array.isArray(D)&&(E=Object.assign({},E,{tlds:{allow:new Set(D)}})),f(E.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),R.validateTlds(E.tlds.allow,"tlds.allow"),E):E},R.validateTlds=function(E,S){for(const D of E)f(_.isValid(D,{minDomainSegments:1,maxDomainSegments:1}),`${S} must contain valid top level domain names`)},R.isoDate=function(E){if(!y.isIsoDate(E))return null;/.*T.*[+-]\d\d$/.test(E)&&(E+="00");const S=new Date(E);return isNaN(S.getTime())?null:S.toISOString()},R.length=function(E,S,D,M,k){return f(!k||!1,"Invalid encoding:",k),E.$_addRule({name:S,method:"length",args:{limit:D,encoding:k},operator:M})}},8826:(l,u,h)=>{const f=h(375),_=h(8068),v={};v.Map=class extends Map{slice(){return new v.Map(this)}},l.exports=_.extend({type:"symbol",terms:{map:{init:new v.Map}},coerce:{method(w,{schema:m,error:p}){const b=m.$_terms.map.get(w);return b&&(w=b),m._flags.only&&typeof w!="symbol"?{value:w,errors:p("symbol.map",{map:m.$_terms.map})}:{value:w}}},validate(w,{error:m}){if(typeof w!="symbol")return{value:w,errors:m("symbol.base")}},rules:{map:{method(w){w&&!w[Symbol.iterator]&&typeof w=="object"&&(w=Object.entries(w)),f(w&&w[Symbol.iterator],"Iterable must be an iterable or object");const m=this.clone(),p=[];for(const b of w){f(b&&b[Symbol.iterator],"Entry must be an iterable");const[g,y]=b;f(typeof g!="object"&&typeof g!="function"&&typeof g!="symbol","Key must not be of type object, function, or Symbol"),f(typeof y=="symbol","Value must be a Symbol"),m.$_terms.map.set(g,y),p.push(y)}return m.valid(...p)}}},manifest:{build:(w,m)=>(m.map&&(w=w.map(m.map)),w)},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})},8863:(l,u,h)=>{const f=h(375),_=h(8571),v=h(738),w=h(9621),m=h(8160),p=h(6354),b=h(493),g={result:Symbol("result")};u.entry=function(y,R,E){let S=m.defaults;E&&(f(E.warnings===void 0,"Cannot override warnings preference in synchronous validation"),f(E.artifacts===void 0,"Cannot override artifacts preference in synchronous validation"),S=m.preferences(m.defaults,E));const D=g.entry(y,R,S);f(!D.mainstay.externals.length,"Schema with external rules must use validateAsync()");const M={value:D.value};return D.error&&(M.error=D.error),D.mainstay.warnings.length&&(M.warning=p.details(D.mainstay.warnings)),D.mainstay.debug&&(M.debug=D.mainstay.debug),D.mainstay.artifacts&&(M.artifacts=D.mainstay.artifacts),M},u.entryAsync=async function(y,R,E){let S=m.defaults;E&&(S=m.preferences(m.defaults,E));const D=g.entry(y,R,S),M=D.mainstay;if(D.error)throw M.debug&&(D.error.debug=M.debug),D.error;if(M.externals.length){let z=D.value;const N=[];for(const A of M.externals){const C=A.state.path,O=A.schema.type==="link"?M.links.get(A.schema):null;let L,$,P=z;const fe=C.length?[z]:[],he=C.length?w(y,C):y;if(C.length){L=C[C.length-1];let K=z;for(const se of C.slice(0,-1))K=K[se],fe.unshift(K);$=fe[0],P=$[L]}try{const K=(de,Se)=>(O||A.schema).$_createError(de,P,Se,A.state,S),se=await A.method(P,{schema:A.schema,linked:O,state:A.state,prefs:E,original:he,error:K,errorsArray:g.errorsArray,warn:(de,Se)=>M.warnings.push((O||A.schema).$_createError(de,P,Se,A.state,S)),message:(de,Se)=>(O||A.schema).$_createError("external",P,Se,A.state,S,{messages:de})});if(se===void 0||se===P)continue;if(se instanceof p.Report){if(M.tracer.log(A.schema,A.state,"rule","external","error"),N.push(se),S.abortEarly)break;continue}if(Array.isArray(se)&&se[m.symbols.errors]){if(M.tracer.log(A.schema,A.state,"rule","external","error"),N.push(...se),S.abortEarly)break;continue}$?(M.tracer.value(A.state,"rule",P,se,"external"),$[L]=se):(M.tracer.value(A.state,"rule",z,se,"external"),z=se)}catch(K){throw S.errors.label&&(K.message+=` (${A.label})`),K}}if(D.value=z,N.length)throw D.error=p.process(N,y,S),M.debug&&(D.error.debug=M.debug),D.error}if(!S.warnings&&!S.debug&&!S.artifacts)return D.value;const k={value:D.value};return M.warnings.length&&(k.warning=p.details(M.warnings)),M.debug&&(k.debug=M.debug),M.artifacts&&(k.artifacts=M.artifacts),k},g.Mainstay=class{constructor(y,R,E){this.externals=[],this.warnings=[],this.tracer=y,this.debug=R,this.links=E,this.shadow=null,this.artifacts=null,this._snapshots=[]}snapshot(){this._snapshots.push({externals:this.externals.slice(),warnings:this.warnings.slice()})}restore(){const y=this._snapshots.pop();this.externals=y.externals,this.warnings=y.warnings}commit(){this._snapshots.pop()}},g.entry=function(y,R,E){const{tracer:S,cleanup:D}=g.tracer(R,E),M=E.debug?[]:null,k=R._ids._schemaChain?new Map:null,z=new g.Mainstay(S,M,k),N=R._ids._schemaChain?[{schema:R}]:null,A=new b([],[],{mainstay:z,schemas:N}),C=u.validate(y,R,A,E);D&&R.$_root.untrace();const O=p.process(C.errors,y,E);return{value:C.value,error:O,mainstay:z}},g.tracer=function(y,R){return y.$_root._tracer?{tracer:y.$_root._tracer._register(y)}:R.debug?(f(y.$_root.trace,"Debug mode not supported"),{tracer:y.$_root.trace()._register(y),cleanup:!0}):{tracer:g.ignore}},u.validate=function(y,R,E,S,D={}){if(R.$_terms.whens&&(R=R._generate(y,E,S).schema),R._preferences&&(S=g.prefs(R,S)),R._cache&&S.cache){const O=R._cache.get(y);if(E.mainstay.tracer.debug(E,"validate","cached",!!O),O)return O}const M=(O,L,$)=>R.$_createError(O,y,L,$||E,S),k={original:y,prefs:S,schema:R,state:E,error:M,errorsArray:g.errorsArray,warn:(O,L,$)=>E.mainstay.warnings.push(M(O,L,$)),message:(O,L)=>R.$_createError("custom",y,L,E,S,{messages:O})};E.mainstay.tracer.entry(R,E);const z=R._definition;if(z.prepare&&y!==void 0&&S.convert){const O=z.prepare(y,k);if(O){if(E.mainstay.tracer.value(E,"prepare",y,O.value),O.errors)return g.finalize(O.value,[].concat(O.errors),k);y=O.value}}if(z.coerce&&y!==void 0&&S.convert&&(!z.coerce.from||z.coerce.from.includes(typeof y))){const O=z.coerce.method(y,k);if(O){if(E.mainstay.tracer.value(E,"coerced",y,O.value),O.errors)return g.finalize(O.value,[].concat(O.errors),k);y=O.value}}const N=R._flags.empty;N&&N.$_match(g.trim(y,R),E.nest(N),m.defaults)&&(E.mainstay.tracer.value(E,"empty",y,void 0),y=void 0);const A=D.presence||R._flags.presence||(R._flags._endedSwitch?null:S.presence);if(y===void 0){if(A==="forbidden")return g.finalize(y,null,k);if(A==="required")return g.finalize(y,[R.$_createError("any.required",y,null,E,S)],k);if(A==="optional"){if(R._flags.default!==m.symbols.deepDefault)return g.finalize(y,null,k);E.mainstay.tracer.value(E,"default",y,{}),y={}}}else if(A==="forbidden")return g.finalize(y,[R.$_createError("any.unknown",y,null,E,S)],k);const C=[];if(R._valids){const O=R._valids.get(y,E,S,R._flags.insensitive);if(O)return S.convert&&(E.mainstay.tracer.value(E,"valids",y,O.value),y=O.value),E.mainstay.tracer.filter(R,E,"valid",O),g.finalize(y,null,k);if(R._flags.only){const L=R.$_createError("any.only",y,{valids:R._valids.values({display:!0})},E,S);if(S.abortEarly)return g.finalize(y,[L],k);C.push(L)}}if(R._invalids){const O=R._invalids.get(y,E,S,R._flags.insensitive);if(O){E.mainstay.tracer.filter(R,E,"invalid",O);const L=R.$_createError("any.invalid",y,{invalids:R._invalids.values({display:!0})},E,S);if(S.abortEarly)return g.finalize(y,[L],k);C.push(L)}}if(z.validate){const O=z.validate(y,k);if(O&&(E.mainstay.tracer.value(E,"base",y,O.value),y=O.value,O.errors)){if(!Array.isArray(O.errors))return C.push(O.errors),g.finalize(y,C,k);if(O.errors.length)return C.push(...O.errors),g.finalize(y,C,k)}}return R._rules.length?g.rules(y,C,k):g.finalize(y,C,k)},g.rules=function(y,R,E){const{schema:S,state:D,prefs:M}=E;for(const k of S._rules){const z=S._definition.rules[k.method];if(z.convert&&M.convert){D.mainstay.tracer.log(S,D,"rule",k.name,"full");continue}let N,A=k.args;if(k._resolve.length){A=Object.assign({},A);for(const O of k._resolve){const L=z.argsByName.get(O),$=A[O].resolve(y,D,M),P=L.normalize?L.normalize($):$,fe=m.validateArg(P,null,L);if(fe){N=S.$_createError("any.ref",$,{arg:O,ref:A[O],reason:fe},D,M);break}A[O]=P}}N=N||z.validate(y,E,A,k);const C=g.rule(N,k);if(C.errors){if(D.mainstay.tracer.log(S,D,"rule",k.name,"error"),k.warn){D.mainstay.warnings.push(...C.errors);continue}if(M.abortEarly)return g.finalize(y,C.errors,E);R.push(...C.errors)}else D.mainstay.tracer.log(S,D,"rule",k.name,"pass"),D.mainstay.tracer.value(D,"rule",y,C.value,k.name),y=C.value}return g.finalize(y,R,E)},g.rule=function(y,R){return y instanceof p.Report?(g.error(y,R),{errors:[y],value:null}):Array.isArray(y)&&y[m.symbols.errors]?(y.forEach(E=>g.error(E,R)),{errors:y,value:null}):{errors:null,value:y}},g.error=function(y,R){return R.message&&y._setTemplate(R.message),y},g.finalize=function(y,R,E){R=R||[];const{schema:S,state:D,prefs:M}=E;if(R.length){const z=g.default("failover",void 0,R,E);z!==void 0&&(D.mainstay.tracer.value(D,"failover",y,z),y=z,R=[])}if(R.length&&S._flags.error)if(typeof S._flags.error=="function"){R=S._flags.error(R),Array.isArray(R)||(R=[R]);for(const z of R)f(z instanceof Error||z instanceof p.Report,"error() must return an Error object")}else R=[S._flags.error];if(y===void 0){const z=g.default("default",y,R,E);D.mainstay.tracer.value(D,"default",y,z),y=z}if(S._flags.cast&&y!==void 0){const z=S._definition.cast[S._flags.cast];if(z.from(y)){const N=z.to(y,E);D.mainstay.tracer.value(D,"cast",y,N,S._flags.cast),y=N}}if(S.$_terms.externals&&M.externals&&M._externals!==!1)for(const{method:z}of S.$_terms.externals)D.mainstay.externals.push({method:z,schema:S,state:D,label:p.label(S._flags,D,M)});const k={value:y,errors:R.length?R:null};return S._flags.result&&(k.value=S._flags.result==="strip"?void 0:E.original,D.mainstay.tracer.value(D,S._flags.result,y,k.value),D.shadow(y,S._flags.result)),S._cache&&M.cache!==!1&&!S._refs.length&&S._cache.set(E.original,k),y===void 0||k.errors||S._flags.artifact===void 0||(D.mainstay.artifacts=D.mainstay.artifacts||new Map,D.mainstay.artifacts.has(S._flags.artifact)||D.mainstay.artifacts.set(S._flags.artifact,[]),D.mainstay.artifacts.get(S._flags.artifact).push(D.path)),k},g.prefs=function(y,R){const E=R===m.defaults;return E&&y._preferences[m.symbols.prefs]?y._preferences[m.symbols.prefs]:(R=m.preferences(R,y._preferences),E&&(y._preferences[m.symbols.prefs]=R),R)},g.default=function(y,R,E,S){const{schema:D,state:M,prefs:k}=S,z=D._flags[y];if(k.noDefaults||z===void 0)return R;if(M.mainstay.tracer.log(D,M,"rule",y,"full"),!z)return z;if(typeof z=="function"){const N=z.length?[_(M.ancestors[0]),S]:[];try{return z(...N)}catch(A){return void E.push(D.$_createError(`any.${y}`,null,{error:A},M,k))}}return typeof z!="object"?z:z[m.symbols.literal]?z.literal:m.isResolvable(z)?z.resolve(R,M,k):_(z)},g.trim=function(y,R){if(typeof y!="string")return y;const E=R.$_getRule("trim");return E&&E.args.enabled?y.trim():y},g.ignore={active:!1,debug:v,entry:v,filter:v,log:v,resolve:v,value:v},g.errorsArray=function(){const y=[];return y[m.symbols.errors]=!0,y}},2036:(l,u,h)=>{const f=h(375),_=h(9474),v=h(8160),w={};l.exports=w.Values=class{constructor(m,p){this._values=new Set(m),this._refs=new Set(p),this._lowercase=w.lowercases(m),this._override=!1}get length(){return this._values.size+this._refs.size}add(m,p){v.isResolvable(m)?this._refs.has(m)||(this._refs.add(m),p&&p.register(m)):this.has(m,null,null,!1)||(this._values.add(m),typeof m=="string"&&this._lowercase.set(m.toLowerCase(),m))}static merge(m,p,b){if(m=m||new w.Values,p){if(p._override)return p.clone();for(const g of[...p._values,...p._refs])m.add(g)}if(b)for(const g of[...b._values,...b._refs])m.remove(g);return m.length?m:null}remove(m){v.isResolvable(m)?this._refs.delete(m):(this._values.delete(m),typeof m=="string"&&this._lowercase.delete(m.toLowerCase()))}has(m,p,b,g){return!!this.get(m,p,b,g)}get(m,p,b,g){if(!this.length)return!1;if(this._values.has(m))return{value:m};if(typeof m=="string"&&m&&g){const y=this._lowercase.get(m.toLowerCase());if(y)return{value:y}}if(!this._refs.size&&typeof m!="object")return!1;if(typeof m=="object"){for(const y of this._values)if(_(y,m))return{value:y}}if(p)for(const y of this._refs){const R=y.resolve(m,p,b,null,{in:!0});if(R===void 0)continue;const E=y.in&&typeof R=="object"?Array.isArray(R)?R:Object.keys(R):[R];for(const S of E)if(typeof S==typeof m){if(g&&m&&typeof m=="string"){if(S.toLowerCase()===m.toLowerCase())return{value:S,ref:y}}else if(_(S,m))return{value:S,ref:y}}}return!1}override(){this._override=!0}values(m){if(m&&m.display){const p=[];for(const b of[...this._values,...this._refs])b!==void 0&&p.push(b);return p}return Array.from([...this._values,...this._refs])}clone(){const m=new w.Values(this._values,this._refs);return m._override=this._override,m}concat(m){f(!m._override,"Cannot concat override set of values");const p=new w.Values([...this._values,...m._values],[...this._refs,...m._refs]);return p._override=this._override,p}describe(){const m=[];this._override&&m.push({override:!0});for(const p of this._values.values())m.push(p&&typeof p=="object"?{value:p}:p);for(const p of this._refs.values())m.push(p.describe());return m}},w.Values.prototype[v.symbols.values]=!0,w.Values.prototype.slice=w.Values.prototype.clone,w.lowercases=function(m){const p=new Map;if(m)for(const b of m)typeof b=="string"&&p.set(b.toLowerCase(),b);return p}},978:(l,u,h)=>{const f=h(375),_=h(8571),v=h(1687),w=h(9621),m={};l.exports=function(p,b,g={}){if(f(p&&typeof p=="object","Invalid defaults value: must be an object"),f(!b||b===!0||typeof b=="object","Invalid source value: must be true, falsy or an object"),f(typeof g=="object","Invalid options: must be an object"),!b)return null;if(g.shallow)return m.applyToDefaultsWithShallow(p,b,g);const y=_(p);if(b===!0)return y;const R=g.nullOverride!==void 0&&g.nullOverride;return v(y,b,{nullOverride:R,mergeArrays:!1})},m.applyToDefaultsWithShallow=function(p,b,g){const y=g.shallow;f(Array.isArray(y),"Invalid keys");const R=new Map,E=b===!0?null:new Set;for(let M of y){M=Array.isArray(M)?M:M.split(".");const k=w(p,M);k&&typeof k=="object"?R.set(k,E&&w(b,M)||k):E&&E.add(M)}const S=_(p,{},R);if(!E)return S;for(const M of E)m.reachCopy(S,b,M);const D=g.nullOverride!==void 0&&g.nullOverride;return v(S,b,{nullOverride:D,mergeArrays:!1})},m.reachCopy=function(p,b,g){for(const E of g){if(!(E in b))return;const S=b[E];if(typeof S!="object"||S===null)return;b=S}const y=b;let R=p;for(let E=0;E<g.length-1;++E){const S=g[E];typeof R[S]!="object"&&(R[S]={}),R=R[S]}R[g[g.length-1]]=y}},375:(l,u,h)=>{const f=h(7916);l.exports=function(_,...v){if(!_)throw v.length===1&&v[0]instanceof Error?v[0]:new f(v)}},8571:(l,u,h)=>{const f=h(9621),_=h(4277),v=h(7043),w={needsProtoHack:new Set([_.set,_.map,_.weakSet,_.weakMap])};l.exports=w.clone=function(m,p={},b=null){if(typeof m!="object"||m===null)return m;let g=w.clone,y=b;if(p.shallow){if(p.shallow!==!0)return w.cloneWithShallow(m,p);g=D=>D}else if(y){const D=y.get(m);if(D)return D}else y=new Map;const R=_.getInternalProto(m);if(R===_.buffer)return!1;if(R===_.date)return new Date(m.getTime());if(R===_.regex)return new RegExp(m);const E=w.base(m,R,p);if(E===m)return m;if(y&&y.set(m,E),R===_.set)for(const D of m)E.add(g(D,p,y));else if(R===_.map)for(const[D,M]of m)E.set(D,g(M,p,y));const S=v.keys(m,p);for(const D of S){if(D==="__proto__")continue;if(R===_.array&&D==="length"){E.length=m.length;continue}const M=Object.getOwnPropertyDescriptor(m,D);M?M.get||M.set?Object.defineProperty(E,D,M):M.enumerable?E[D]=g(m[D],p,y):Object.defineProperty(E,D,{enumerable:!1,writable:!0,configurable:!0,value:g(m[D],p,y)}):Object.defineProperty(E,D,{enumerable:!0,writable:!0,configurable:!0,value:g(m[D],p,y)})}return E},w.cloneWithShallow=function(m,p){const b=p.shallow;(p=Object.assign({},p)).shallow=!1;const g=new Map;for(const y of b){const R=f(m,y);typeof R!="object"&&typeof R!="function"||g.set(R,R)}return w.clone(m,p,g)},w.base=function(m,p,b){if(b.prototype===!1)return w.needsProtoHack.has(p)?new p.constructor:p===_.array?[]:{};const g=Object.getPrototypeOf(m);if(g&&g.isImmutable)return m;if(p===_.array){const y=[];return g!==p&&Object.setPrototypeOf(y,g),y}if(w.needsProtoHack.has(p)){const y=new g.constructor;return g!==p&&Object.setPrototypeOf(y,g),y}return Object.create(g)}},9474:(l,u,h)=>{const f=h(4277),_={mismatched:null};l.exports=function(v,w,m){return m=Object.assign({prototype:!0},m),!!_.isDeepEqual(v,w,m,[])},_.isDeepEqual=function(v,w,m,p){if(v===w)return v!==0||1/v==1/w;const b=typeof v;if(b!==typeof w||v===null||w===null)return!1;if(b==="function"){if(!m.deepFunction||v.toString()!==w.toString())return!1}else if(b!=="object")return v!=v&&w!=w;const g=_.getSharedType(v,w,!!m.prototype);switch(g){case f.buffer:return!1;case f.promise:return v===w;case f.regex:return v.toString()===w.toString();case _.mismatched:return!1}for(let y=p.length-1;y>=0;--y)if(p[y].isSame(v,w))return!0;p.push(new _.SeenEntry(v,w));try{return!!_.isDeepEqualObj(g,v,w,m,p)}finally{p.pop()}},_.getSharedType=function(v,w,m){if(m)return Object.getPrototypeOf(v)!==Object.getPrototypeOf(w)?_.mismatched:f.getInternalProto(v);const p=f.getInternalProto(v);return p!==f.getInternalProto(w)?_.mismatched:p},_.valueOf=function(v){const w=v.valueOf;if(w===void 0)return v;try{return w.call(v)}catch(m){return m}},_.hasOwnEnumerableProperty=function(v,w){return Object.prototype.propertyIsEnumerable.call(v,w)},_.isSetSimpleEqual=function(v,w){for(const m of Set.prototype.values.call(v))if(!Set.prototype.has.call(w,m))return!1;return!0},_.isDeepEqualObj=function(v,w,m,p,b){const{isDeepEqual:g,valueOf:y,hasOwnEnumerableProperty:R}=_,{keys:E,getOwnPropertySymbols:S}=Object;if(v===f.array){if(!p.part){if(w.length!==m.length)return!1;for(let N=0;N<w.length;++N)if(!g(w[N],m[N],p,b))return!1;return!0}for(const N of w)for(const A of m)if(g(N,A,p,b))return!0}else if(v===f.set){if(w.size!==m.size)return!1;if(!_.isSetSimpleEqual(w,m)){const N=new Set(Set.prototype.values.call(m));for(const A of Set.prototype.values.call(w)){if(N.delete(A))continue;let C=!1;for(const O of N)if(g(A,O,p,b)){N.delete(O),C=!0;break}if(!C)return!1}}}else if(v===f.map){if(w.size!==m.size)return!1;for(const[N,A]of Map.prototype.entries.call(w))if(A===void 0&&!Map.prototype.has.call(m,N)||!g(A,Map.prototype.get.call(m,N),p,b))return!1}else if(v===f.error&&(w.name!==m.name||w.message!==m.message))return!1;const D=y(w),M=y(m);if((w!==D||m!==M)&&!g(D,M,p,b))return!1;const k=E(w);if(!p.part&&k.length!==E(m).length&&!p.skip)return!1;let z=0;for(const N of k)if(p.skip&&p.skip.includes(N))m[N]===void 0&&++z;else if(!R(m,N)||!g(w[N],m[N],p,b))return!1;if(!p.part&&k.length-z!==E(m).length)return!1;if(p.symbols!==!1){const N=S(w),A=new Set(S(m));for(const C of N){if(!p.skip||!p.skip.includes(C)){if(R(w,C)){if(!R(m,C)||!g(w[C],m[C],p,b))return!1}else if(R(m,C))return!1}A.delete(C)}for(const C of A)if(R(m,C))return!1}return!0},_.SeenEntry=class{constructor(v,w){this.obj=v,this.ref=w}isSame(v,w){return this.obj===v&&this.ref===w}}},7916:(l,u,h)=>{const f=h(8761);l.exports=class extends Error{constructor(_){super(_.filter(v=>v!=="").map(v=>typeof v=="string"?v:v instanceof Error?v.message:f(v)).join(" ")||"Unknown error"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,u.assert)}}},5277:l=>{const u={};l.exports=function(h){if(!h)return"";let f="";for(let _=0;_<h.length;++_){const v=h.charCodeAt(_);u.isSafe(v)?f+=h[_]:f+=u.escapeHtmlChar(v)}return f},u.escapeHtmlChar=function(h){return u.namedHtml.get(h)||(h>=256?"&#"+h+";":`&#x${h.toString(16).padStart(2,"0")};`)},u.isSafe=function(h){return u.safeCharCodes.has(h)},u.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]),u.safeCharCodes=function(){const h=new Set;for(let f=32;f<123;++f)(f>=97||f>=65&&f<=90||f>=48&&f<=57||f===32||f===46||f===44||f===45||f===58||f===95)&&h.add(f);return h}()},6064:l=>{l.exports=function(u){return u.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},738:l=>{l.exports=function(){}},1687:(l,u,h)=>{const f=h(375),_=h(8571),v=h(7043),w={};l.exports=w.merge=function(m,p,b){if(f(m&&typeof m=="object","Invalid target value: must be an object"),f(p==null||typeof p=="object","Invalid source value: must be null, undefined, or an object"),!p)return m;if(b=Object.assign({nullOverride:!0,mergeArrays:!0},b),Array.isArray(p)){f(Array.isArray(m),"Cannot merge array onto an object"),b.mergeArrays||(m.length=0);for(let y=0;y<p.length;++y)m.push(_(p[y],{symbols:b.symbols}));return m}const g=v.keys(p,b);for(let y=0;y<g.length;++y){const R=g[y];if(R==="__proto__"||!Object.prototype.propertyIsEnumerable.call(p,R))continue;const E=p[R];if(E&&typeof E=="object"){if(m[R]===E)continue;!m[R]||typeof m[R]!="object"||Array.isArray(m[R])!==Array.isArray(E)||E instanceof Date||E instanceof RegExp?m[R]=_(E,{symbols:b.symbols}):w.merge(m[R],E,b)}else(E!=null||b.nullOverride)&&(m[R]=E)}return m}},9621:(l,u,h)=>{const f=h(375),_={};l.exports=function(v,w,m){if(w===!1||w==null)return v;typeof(m=m||{})=="string"&&(m={separator:m});const p=Array.isArray(w);f(!p||!m.separator,"Separator option is not valid for array-based chain");const b=p?w:w.split(m.separator||".");let g=v;for(let y=0;y<b.length;++y){let R=b[y];const E=m.iterables&&_.iterables(g);if(Array.isArray(g)||E==="set"){const S=Number(R);Number.isInteger(S)&&(R=S<0?g.length+S:S)}if(!g||typeof g=="function"&&m.functions===!1||!E&&g[R]===void 0){f(!m.strict||y+1===b.length,"Missing segment",R,"in reach path ",w),f(typeof g=="object"||m.functions===!0||typeof g!="function","Invalid segment",R,"in reach path ",w),g=m.default;break}g=E?E==="set"?[...g][R]:g.get(R):g[R]}return g},_.iterables=function(v){return v instanceof Set?"set":v instanceof Map?"map":void 0}},8761:l=>{l.exports=function(...u){try{return JSON.stringify(...u)}catch(h){return"[Cannot display object: "+h.message+"]"}}},4277:(l,u)=>{const h={};u=l.exports={array:Array.prototype,buffer:!1,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},h.typeMap=new Map([["[object Error]",u.error],["[object Map]",u.map],["[object Promise]",u.promise],["[object Set]",u.set],["[object WeakMap]",u.weakMap],["[object WeakSet]",u.weakSet]]),u.getInternalProto=function(f){if(Array.isArray(f))return u.array;if(f instanceof Date)return u.date;if(f instanceof RegExp)return u.regex;if(f instanceof Error)return u.error;const _=Object.prototype.toString.call(f);return h.typeMap.get(_)||u.generic}},7043:(l,u)=>{u.keys=function(h,f={}){return f.symbols!==!1?Reflect.ownKeys(h):Object.getOwnPropertyNames(h)}},3652:(l,u,h)=>{const f=h(375),_={};u.Sorter=class{constructor(){this._items=[],this.nodes=[]}add(v,w){const m=[].concat((w=w||{}).before||[]),p=[].concat(w.after||[]),b=w.group||"?",g=w.sort||0;f(!m.includes(b),`Item cannot come before itself: ${b}`),f(!m.includes("?"),"Item cannot come before unassociated items"),f(!p.includes(b),`Item cannot come after itself: ${b}`),f(!p.includes("?"),"Item cannot come after unassociated items"),Array.isArray(v)||(v=[v]);for(const y of v){const R={seq:this._items.length,sort:g,before:m,after:p,group:b,node:y};this._items.push(R)}if(!w.manual){const y=this._sort();f(y,"item",b!=="?"?`added into group ${b}`:"","created a dependencies error")}return this.nodes}merge(v){Array.isArray(v)||(v=[v]);for(const m of v)if(m)for(const p of m._items)this._items.push(Object.assign({},p));this._items.sort(_.mergeSort);for(let m=0;m<this._items.length;++m)this._items[m].seq=m;const w=this._sort();return f(w,"merge created a dependencies error"),this.nodes}sort(){const v=this._sort();return f(v,"sort created a dependencies error"),this.nodes}_sort(){const v={},w=Object.create(null),m=Object.create(null);for(const R of this._items){const E=R.seq,S=R.group;m[S]=m[S]||[],m[S].push(E),v[E]=R.before;for(const D of R.after)w[D]=w[D]||[],w[D].push(E)}for(const R in v){const E=[];for(const S in v[R]){const D=v[R][S];m[D]=m[D]||[],E.push(...m[D])}v[R]=E}for(const R in w)if(m[R])for(const E of m[R])v[E].push(...w[R]);const p={};for(const R in v){const E=v[R];for(const S of E)p[S]=p[S]||[],p[S].push(R)}const b={},g=[];for(let R=0;R<this._items.length;++R){let E=R;if(p[R]){E=null;for(let S=0;S<this._items.length;++S){if(b[S]===!0)continue;p[S]||(p[S]=[]);const D=p[S].length;let M=0;for(let k=0;k<D;++k)b[p[S][k]]&&++M;if(M===D){E=S;break}}}E!==null&&(b[E]=!0,g.push(E))}if(g.length!==this._items.length)return!1;const y={};for(const R of this._items)y[R.seq]=R;this._items=[],this.nodes=[];for(const R of g){const E=y[R];this.nodes.push(E.node),this._items.push(E)}return!0}},_.mergeSort=(v,w)=>v.sort===w.sort?0:v.sort<w.sort?-1:1},5380:(l,u,h)=>{const f=h(443),_=h(2178),v={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:f.URL||URL};u.analyze=function(w,m={}){if(!w)return _.code("DOMAIN_NON_EMPTY_STRING");if(typeof w!="string")throw new Error("Invalid input: domain must be a string");if(w.length>256)return _.code("DOMAIN_TOO_LONG");if(v.nonAsciiRx.test(w)){if(m.allowUnicode===!1)return _.code("DOMAIN_INVALID_UNICODE_CHARS");w=w.normalize("NFC")}if(v.domainControlRx.test(w))return _.code("DOMAIN_INVALID_CHARS");w=v.punycode(w),m.allowFullyQualified&&w[w.length-1]==="."&&(w=w.slice(0,-1));const p=m.minDomainSegments||v.minDomainSegments,b=w.split(".");if(b.length<p)return _.code("DOMAIN_SEGMENTS_COUNT");if(m.maxDomainSegments&&b.length>m.maxDomainSegments)return _.code("DOMAIN_SEGMENTS_COUNT_MAX");const g=m.tlds;if(g){const y=b[b.length-1].toLowerCase();if(g.deny&&g.deny.has(y)||g.allow&&!g.allow.has(y))return _.code("DOMAIN_FORBIDDEN_TLDS")}for(let y=0;y<b.length;++y){const R=b[y];if(!R.length)return _.code("DOMAIN_EMPTY_SEGMENT");if(R.length>63)return _.code("DOMAIN_LONG_SEGMENT");if(y<b.length-1){if(!v.domainSegmentRx.test(R))return _.code("DOMAIN_INVALID_CHARS")}else if(!v.tldSegmentRx.test(R))return _.code("DOMAIN_INVALID_TLDS_CHARS")}return null},u.isValid=function(w,m){return!u.analyze(w,m)},v.punycode=function(w){w.includes("%")&&(w=w.replace(/%/g,"%25"));try{return new v.URL(`http://${w}`).host}catch{return w}}},1745:(l,u,h)=>{const f=h(9848),_=h(5380),v=h(2178),w={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(f.TextEncoder||TextEncoder)};u.analyze=function(m,p){return w.email(m,p)},u.isValid=function(m,p){return!w.email(m,p)},w.email=function(m,p={}){if(typeof m!="string")throw new Error("Invalid input: email must be a string");if(!m)return v.code("EMPTY_STRING");const b=!w.nonAsciiRx.test(m);if(!b){if(p.allowUnicode===!1)return v.code("FORBIDDEN_UNICODE");m=m.normalize("NFC")}const g=m.split("@");if(g.length!==2)return g.length>2?v.code("MULTIPLE_AT_CHAR"):v.code("MISSING_AT_CHAR");const[y,R]=g;if(!y)return v.code("EMPTY_LOCAL");if(!p.ignoreLength){if(m.length>254)return v.code("ADDRESS_TOO_LONG");if(w.encoder.encode(y).length>64)return v.code("LOCAL_TOO_LONG")}return w.local(y,b)||_.analyze(R,p)},w.local=function(m,p){const b=m.split(".");for(const g of b){if(!g.length)return v.code("EMPTY_LOCAL_SEGMENT");if(p){if(!w.atextRx.test(g))return v.code("INVALID_LOCAL_CHARS")}else for(const y of g){if(w.atextRx.test(y))continue;const R=w.binary(y);if(!w.atomRx.test(R))return v.code("INVALID_LOCAL_CHARS")}}},w.binary=function(m){return Array.from(w.encoder.encode(m)).map(p=>String.fromCharCode(p)).join("")},w.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,w.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},2178:(l,u)=>{u.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"},u.code=function(h){return{code:h,error:u.codes[h]}}},9959:(l,u,h)=>{const f=h(375),_=h(5752);u.regex=function(v={}){f(v.cidr===void 0||typeof v.cidr=="string","options.cidr must be a string");const w=v.cidr?v.cidr.toLowerCase():"optional";f(["required","optional","forbidden"].includes(w),"options.cidr must be one of required, optional, forbidden"),f(v.version===void 0||typeof v.version=="string"||Array.isArray(v.version),"options.version must be a string or an array of string");let m=v.version||["ipv4","ipv6","ipvfuture"];Array.isArray(m)||(m=[m]),f(m.length>=1,"options.version must have at least 1 version specified");for(let g=0;g<m.length;++g)f(typeof m[g]=="string","options.version must only contain strings"),m[g]=m[g].toLowerCase(),f(["ipv4","ipv6","ipvfuture"].includes(m[g]),"options.version contains unknown version "+m[g]+" - must be one of ipv4, ipv6, ipvfuture");m=Array.from(new Set(m));const p=`(?:${m.map(g=>{if(w==="forbidden")return _.ip[g];const y=`\\/${g==="ipv4"?_.ip.v4Cidr:_.ip.v6Cidr}`;return w==="required"?`${_.ip[g]}${y}`:`${_.ip[g]}(?:${y})?`}).join("|")})`,b=new RegExp(`^${p}$`);return{cidr:w,versions:m,regex:b,raw:p}}},5752:(l,u,h)=>{const f=h(375),_=h(6064),v={generate:function(){const w={},m="\\dA-Fa-f",p="["+m+"]",b="\\w-\\.~",g="!\\$&'\\(\\)\\*\\+,;=",y="%"+m,R=b+y+g+":@",E="["+R+"]",S="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";w.ipv4address="(?:"+S+"\\.){3}"+S;const D=p+"{1,4}",M="(?:"+D+":"+D+"|"+w.ipv4address+")",k="(?:"+D+":){6}"+M,z="::(?:"+D+":){5}"+M,N="(?:"+D+")?::(?:"+D+":){4}"+M,A="(?:(?:"+D+":){0,1}"+D+")?::(?:"+D+":){3}"+M,C="(?:(?:"+D+":){0,2}"+D+")?::(?:"+D+":){2}"+M,O="(?:(?:"+D+":){0,3}"+D+")?::"+D+":"+M,L="(?:(?:"+D+":){0,4}"+D+")?::"+M,$="(?:(?:"+D+":){0,5}"+D+")?::"+D,P="(?:(?:"+D+":){0,6}"+D+")?::";w.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",w.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",w.ipv6address="(?:"+k+"|"+z+"|"+N+"|"+A+"|"+C+"|"+O+"|"+L+"|"+$+"|"+P+")",w.ipvFuture="v"+p+"+\\.["+b+g+":]+",w.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",w.schemeRegex=new RegExp(w.scheme);const fe="["+b+y+g+":]*",he="["+b+y+g+"]{1,255}",K="(?:\\[(?:"+w.ipv6address+"|"+w.ipvFuture+")\\]|"+w.ipv4address+"|"+he+")",se="(?:"+fe+"@)?"+K+"(?::\\d*)?",de="(?:"+fe+"@)?("+K+")(?::\\d*)?",Se=E+"*",q=E+"+",W="(?:\\/"+Se+")*",le="\\/(?:"+q+W+")?",oe=q+W,ge="["+b+y+g+"@]+"+W,xe="(?:\\/\\/\\/"+Se+W+")";return w.hierPart="(?:(?:\\/\\/"+se+W+")|"+le+"|"+oe+"|"+xe+")",w.hierPartCapture="(?:(?:\\/\\/"+de+W+")|"+le+"|"+oe+")",w.relativeRef="(?:(?:\\/\\/"+se+W+")|"+le+"|"+ge+"|)",w.relativeRefCapture="(?:(?:\\/\\/"+de+W+")|"+le+"|"+ge+"|)",w.query="["+R+"\\/\\?]*(?=#|$)",w.queryWithSquareBrackets="["+R+"\\[\\]\\/\\?]*(?=#|$)",w.fragment="["+R+"\\/\\?]*",w}};v.rfc3986=v.generate(),u.ip={v4Cidr:v.rfc3986.ipv4Cidr,v6Cidr:v.rfc3986.ipv6Cidr,ipv4:v.rfc3986.ipv4address,ipv6:v.rfc3986.ipv6address,ipvfuture:v.rfc3986.ipvFuture},v.createRegex=function(w){const m=v.rfc3986,p="(?:\\?"+(w.allowQuerySquareBrackets?m.queryWithSquareBrackets:m.query)+")?(?:#"+m.fragment+")?",b=w.domain?m.relativeRefCapture:m.relativeRef;if(w.relativeOnly)return v.wrap(b+p);let g="";if(w.scheme){f(w.scheme instanceof RegExp||typeof w.scheme=="string"||Array.isArray(w.scheme),"scheme must be a RegExp, String, or Array");const E=[].concat(w.scheme);f(E.length>=1,"scheme must have at least 1 scheme specified");const S=[];for(let D=0;D<E.length;++D){const M=E[D];f(M instanceof RegExp||typeof M=="string","scheme at position "+D+" must be a RegExp or String"),M instanceof RegExp?S.push(M.source.toString()):(f(m.schemeRegex.test(M),"scheme at position "+D+" must be a valid scheme"),S.push(_(M)))}g=S.join("|")}const y="(?:"+(g?"(?:"+g+")":m.scheme)+":"+(w.domain?m.hierPartCapture:m.hierPart)+")",R=w.allowRelative?"(?:"+y+"|"+b+")":y;return v.wrap(R+p,g)},v.wrap=function(w,m){return{raw:w=`(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])${w}`,regex:new RegExp(`^${w}$`),scheme:m}},v.uriRegex=v.createRegex({}),u.regex=function(w={}){return w.scheme||w.allowRelative||w.relativeOnly||w.allowQuerySquareBrackets||w.domain?v.createRegex(w):v.uriRegex}},1447:(l,u)=>{const h={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*(\.[0-9]*)?){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:Symbol("formula"),settings:Symbol("settings")};u.Parser=class{constructor(f,_={}){if(!_[h.settings]&&_.constants)for(const v in _.constants){const w=_.constants[v];if(w!==null&&!["boolean","number","string"].includes(typeof w))throw new Error(`Formula constant ${v} contains invalid ${typeof w} value type`)}this.settings=_[h.settings]?_:Object.assign({[h.settings]:!0,constants:{},functions:{}},_),this.single=null,this._parts=null,this._parse(f)}_parse(f){let _=[],v="",w=0,m=!1;const p=g=>{if(w)throw new Error("Formula missing closing parenthesis");const y=_.length?_[_.length-1]:null;if(m||v||g){if(y&&y.type==="reference"&&g===")")return y.type="function",y.value=this._subFormula(v,y.value),void(v="");if(g===")"){const R=new u.Parser(v,this.settings);_.push({type:"segment",value:R})}else if(m){if(m==="]")return _.push({type:"reference",value:v}),void(v="");_.push({type:"literal",value:v})}else if(h.operatorCharacters.includes(v))y&&y.type==="operator"&&h.operators.includes(y.value+v)?y.value+=v:_.push({type:"operator",value:v});else if(v.match(h.numberRx))_.push({type:"constant",value:parseFloat(v)});else if(this.settings.constants[v]!==void 0)_.push({type:"constant",value:this.settings.constants[v]});else{if(!v.match(h.tokenRx))throw new Error(`Formula contains invalid token: ${v}`);_.push({type:"reference",value:v})}v=""}};for(const g of f)m?g===m?(p(),m=!1):v+=g:w?g==="("?(v+=g,++w):g===")"?(--w,w?v+=g:p(g)):v+=g:g in h.literals?m=h.literals[g]:g==="("?(p(),++w):h.operatorCharacters.includes(g)?(p(),v=g,p()):g!==" "?v+=g:p();p(),_=_.map((g,y)=>g.type!=="operator"||g.value!=="-"||y&&_[y-1].type!=="operator"?g:{type:"operator",value:"n"});let b=!1;for(const g of _){if(g.type==="operator"){if(h.operatorsPrefix.includes(g.value))continue;if(!b)throw new Error("Formula contains an operator in invalid position");if(!h.operators.includes(g.value))throw new Error(`Formula contains an unknown operator ${g.value}`)}else if(b)throw new Error("Formula missing expected operator");b=!b}if(!b)throw new Error("Formula contains invalid trailing operator");_.length===1&&["reference","literal","constant"].includes(_[0].type)&&(this.single={type:_[0].type==="reference"?"reference":"value",value:_[0].value}),this._parts=_.map(g=>{if(g.type==="operator")return h.operatorsPrefix.includes(g.value)?g:g.value;if(g.type!=="reference")return g.value;if(this.settings.tokenRx&&!this.settings.tokenRx.test(g.value))throw new Error(`Formula contains invalid reference ${g.value}`);return this.settings.reference?this.settings.reference(g.value):h.reference(g.value)})}_subFormula(f,_){const v=this.settings.functions[_];if(typeof v!="function")throw new Error(`Formula contains unknown function ${_}`);let w=[];if(f){let m="",p=0,b=!1;const g=()=>{if(!m)throw new Error(`Formula contains function ${_} with invalid arguments ${f}`);w.push(m),m=""};for(let y=0;y<f.length;++y){const R=f[y];b?(m+=R,R===b&&(b=!1)):R in h.literals&&!p?(m+=R,b=h.literals[R]):R!==","||p?(m+=R,R==="("?++p:R===")"&&--p):g()}g()}return w=w.map(m=>new u.Parser(m,this.settings)),function(m){const p=[];for(const b of w)p.push(b.evaluate(m));return v.call(m,...p)}}evaluate(f){const _=this._parts.slice();for(let v=_.length-2;v>=0;--v){const w=_[v];if(w&&w.type==="operator"){const m=_[v+1];_.splice(v+1,1);const p=h.evaluate(m,f);_[v]=h.single(w.value,p)}}return h.operatorsOrder.forEach(v=>{for(let w=1;w<_.length-1;)if(v.includes(_[w])){const m=_[w],p=h.evaluate(_[w-1],f),b=h.evaluate(_[w+1],f);_.splice(w,2);const g=h.calculate(m,p,b);_[w-1]=g===0?0:g}else w+=2}),h.evaluate(_[0],f)}},u.Parser.prototype[h.symbol]=!0,h.reference=function(f){return function(_){return _&&_[f]!==void 0?_[f]:null}},h.evaluate=function(f,_){return f===null?null:typeof f=="function"?f(_):f[h.symbol]?f.evaluate(_):f},h.single=function(f,_){if(f==="!")return!_;const v=-_;return v===0?0:v},h.calculate=function(f,_,v){if(f==="??")return h.exists(_)?_:v;if(typeof _=="string"||typeof v=="string"){if(f==="+")return(_=h.exists(_)?_:"")+(h.exists(v)?v:"")}else switch(f){case"^":return Math.pow(_,v);case"*":return _*v;case"/":return _/v;case"%":return _%v;case"+":return _+v;case"-":return _-v}switch(f){case"<":return _<v;case"<=":return _<=v;case">":return _>v;case">=":return _>=v;case"==":return _===v;case"!=":return _!==v;case"&&":return _&&v;case"||":return _||v}return null},h.exists=function(f){return f!=null}},9926:()=>{},5688:()=>{},9708:()=>{},1152:()=>{},443:()=>{},9848:()=>{},5934:l=>{l.exports=JSON.parse('{"version":"17.13.3"}')}},a={},function l(u){var h=a[u];if(h!==void 0)return h.exports;var f=a[u]={exports:{}};return r[u](f,f.exports,l),f.exports}(5107);var r,a})}(cd)),cd.exports}var b2=_2();const gn=h_(b2);function E2({toys:s}){const[t,r]=ee.useState([]),[a,l]=ee.useState(new Set),u=gn.object({title:gn.string().required(),image:gn.string().optional(),breadtext:gn.string().required(),price:gn.number().required(),quantity:gn.number().optional()}).unknown(!0);ee.useEffect(()=>{(async()=>{const v=sr(Yt,"Kundvagn"),m=(await Oi(v)).docs.map(p=>({id:p.id,...p.data()}));r(m),l(new Set(m.map(p=>p.id)))})()},[]);const h=async _=>{try{const v=s.find(b=>b.id===_);if(!v){console.error("Leksak hittades inte i listan");return}const{error:w}=u.validate(v);if(w){console.error("Valideringsfel:",w.details);return}const m=bs(Yt,"Kundvagn",_),p=await u_(m);if(p.exists()){const b=p.data();await ud(m,{...b,quantity:b.quantity+1})}else await ud(m,{...v,quantity:1});console.log("Leksak tillagd i kundvagnen!"),r(b=>b.find(y=>y.id===_)?b.map(y=>y.id===_?{...y,quantity:y.quantity+1}:y):[...b,{id:_,...v,quantity:1}]),l(b=>new Set(b).add(_))}catch(v){console.error("Fel vid tillgg av leksak till kundvagn:",v)}},f=async _=>{try{const v=bs(Yt,"Kundvagn",_),w=await u_(v);if(!w.exists())return;const m=w.data();m.quantity>1?await ud(v,{...m,quantity:m.quantity-1}):await Hc(v),r(p=>{const b=p.find(g=>g.id===_);return b?b.quantity>1?p.map(g=>g.id===_?{...g,quantity:g.quantity-1}:g):p.filter(g=>g.id!==_):p}),l(p=>{const b=new Set(p),g=t.find(y=>y.id===_);return g&&g.quantity===1&&b.delete(_),b})}catch(v){console.error("Fel vid borttagning av leksak frn kundvagn:",v)}};return ue.jsx("div",{children:ue.jsx("ul",{className:"toy-card",children:s.map(_=>{var v;return ue.jsxs("li",{className:"list-items",children:[ue.jsx("div",{className:"title-card",children:_.title}),ue.jsx("img",{className:"title-picture",src:_.image,alt:_.title}),ue.jsx("button",{id:"addBtn",onClick:()=>h(_.id),children:"LGG TILL"}),ue.jsx("button",{id:"remBtn",onClick:()=>f(_.id),children:"TA BORT"}),ue.jsx("p",{id:"quantityInCart",className:a.has(_.id)?"":"hidden",children:a.has(_.id)?`${((v=t.find(w=>w.id===_.id))==null?void 0:v.quantity)||0} st`:""}),ue.jsx("div",{className:"text-card",children:_.breadtext}),ue.jsxs("div",{className:"price-card",children:[_.price," kr"]})]},_.id)})})})}function T2(){const[s,t]=ee.useState([]);return ee.useEffect(()=>{(async()=>{const a=await Oi(sr(Yt,"AllToys")),l=await Oi(sr(Yt,"ExtraToys")),u=a.docs.map(_=>({id:_.id,..._.data()})),h=l.docs.map(_=>({id:_.id,..._.data()})),f=[...u,...h];t(f)})()},[]),ue.jsxs("main",{children:[ue.jsx("div",{children:ue.jsx("h2",{className:"headline",children:"VRA PRODUKTER"})}),ue.jsx(E2,{toys:s})]})}const w2=gn.string().required().messages({"string.empty":"Lsenordet krvs."});function f_({onChange:s}){const[t,r]=ee.useState(""),[a,l]=ee.useState(""),[u,h]=ee.useState(""),f="password",_=T_(),v=()=>{const w=w2.validate(t);w.error?(l(w.error.details[0].message),h("")):t!==f?(l("Fel lsenord, frsk igen tack!"),h("")):(_("/Login/AdminPanel"),l(""),h("Inloggningen lyckades!"))};return ue.jsx(ue.Fragment,{children:ue.jsxs("div",{className:"admin-field",children:[ue.jsx("label",{className:"admin-text",htmlFor:"admin-password",children:"Admin-Login"}),ue.jsx("input",{id:"admin-password",type:"password",value:t,onChange:w=>r(w.target.value),className:"admin-input-field",placeholder:"Ange Lsenord"}),ue.jsx("button",{onClick:v,id:"LoginBtn",children:"Logga In"}),a&&ue.jsx("p",{className:"error-field",children:a}),u&&ue.jsx("p",{className:"success-field",children:u})]})})}const v0=ee.createContext(),A2=({children:s})=>{const[t,r]=ee.useState([]);ee.useEffect(()=>{const l=m2(sr(Yt,"Kundvagn"),u=>{const h=u.docs.map(f=>({id:f.id,...f.data()}));r(h)});return()=>l()},[]);const a=async()=>{const l=sr(Yt,"Kundvagn"),h=(await Oi(l)).docs.map(f=>Hc(bs(Yt,"Kundvagn",f.id)));await Promise.all(h),console.log("Kundvagnen r tmd.")};return ue.jsx(v0.Provider,{value:{cartItems:t,setCartItems:r,clearCart:a},children:s})},S2=()=>ee.useContext(v0),R2=()=>{const{cartItems:s,clearCart:t}=S2(),[r,a]=ee.useState(!1),l=async()=>{await t(),a(!0),setTimeout(()=>a(!1),4e3)},u=s.reduce((h,f)=>{const _=f.quantity??1;return h+f.price*_},0);return ue.jsxs("main",{children:[ue.jsx("h2",{id:"your-cart",children:"DIN VARUKORG"}),r&&ue.jsx("p",{className:"thank-you",children:"Tack fr ditt kp! "}),s.length===0&&!r?ue.jsx("p",{className:"thank-you",children:"Varukorgen r tom"}):ue.jsxs(ue.Fragment,{children:[ue.jsx("ul",{className:"listed-items",children:s.map(h=>ue.jsxs("li",{className:"seperation",children:[ue.jsxs("p",{className:"title-text",children:[h.title," "]}),ue.jsx("img",{src:h.image,alt:h.title,id:"product-pic"})," ",ue.jsxs("p",{className:"quantity-text",children:[h.quantity??1," st"]})," ",ue.jsxs("p",{className:"price-text",children:[h.price," kr"]})]},h.id))}),ue.jsxs("p",{className:"total-price",children:["Totalt: ",u," kr"]}),ue.jsx("button",{id:"end-purchase-button",onClick:l,children:"Slutfr kp"}),ue.jsx($d,{to:"/Login",className:"admin-link"})]})]})},x2=async()=>{try{const t=(await Oi(sr(Yt,"ExtraToys"))).docs.map(r=>Hc(bs(Yt,"ExtraToys",r.id)));await Promise.all(t),console.log("ExtraToys har rensats.")}catch(s){throw console.error("Fel vid rensning av ExtraToys:",s),s}},C2=async s=>{try{await Hc(bs(Yt,"ExtraToys",s)),console.log(`Leksak med id ${s} har raderats frn ExtraToys.`)}catch(t){console.error("Kunde inte ta bort leksaken:",t)}};function D2(){const[s,t]=ee.useState([]),[r,a]=ee.useState([]),[l,u]=ee.useState({}),[h,f]=ee.useState(!1),[_,v]=ee.useState(!1),w=gn.object({title:gn.string().min(3).max(50).required(),price:gn.number().min(0).required(),breadtext:gn.string().allow(""),image:gn.string().uri().allow(""),quantity:gn.number().min(0)});ee.useEffect(()=>{(async()=>{const E=(await Oi(sr(Yt,"AllToys"))).docs.map(k=>({id:k.id,...k.data()}));t(E);const D=(await Oi(sr(Yt,"ExtraToys"))).docs.map(k=>({id:k.id,...k.data()}));a(D);const M={};[...E,...D].forEach(k=>{M[k.id]={title:k.title,price:k.price,breadtext:k.breadtext,image:k.image,quantity:k.quantity}}),u(M)})()},[]);const m=async()=>{const y={title:"Ny produkt",breadtext:"Beskrivning",image:"https://scontent-arn2-1.xx.fbcdn.net/v/t39.30808-6/458383024_10162048330247360_5508830640052136751_n.jpg?_nc_cat=104&ccb=1-7&_nc_sid=6ee11a&_nc_ohc=PUyAbWEdSBsQ7kNvwHzyqEA&_nc_oc=AdkXG8LUdaqK1HiAwY82eGYy_qfW6iOkgktdXRfq-GwA78ineTqWnCeGjDMawyPrVZJpDQNQNTsS0rtAvKlLSNgV&_nc_zt=23&_nc_ht=scontent-arn2-1.xx&_nc_gid=5oze6tWXtUWZ-unI_ZeUAg&oh=00_AfJAx2Ohb-dOC175vD2XjdeqNpF03cb14G9p8EM6A_dq5g&oe=682D2138",price:0,quantity:1},R=w.validate(y);if(R.error){console.error("Valideringsfel:",R.error.details[0].message);return}try{const E=await g0(sr(Yt,"ExtraToys"),y),S={id:E.id,...y};u(D=>({...D,[E.id]:{...y}})),a(D=>[...D,S])}catch(E){console.error("Fel vid tillgg av produkt:",E.message)}},p=async y=>{const R=l[y],E=w.validate(R);if(E.error){console.error("Valideringsfel:",E.error.details[0].message);return}const S=r.some(M=>M.id===y),D=S?"ExtraToys":"AllToys";try{await d2(bs(Yt,D,y),R),S?a(M=>M.map(k=>k.id===y?{...k,...R}:k)):t(M=>M.map(k=>k.id===y?{...k,...R}:k))}catch(M){console.error("Fel vid uppdatering:",M.message)}},b=(y,R,E)=>{u(S=>({...S,[y]:{...S[y],[R]:R==="price"||R==="quantity"?Number(E):E}}))},g=(y,R)=>ue.jsx("ul",{className:`list-${R}`,children:y.map(E=>{var S,D,M,k,z;return ue.jsxs("li",{className:"list-items-edit",children:[ue.jsx("p",{children:"Titel:"}),ue.jsx("div",{className:"sections-edit",contentEditable:!0,suppressContentEditableWarning:!0,onBlur:N=>b(E.id,"title",N.currentTarget.textContent),children:(S=l[E.id])==null?void 0:S.title}),ue.jsx("p",{children:"Pris:"}),ue.jsx("div",{className:"sections-edit",contentEditable:!0,suppressContentEditableWarning:!0,onBlur:N=>b(E.id,"price",N.currentTarget.textContent),children:(D=l[E.id])==null?void 0:D.price}),ue.jsx("p",{children:"Informationstext:"}),ue.jsx("div",{className:"sections-edit",contentEditable:!0,suppressContentEditableWarning:!0,onBlur:N=>b(E.id,"breadtext",N.currentTarget.textContent),children:(M=l[E.id])==null?void 0:M.breadtext}),ue.jsx("p",{children:"Bildlnk:"}),ue.jsx("div",{className:"sections-edit",contentEditable:!0,suppressContentEditableWarning:!0,onBlur:N=>b(E.id,"image",N.currentTarget.textContent),children:(k=l[E.id])==null?void 0:k.image}),ue.jsx("div",{className:"sections-edit",contentEditable:!0,suppressContentEditableWarning:!0,onBlur:N=>b(E.id,"quantity",N.currentTarget.textContent),children:(z=l[E.id])==null?void 0:z.quantity}),ue.jsx("button",{className:"save-btn",onClick:()=>p(E.id),children:"Spara"}),ue.jsx("div",{children:ue.jsx("button",{onClick:()=>C2(E.id),children:"Ta bort"})},E.id)]},E.id)})});return ue.jsx(ue.Fragment,{children:ue.jsxs("div",{className:"edit-container",children:[ue.jsx("button",{className:"buttons-editor",onClick:x2,children:"Ta bort ALLA nya produkter"}),ue.jsx("button",{className:"buttons-editor",onClick:m,children:"Lgg till ny produkt"}),ue.jsxs("div",{className:"buttons-in-editor",children:[ue.jsx("button",{className:"buttons-editor",onClick:()=>f(y=>!y),children:h?"Dlj originalprodukter":"Visa originalprodukter"}),ue.jsx("button",{className:"buttons-editor",onClick:()=>v(y=>!y),children:_?"Dlj nya produkter":"Visa nya produkter"})]}),h&&ue.jsxs(ue.Fragment,{children:[ue.jsx("h2",{children:"Originalprodukter"}),g(s,"original")]}),_&&ue.jsxs(ue.Fragment,{children:[ue.jsx("h2",{children:"Nya produkter"}),g(r,"new")]})]})})}function O2(){const[s,t]=ee.useState(""),[r,a]=ee.useState(""),[l,u]=ee.useState({}),[h,f]=ee.useState([]),_=sr(Yt,"produkter");ee.useEffect(()=>{(async()=>{const p=(await Oi(_)).docs.map(b=>({id:b.id,...b.data()}));f(p)})()},[]);const v=async()=>{const w=parseFloat(r);if(!s||isNaN(w)){u({newName:s?void 0:"Namn krvs",newPrice:isNaN(w)?"Ogiltigt pris":void 0});return}const m=await g0(_,{namn:s,pris:w});f(p=>[...p,{id:m.id,namn:s,pris:w}]),t(""),a(""),u({})};return ue.jsxs("div",{children:[ue.jsx(D2,{label:"Namn",value:s,onChange:t,placeholder:"Produktnamn",error:l.newName,label:"Pris",value:r,onChange:a,placeholder:"Pris i SEK",error:l.newPrice}),ue.jsx("button",{onClick:v,children:"Lgg till produkt"})]})}function I2(){return ue.jsx("main",{children:ue.jsxs(HT,{children:[ue.jsx(ya,{path:"/",element:ue.jsx(T2,{})}),ue.jsx(ya,{path:"/Cart",element:ue.jsx(R2,{})}),ue.jsx(ya,{path:"/Login",element:ue.jsx(f_,{})}),ue.jsx(ya,{path:"/Cart/Login",element:ue.jsx(f_,{})}),ue.jsx(ya,{path:"/Login/AdminPanel",element:ue.jsx(O2,{})})]})})}WE.createRoot(document.getElementById("root")).render(ue.jsx(GE.StrictMode,{children:ue.jsx(A2,{children:ue.jsx(m1,{children:ue.jsx(I2,{})})})}));
